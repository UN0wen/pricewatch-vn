{"version":3,"sources":["contexts/reducer.ts","utils/routes.ts","utils/storage.ts","contexts/context.tsx","components/NavBar/components/ScrollTop.tsx","utils/validate.ts","components/NavBar/NavBar.tsx","api/axios.ts","api/item.ts","images/empty.jpg","components/ItemPage/ItemPage.tsx","components/NotFound/NotFound.tsx","api/user.ts","components/SignIn/components/SignInModal.tsx","components/SignIn/SignIn.tsx","components/SignUp/components/SignUpModal.tsx","components/SignUp/SignUp.tsx","api/userItems.ts","components/ItemCard/ItemCard.tsx","components/Profile/components/EditPasswordForm.tsx","components/Profile/components/EditAccountForm.tsx","components/Profile/components/Account.tsx","components/Profile/Profile.tsx","components/Home/Home.tsx","components/SignOut/SignOut.tsx","theme.tsx","components/Search/Search.tsx","components/ItemAdd/components/itemForm.tsx","components/ItemAdd/ItemAdd.tsx","components/App/App.tsx","index.tsx"],"names":["AuthReducerActions","Routes","ACCOUNT","HOME","ITEM","SIGNIN","SIGNOUT","SIGNUP","PROFILE","SEARCH","ADDITEM","cookies","Cookies","CookieWrapper","getCookie","name","get","setCookie","data","expire","set","path","expires","removeCookie","remove","currentUser","currentJWT","initialState","user","token","loading","errorMessage","AuthReducer","action","type","REQUEST_LOGIN","LOGIN_SUCCESS","payload","auth_token","LOGOUT","LOGIN_ERROR","error","Error","anything","AuthStateContext","React","createContext","AuthDispatchContext","useAuthState","context","useContext","undefined","useAuthDispatch","AuthProvider","children","useReducer","dispatch","Provider","value","useStyles","makeStyles","theme","createStyles","root","position","bottom","spacing","right","ScrollTop","classes","trigger","useScrollTrigger","target","window","disableHysteresis","threshold","Zoom","in","onClick","event","anchor","ownerDocument","document","querySelector","scrollIntoView","behavior","block","role","className","isValidHttpUrl","string","url","URL","_","protocol","grow","flexGrow","homeButton","marginRight","title","display","breakpoints","up","margin","padding","alignItems","width","height","background","fade","palette","common","white","input","marginLeft","flex","iconButton","section","username","NavBar","history","useHistory","userAuth","useState","setValue","anchorEl","setAnchorEl","isMenuOpen","Boolean","handleMenuClose","menuId","renderMenu","Menu","getContentAnchorEl","anchorOrigin","vertical","horizontal","id","keepMounted","transformOrigin","open","onClose","MenuItem","push","Divider","AppBar","color","Toolbar","IconButton","edge","aria-label","Typography","variant","noWrap","onSubmit","e","preventDefault","InputBase","placeholder","inputProps","onChange","aria-controls","aria-haspopup","AddCircleOutlined","currentTarget","Button","Fab","size","AxiosInstance","axios","create","baseURL","getAllItems","a","response","Array","isArray","items","map","d","item_with_price","console","log","search","params","getItem","getItemPrices","itemPrices","price","createItem","item","requestOptions","headers","body","JSON","stringify","post","getItemFromURL","Number","status","paper","flexDirection","titleContentPrice","justifyContent","alignContent","buttonArea","titleContent","content","wordWrap","titleSubtile","cover","button","cardAction","text","vnd","chart","description","Line","props","Path","line","x","arg","y","val","curve","curveStepAfter","ItemPage","itemID","useParams","setItem","setItemPrices","setLoading","loadingPrices","setLoadingPrices","useEffect","result","fetchData","sort","b","time","forEach","ip","Date","imgURL","image_url","empty","updated","parseISO","Paper","CircularProgress","Card","CardMedia","image","CardContent","formatDistanceToNow","addSuffix","orientation","toLocaleString","align","CardActions","disableSpacing","fullWidth","labelComponent","dy","textAnchor","res","replace","Label","format","fromUnixTime","scaleName","showLine","showTicks","valueField","argumentField","seriesComponent","contentComponent","targetItem","point","NotFound","createUser","createUserPayload","getTime","jwt","defaults","errors","loginUser","loginPayload","logout","updatePassword","updatePayload","loginResponse","put","updateUsername","modal","backgroundColor","boxShadow","shadows","SignInModal","setOpen","Dialog","aria-labelledby","aria-describedby","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","onEnter","setTimeout","onExited","LinearProgress","marginTop","avatar","secondary","main","form","submit","SignIn","useForm","register","handleSubmit","setError","email","password","message","Container","component","maxWidth","CssBaseline","Avatar","noValidate","TextField","required","label","autoComplete","inputRef","helperText","autoFocus","Grid","container","Link","href","SignUpModal","defaultValues","repeat_password","SignUp","watch","useRef","current","xs","minLength","validate","justify","getAllUserItems","paddingTop","ItemCard","onClickItem","CardActionArea","CardHeader","subheader","flexItem","EditPasswordForm","callback","String","current_password","userPayload","defaultValue","EditAccountForm","shouldValidate","centeredTop","textAlign","editButton","emailLine","flexWrap","emailString","Account","edit","setEdit","onCancel","Email","direction","followed","marginBottom","Profile","setItems","idx","Home","SignOut","lightTheme","createMuiTheme","primary","lightBlue","deepPurple","red","A400","darkTheme","blue","purple","returnButton","query","URLSearchParams","useLocation","dataAvailable","length","Fragment","ItemForm","actionsContainer","resetContainer","getStepContent","step","ItemAdd","activeStep","setActiveStep","returnedItem","steps","handleClick","responseItem","handleNext","getStepButton","prevActiveStep","handleBack","handleSteps","Stepper","index","Step","StepLabel","StepContent","disabled","App","prefersDarkMode","useMediaQuery","catch","ThemeProvider","exact","Search","ReactDOM","render"],"mappings":"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","file":"static/js/main.6f2cf687.chunk.js","sourcesContent":["import { CookieWrapper } from \"../utils/storage\";\nimport { UserAuth } from \"./context\";\n\nconst currentUser = CookieWrapper.getCookie(\"userAuth\");\nconst currentJWT = CookieWrapper.getCookie(\"jwt\");\nconst user = currentUser\n  ? currentUser\n  : \"\";\nconst token = currentJWT\n  ? currentJWT\n  : \"\";\n  \nexport const initialState : UserAuth  = {\n  user: user || \"\",\n  token: token || \"\",\n  loading: false,\n  errorMessage: null\n};\n\nexport enum AuthReducerActions {\n    REQUEST_LOGIN,\n    LOGIN_SUCCESS,\n    LOGOUT,\n    LOGIN_ERROR\n}\n\nexport interface AuthDispatch {\n    type: AuthReducerActions,\n    payload: { user: any; auth_token: string; },\n    error: Error\n}\n\nexport const AuthReducer = (initialState: any, action: AuthDispatch) => {\n  switch (action.type) {\n    case AuthReducerActions.REQUEST_LOGIN:\n      return {\n        ...initialState,\n        loading: true\n      };\n    case AuthReducerActions.LOGIN_SUCCESS:\n      return {\n        ...initialState,\n        user: action.payload.user,\n        token: action.payload.auth_token,\n        loading: false\n      };\n    case AuthReducerActions.LOGOUT:\n      return {\n        ...initialState,\n        user: \"\",\n        token: \"\"\n      };\n \n    case AuthReducerActions.LOGIN_ERROR:\n      return {\n        ...initialState,\n        loading: false,\n        errorMessage: action.error\n      };\n \n    default:\n      throw new Error(`Unhandled action type: ${action.type}`);\n  }\n};","const Routes = {\n  ACCOUNT: '/account',\n  HOME: '/',\n  ITEM: '/item/:itemID',\n  SIGNIN: '/signin',\n  SIGNOUT: '/signout',\n  SIGNUP: '/signup',\n  PROFILE: '/profile',\n  SEARCH: '/search',\n  ADDITEM: '/item/add'\n}\n\nexport default Routes\n","import Cookies from \"universal-cookie\";\nconst cookies = new Cookies();\n\nexport const CookieWrapper = (function () {\n  const getCookie = function (name:string) {\n    return cookies.get(name);\n  };\n\n  const setCookie = function (name: string, data: any, expire: Date) {\n    cookies.set(name, data, {\n      path: \"/\",\n      expires: expire,\n    });\n  };\n\n  const removeCookie = function () {\n    cookies.remove(\"userAuth\");\n    cookies.remove(\"jwt\");\n  };\n\n  return {\n    getCookie: getCookie,\n    setCookie: setCookie,\n    removeCookie: removeCookie,\n  };\n})();\n","import React from 'react'\nimport { User } from '../api/models'\nimport { AuthDispatch, AuthReducer, initialState } from './reducer'\n\nconst anything = {} as any\nconst AuthStateContext = React.createContext<UserAuth>(initialState)\nconst AuthDispatchContext = React.createContext<React.Dispatch<AuthDispatch>>(\n  anything\n)\n\n// interface for userauth objects stored in cookies\nexport interface UserAuth {\n  user: User\n  token: string\n  loading: boolean\n  errorMessage: any\n}\n\nexport function useAuthState() {\n  const context = React.useContext(AuthStateContext)\n  if (context === undefined) {\n    throw new Error('useAuthState must be used within a AuthProvider')\n  }\n\n  return context\n}\n\nexport function useAuthDispatch() {\n  const context = React.useContext(AuthDispatchContext)\n  if (context === undefined) {\n    throw new Error('useAuthDispatch must be used within a AuthProvider')\n  }\n\n  return context\n}\n\nexport const AuthProvider = ({ children }) => {\n  const [user, dispatch] = React.useReducer(AuthReducer, initialState)\n\n  return (\n    <AuthStateContext.Provider value={user}>\n      <AuthDispatchContext.Provider value={dispatch}>\n        {children}\n      </AuthDispatchContext.Provider>\n    </AuthStateContext.Provider>\n  )\n}\n","import {  Theme, useScrollTrigger, Zoom } from \"@material-ui/core\";\nimport { makeStyles,  createStyles} from '@material-ui/core/styles'\n\nimport React from \"react\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      position: 'fixed',\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    },\n  }),\n);\n\nexport default function ScrollTop( {children} ) {\n  const classes = useStyles();\n  // Note that you normally won't need to set the window ref as useScrollTrigger\n  // will default to window.\n  // This is only being set here because the demo is in an iframe.\n  const trigger = useScrollTrigger({\n    target: window,\n    disableHysteresis: true,\n    threshold: 100,\n  });\n\n  const handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    const anchor = ((event.target as HTMLDivElement).ownerDocument || document).querySelector(\n      '#back-to-top-anchor',\n    );\n      \n    if (anchor) {\n      anchor.scrollIntoView({ behavior: 'smooth', block: 'center' });\n    }\n  };\n\n  return (\n    <Zoom in={trigger}>\n      <div onClick={handleClick} role=\"presentation\" className={classes.root}>\n        {children}\n      </div>\n    </Zoom>\n  );\n}","export function isValidHttpUrl(string: string) {\n  let url\n\n  try {\n    url = new URL(string)\n  } catch (_) {\n    return false\n  }\n\n  return url.protocol === 'http:' || url.protocol === 'https:'\n}","import React from 'react'\nimport { fade, makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport HomeIcon from '@material-ui/icons/Home'\nimport SearchIcon from '@material-ui/icons/Search'\nimport AccountCircle from '@material-ui/icons/AccountCircle'\nimport KeyboardArrowUp from '@material-ui/icons/KeyboardArrowUp'\nimport {\n  AppBar,\n  Toolbar,\n  IconButton,\n  Typography,\n  InputBase,\n  MenuItem,\n  Menu,\n  Divider,\n  Button,\n  Fab,\n} from '@material-ui/core'\nimport { useHistory } from 'react-router-dom'\nimport Routes from '../../utils/routes'\nimport { useAuthState } from '../../contexts/context'\nimport ScrollTop from './components/ScrollTop'\nimport { AddCircleOutlined } from '@material-ui/icons'\nimport { isValidHttpUrl } from '../../utils/validate'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    grow: {\n      flexGrow: 1,\n    },\n    homeButton: {\n      marginRight: theme.spacing(2),\n    },\n    title: {\n      display: 'none',\n      [theme.breakpoints.up('sm')]: {\n        display: 'block',\n      },\n    },\n    root: {\n      margin: theme.spacing(1, 1, 1, 4),\n      padding: theme.spacing(1),\n      display: 'flex',\n      alignItems: 'center',\n      width: '75%',\n      height: 40,\n      background: fade(theme.palette.common.white, 0.15),\n    },\n    input: {\n      marginLeft: theme.spacing(1),\n      flex: 1,\n    },\n    iconButton: {\n      padding: 10,\n    },\n    section: {\n      display: 'none',\n      [theme.breakpoints.up('md')]: {\n        display: 'flex',\n      },\n    },\n    username: {\n      padding: theme.spacing(0, 2),\n    },\n  })\n)\n\nexport default function NavBar() {\n  const history = useHistory()\n  const classes = useStyles()\n  const userAuth = useAuthState()\n  const [value, setValue] = React.useState('')\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null)\n\n  const isMenuOpen = Boolean(anchorEl)\n\n  const handleProfileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget)\n  }\n\n  const handleMenuClose = () => {\n    setAnchorEl(null)\n  }\n\n  const onSubmit = (e) => {\n    e.preventDefault()\n    if (isValidHttpUrl(value)) {\n      history.push(`/item/add?url=${value}`)\n      return\n    }\n    history.push(`/search?q=${value}`)\n    setValue('')\n  }\n\n  const menuId = 'primary-search-account-menu'\n  const renderMenu = (\n    <Menu\n      anchorEl={anchorEl}\n      getContentAnchorEl={null}\n      anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n      id={menuId}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'center' }}\n      open={isMenuOpen}\n      onClose={handleMenuClose}\n    >\n      <MenuItem\n        onClick={() => {\n          history.push(Routes.PROFILE)\n          handleMenuClose()\n        }}\n      >\n        Signed in as {userAuth.user.username}\n      </MenuItem>\n      <Divider />\n      <MenuItem\n        onClick={() => {\n          history.push(Routes.PROFILE)\n          handleMenuClose()\n        }}\n      >\n        Profile\n      </MenuItem>\n      <MenuItem\n        onClick={() => {\n          history.push(Routes.ADDITEM)\n          handleMenuClose()\n        }}\n      >\n        Add New Item\n      </MenuItem>\n      <MenuItem\n        onClick={() => {\n          history.push(Routes.SIGNOUT)\n          handleMenuClose()\n        }}\n      >\n        Sign Out\n      </MenuItem>\n    </Menu>\n  )\n\n  return (\n    <div className={classes.grow}>\n      <AppBar position=\"sticky\" color=\"default\">\n        <Toolbar id=\"back-to-top-anchor\">\n          <IconButton\n            edge=\"start\"\n            className={classes.homeButton}\n            color=\"inherit\"\n            aria-label=\"home\"\n            onClick={() => {\n              history.push('/')\n            }}\n          >\n            <HomeIcon />\n          </IconButton>\n          <Typography className={classes.title} variant=\"h6\" noWrap>\n            PriceWatch-VN\n          </Typography>\n          <form onSubmit={onSubmit} className={classes.root}>\n            <InputBase\n              className={classes.input}\n              placeholder=\"Search or URL to add new item (e.g. tiki.vn, shopee.vn)\"\n              inputProps={{ 'aria-label': 'search' }}\n              onChange={(event) => {\n                setValue(event.target.value)\n              }}\n            />\n            <IconButton\n              type=\"submit\"\n              className={classes.iconButton}\n              aria-label=\"search\"\n            >\n              <SearchIcon />\n            </IconButton>\n          </form>\n          <div className={classes.grow} />\n          <div className={classes.section}>\n            {userAuth.user ? (\n              <div>\n                <IconButton\n                  edge=\"end\"\n                  aria-label=\"add new item\"\n                  aria-controls={menuId}\n                  aria-haspopup=\"true\"\n                  onClick={() => {history.push(Routes.ADDITEM)}}\n                  color=\"inherit\"\n                >\n                  <AddCircleOutlined />\n                </IconButton>\n                <IconButton\n                  edge=\"end\"\n                  aria-label=\"account of current user\"\n                  aria-controls={menuId}\n                  aria-haspopup=\"true\"\n                  onClick={handleProfileMenuOpen}\n                  color=\"inherit\"\n                >\n                  <AccountCircle />\n                </IconButton>\n              </div>\n            ) : (\n              <div>\n                <Button\n                  color=\"inherit\"\n                  onClick={() => {\n                    history.push(Routes.SIGNUP)\n                    handleMenuClose()\n                  }}\n                >\n                  Sign Up\n                </Button>\n                <Button\n                  color=\"inherit\"\n                  onClick={() => {\n                    history.push(Routes.SIGNIN)\n                    handleMenuClose()\n                  }}\n                >\n                  Sign In\n                </Button>\n              </div>\n            )}\n          </div>\n        </Toolbar>\n      </AppBar>\n      {renderMenu}\n      <ScrollTop>\n        <Fab color=\"secondary\" size=\"small\" aria-label=\"scroll back to top\">\n          <KeyboardArrowUp />\n        </Fab>\n      </ScrollTop>\n    </div>\n  )\n}\n","import axios from 'axios'\n\nexport const AxiosInstance = axios.create({\n  baseURL: 'http://pricewatch-vn.herokuapp.com/api',\n})\n\n\n","import { AxiosInstance } from './axios'\nimport { Item, ItemPrice, ItemWithPrice } from './models'\n\ntype CreateItemPayload = {\n  item: {\n    url: string\n  }\n}\n\n// Returns an array of items with prices\nexport async function getAllItems() {\n  try {\n    const response = await AxiosInstance.get('/items/prices')\n    const data = response.data\n    if (Array.isArray(data)) {\n      const items = data.map((d) => <ItemWithPrice>d.item_with_price)\n      return items\n    }\n    return null\n  } catch (err) {\n    console.log(err.response.data.error)\n    return null\n  }\n}\n\n// Returns an array of items with prices\nexport async function search(params: URLSearchParams) {\n  try {\n    const response = await AxiosInstance.get('/items/search', { params })\n    const data = response.data\n    if (Array.isArray(data)) {\n      const items = data.map((d) => <ItemWithPrice>d.item_with_price)\n      return items\n    }\n    return null\n  } catch (err) {\n    console.log(err.response.data.error)\n    return null\n  }\n}\n\n// Returns an item with its price\nexport async function getItem(id: string) {\n  try {\n    const response = await AxiosInstance.get(`/item/${id}`)\n    const data = response.data\n    if (data.item_with_price) {\n      return <ItemWithPrice>data.item_with_price\n    }\n    return null\n  } catch (err) {\n    console.log(err.response.data.error)\n    return null\n  }\n}\n\n// Returns an item's latest price\nexport async function getItemPrice(id: string) {\n  try {\n    const response = await AxiosInstance.get(`/item/${id}/price`)\n    const data = response.data\n    if (data.item) {\n      return <ItemPrice>data.price\n    }\n    return null\n  } catch (err) {\n    console.log(err.response.data.error)\n    return null\n  }\n}\n\n// Returns all item's prices\nexport async function getItemPrices(id: string) {\n  try {\n    const response = await AxiosInstance.get(`/item/${id}/prices`)\n    const data = response.data\n    if (Array.isArray(data)) {\n      const itemPrices = data.map((d) => <ItemPrice>d.price)\n      return itemPrices\n    }\n    return null\n  } catch (err) {\n    console.log(err.response.data.error)\n    return null\n  }\n}\n\nexport async function createItem(item: any) {\n  const payload = {\n    item: item\n  }\n  const requestOptions = {\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  }\n  try {\n    const response = await AxiosInstance.post(`/item`, payload, requestOptions)\n    const data = response.data\n    if (data) {\n      return <Item>data.item\n    }\n    return null\n  } catch (err) {\n    console.log(err.response.data.error)\n    return null\n  }\n}\n\nexport async function checkURL(payload: CreateItemPayload): Promise<boolean> {\n  const requestOptions = {\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  }\n  try {\n    await AxiosInstance.post(`/item/validate`, payload, requestOptions)\n\n    return true\n  } catch (err) {\n    console.log(err.response.data.error)\n    return false\n  }\n}\n\nexport async function getItemFromURL(payload: CreateItemPayload): Promise<any> {\n  const requestOptions = {\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  }\n  try {\n    const response = await AxiosInstance.post(`/item/url`, payload, requestOptions)\n\n    const data = response.data\n    if (data) {\n      return <Item>data.item\n    }\n\n    return 400\n  } catch (err) {\n    return Number(err.response.status)\n  }\n}","export default \"data:image/jpeg;base64,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A8U8A408888U488s88c88M8scUsMc488008s88s888cc888s48c0ss8s88ss88c8888880s8888M8o8oMcccsM8M8Es884csE8c8oss8888E848s48088o848Qg8848sU8888co88c8E8s8M4cs8888Qs4488o88E8c8Ms888c8A8s8Msc884sYkY0U88s8sE8c8Ms88888U8884880I4M0M8Isc8s88c888888M8c8gso8QMUMQocw888Mg4g84QcUs8c88888U848wM0cYAAAAAAAAQI88w808w888888E8s8IoY8A4MY88Q88oE80E8c80888s88U88kscg0AoIAs4QI0oU8cU888c888sscEc48AI4UAs88sEAwookMsQ80sAMs8888E8s8s4k4A8oEMgAAgoA88M8c8c8s8888E8s448MQA4QAAAAAUgQ80c8c88888888A8o8s8sgAgAgAAAAAAQ8sE8c8c88wMccEss8IMsUAAAAAAAAAAEs0E8cscUM8888U8s8Yk8E88g8I8Uo88s88Y8Msk8o8w4UE4o8Qgw00wg4QwQggwkQsU0QowUAw888c8s8888s488888cs88s88c8888888AAUkMIQQEgEMIAEIEAIAAAE0EMMogQAM888U8s4os8U88o8M8cs48s80M888M8o8ww0UoY8ww4U04g0wwQowwgw8c004w0g8M8cU88oI88ccss8scMsMMccUU88sc8s8/8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAwEBPxBIP//EABQRAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQIBAT8QSD//xAArEAAABAQGAQMFAQAAAAAAAAAAEDFxAREg8CEwQEFRYVCBkaFgscHh8dH/2gAIAQEAAT8QqR4ojQuJ1bqTqHE43Bwcbg4OJwcHBwcHVOzDjcHUQ8kABGaQoI8KAIoXSEaECPoIwAA7xIdoXaAdS4nUOqcTqXaF2jdS7wjstAR4gAABARQR9IABARqwRmiAjSiM4lXlRlTDsHgEsuRmyow8CABchMPzsDcB/AgaCgyJHQBGhCNQ9DAB/BAggOMewoYY0F3MxBizCRGhhSEaUAvUGAnY5U3B0jGgXwKmCJQOjPlP3EegzDVgUMrESOULBFBGhCAjRg8U3YG7HMh/lngUILohgoYsBwc/MR4cAIUnRPrtsUNhLt5go5aPDBxA++AaYkhG2E9YiA/0BSiSoFvx7ENYoDGNIgB7mMCoTBiCHER9wIgfAnA1BJWjPC5Fw40aMQYP4AQx4FGOmRisp0goKRJaODIiTSZE86tlLCYTDYTB7Cg/wT0AFQkekjkGJllQIAtIklAbCUfissOIiIiIjsBRUgkYlwGAAUhER4A5FSYTCYbDZloCMg/YCJIi2UCcRzRr8kcQcCKEBPNFEmm+woL14J0f2jCBbxEyRA8sgBHkgPcBBOhYuDiMMu4iziRrOIu4ka7iLuIu4iziLuJGu4i7iLOIu4ixiFUxFiFcd+DH3AIJD0JYKIgdoix0GJ8I5OxcaQE//wD/AP8A/wD/APz/AP7B0y+R93hAAAkiCmGxe2EEqdi4qABSKMAPj5TjOBauRvFx3qgjKfExESJJNbDsIGexcUAaiTBYj9wJJEpICzYt1QCAwiqHFVq5G8XXdJGlARlA+AGFiPcIBCUAQ9RHwIZBJYuM0AIAVMP6Agi5YQd1IBauRvF13qgAEZbCDhci4liA/gJEMFi4oA+JMKKR9AolBwLs549keonRKHR0AE84PxVi/wBpwmA+QckPkQLHauSuu6UaUCAjIBBPkSQiAQjihsMQKTsMSIsXFIAnxEbA44H+OOtB/AKghSf1XjblRUkAJCVhgoDHR4oCHrVyVx3QI8EAAYEQShIPcRAFFi4ywS87ZpahFRiZsJMlj7GStXJXXerARlm4ikqPiIncXAWLioEh/NHhI+3HpFItxPRgJn3CibelWSDQdhuJg7MCtXI3i470QSyKMwwCBCwEbOfriNoXLsRA5oRaoGOH+7CI/YHABGGfsIC2VGbDlJYnKNG+j4A1AkVq5K478OHvAEqF7TVclSDYDCH3Oh/ANI6yN9CgSnLhGJWrkbxdd6oRmkMm0OqgXYhowfwYsQ6qaTRvpg8AmBQGRkLVyQuO9UQEZhM6Q6BsnBxYMMaQfoS0GeIQBCEoShKEq3YFigWrkrruhAR4MBJvH5QhpZMTAzMzMzMzMzMz7otTCuO9GkDg4SE4kBBOpHEcZIO0pBCjAioOIm8nh5dA6A8dBPJ5vDzuOycaKDjcZxODshGeBEW8SKCmmu7u7u7u7u7u7u76aUrCkR9PAAABlDKmBlDKjNQMyCAjKEa4AgI0oAI8wAAAAAAAAk+lwDPqcAAAAAAAAGIyHEZH0UyFFAkdiMqchkMhxPKruQ4jIZDifZUSMoMipDLTQdW6g6o7UAdkIzjGvjmcdNY5c4SeVAJAwdgYJCQchJDkIwSF2CQpDMDAwdhSBgkEgQJCYOwSCQSBg7AwSUyEkOQkgkKQMMcaQkZIIpJyyHIU9FxiBIUlIA4klBGlABHigjP/AP/Z\"","import {\n  ArgumentScale,\n  EventTracker,\n  ValueScale,\n} from '@devexpress/dx-react-chart'\nimport {\n  ArgumentAxis,\n  Chart,\n  LineSeries,\n  ScatterSeries,\n  Title,\n  Tooltip,\n  ValueAxis,\n} from '@devexpress/dx-react-chart-material-ui'\nimport {\n  Card,\n  CardMedia,\n  CardContent,\n  Typography,\n  Divider,\n  CardActions,\n  Button,\n  Paper,\n  CircularProgress,\n} from '@material-ui/core'\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\nimport { format, formatDistanceToNow, fromUnixTime, parseISO } from 'date-fns'\nimport React, { useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { getItem, getItemPrices } from '../../api/item'\nimport { ItemPrice, ItemWithPrice } from '../../api/models'\nimport empty from '../../images/empty.jpg'\nimport { line, curveStepAfter } from 'd3-shape'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    grow: {\n      height: '100%',\n      margin: theme.spacing(2)\n    },\n    paper: {\n      padding: theme.spacing(2),\n      display: 'flex',\n      flexDirection: 'column',\n      flexGrow: 1,\n      alignItems: 'center',\n    },\n    root: {\n      display: 'flex',\n      flexDirection: 'row',\n      margin: theme.spacing(1),\n      flexGrow: 1,\n    },\n    titleContentPrice: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-between',\n      alignContent: 'center',\n    },\n    buttonArea: {\n      flexGrow: 1,\n    },\n    titleContent: {\n      display: 'flex',\n      flexGrow: 5,\n      flexDirection: 'column',\n      justifyContent: 'space-between',\n      alignContent: 'center',\n    },\n    content: {\n      display: 'flex',\n      flex: '1 0 auto',\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      width: '100%',\n    },\n    title: {\n      wordWrap: 'break-word',\n      margin: theme.spacing(1),\n      justifyContent: 'center',\n      display: 'flex',\n    },\n    titleSubtile: {\n      display: 'flex',\n      alignItems: 'center',\n      flexDirection: 'column',\n    },\n    cover: {\n      width: 400,\n      height: 400,\n    },\n    button: {\n      height: '100%',\n    },\n    cardAction: {\n      padding: 0,\n      height: '100%',\n    },\n    text: {\n      display: 'flex',\n      justifyContent: 'flex-end',\n      alignItems: 'flex-end',\n      flexGrow: 1,\n      marginRight: theme.spacing(1),\n    },\n    vnd: {\n      display: 'flex',\n      justifyContent: 'flex-end',\n      alignItems: 'flex-end',\n    },\n    chart: {\n      display: 'flex',\n      width: '90%',\n    },\n    description: {\n      display: 'flex',\n      margin: theme.spacing(1, 0)\n    }\n  })\n)\n\ninterface ParamTypes {\n  itemID: string\n}\n\nconst Line = (props) => (\n  <LineSeries.Path\n    {...props}\n    path={line()\n      .x(({ arg }) => arg)\n      .y(({ val }) => val)\n      .curve(curveStepAfter)}\n  />\n)\n\nexport default function ItemPage() {\n  const classes = useStyles()\n\n  const { itemID } = useParams<ParamTypes>()\n  const [item, setItem] = useState<ItemWithPrice>({} as any)\n  const [itemPrices, setItemPrices] = useState<ItemPrice[]>([])\n  const [loading, setLoading] = useState(true)\n  const [loadingPrices, setLoadingPrices] = useState(true)\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true)\n\n      const result = await getItem(itemID)\n      setItem(result || ({} as any))\n      setLoading(false)\n    }\n\n    fetchData()\n  }, [itemID])\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoadingPrices(true)\n\n      const result = await getItemPrices(itemID)\n      if (result) {\n        result.sort((a, b) => (a.time > b.time ? 1 : -1))\n        result.forEach((ip) => {\n          ip.time = new Date(ip.time)\n        })\n      }\n      setItemPrices(result || [])\n      setLoadingPrices(false)\n    }\n\n    fetchData()\n  }, [itemID])\n\n  let title = item?.name || 'No title'\n  let imgURL = item?.image_url || empty\n  let url = item?.url || '/'\n  let description = item?.description || 'No description'\n  let updated = item?.time ? parseISO(item?.time) : new Date()\n  let price: number = item?.price || 0\n  const onClickStore = () => {\n    window.open(url)\n  }\n\n  useEffect(() => {\n    title = item?.name || 'No title'\n    imgURL = item?.image_url || empty\n    url = item?.url || '/'\n    updated = item?.time ? parseISO(item?.time) : new Date()\n    price = item?.price || 0\n    description = item?.description || 'No description'\n  }, [item])\n\n  const TooltipContent = ({ targetItem }) => (\n    <div>{itemPrices[targetItem.point].price.toLocaleString()} VND</div>\n  )\n\n  const ArgumentLabel = ({ x, y, dy, text, textAnchor }) => {\n    const res = text.replace(/[ ,.]/g, '')\n    return (\n      <Chart.Label x={x} y={y} dy={dy} textAnchor={textAnchor}>\n        {format(fromUnixTime(res / 1000), 'h a, MMM Do')}\n      </Chart.Label>\n    )\n  }\n  return (\n    <div className={classes.grow}>\n      <Paper className={classes.paper}>\n        {loading ? (\n          <CircularProgress />\n        ) : (\n          <Card className={classes.root}>\n            <CardMedia className={classes.cover} image={imgURL} title={title} />\n\n            <div className={classes.titleContentPrice}>\n              <CardContent className={classes.titleContent}>\n                <div className={classes.titleSubtile}>\n                  <Typography variant=\"h5\" className={classes.title}>\n                    {title}\n                  </Typography>\n                  <Typography variant=\"body1\" color=\"textSecondary\">\n                    {`Last updated: ${formatDistanceToNow(updated, {\n                      addSuffix: true,\n                    })}`}\n                  </Typography>\n                </div>\n                <Divider orientation=\"horizontal\" className={classes.description}/>\n\n                <Typography className={classes.description}>\n                  {description}\n                </Typography>\n                <div className={classes.content}>\n                  <Typography variant=\"h3\" className={classes.text}>\n                    {price.toLocaleString()}\n                  </Typography>\n                  <Typography\n                    variant=\"h6\"\n                    color=\"textSecondary\"\n                    className={classes.vnd}\n                    align=\"right\"\n                  >\n                    VND\n                  </Typography>\n                </div>\n              </CardContent>\n              <div className={classes.buttonArea}>\n                <Divider orientation=\"horizontal\" />\n                <CardActions className={classes.cardAction} disableSpacing>\n                  <Button\n                    onClick={onClickStore}\n                    className={classes.button}\n                    fullWidth\n                  >\n                    To store page\n                  </Button>\n                </CardActions>\n              </div>\n            </div>\n          </Card>\n        )}\n\n        {loadingPrices ? (\n          <CircularProgress />\n        ) : (\n          <div className={classes.chart}>\n            <Chart data={itemPrices} width={5000}>\n              <ValueScale name=\"price\" />\n              <ArgumentScale name=\"time\" />\n              <ArgumentAxis labelComponent={ArgumentLabel} />\n              <ValueAxis scaleName=\"price\" showLine showTicks />\n              <LineSeries\n                name=\"Price over time\"\n                valueField=\"price\"\n                argumentField=\"time\"\n                scaleName=\"price\"\n                seriesComponent={Line}\n              />\n              <ScatterSeries valueField=\"price\" argumentField=\"time\" />{' '}\n              <EventTracker />\n              <Tooltip contentComponent={TooltipContent} />\n              <Title text=\"Price over time\" />\n            </Chart>\n          </div>\n        )}\n      </Paper>\n    </div>\n  )\n}\n","export default function NotFound() {\n    return (\n        <div>\n            404 Not Found\n        </div>\n    )\n}\n","import { AuthDispatch, AuthReducerActions } from '../contexts/reducer'\nimport { CookieWrapper } from '../utils/storage'\nimport { AxiosInstance } from './axios'\nimport { User } from './models'\n\ntype LoginPayload = {\n  user: {\n    email: string\n    password: string\n  }\n}\n\ntype CreateUserPayload = {\n  user: {\n    username: string\n    email: string\n    password: string\n  }\n}\n\nexport async function createUser(\n  dispatch: React.Dispatch<AuthDispatch>,\n  createUserPayload: CreateUserPayload\n) {\n  const requestOptions = {\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(createUserPayload),\n  }\n  try {\n    dispatch({\n      type: AuthReducerActions.REQUEST_LOGIN,\n      payload: {} as any,\n      error: {} as any,\n    })\n    const response = await AxiosInstance.post(\n      `/signup`,\n      createUserPayload,\n      requestOptions\n    )\n    const data = response.data\n    if (data.user) {\n      dispatch({\n        type: AuthReducerActions.LOGIN_SUCCESS,\n        payload: data,\n        error: {} as any,\n      })\n      let expires = new Date()\n      expires = new Date(expires.getTime() + 1000 * 60 * 60 * 24 * 7)\n      CookieWrapper.setCookie(\"userAuth\", data.user, expires)\n      CookieWrapper.setCookie(\"jwt\", data.jwt, expires)\n      // setup axios to use auth from now\n      AxiosInstance.defaults.headers.common['Authorization'] =\n        'Bearer ' + data.jwt\n      return <User>data.user\n    }\n\n    dispatch({\n      type: AuthReducerActions.LOGIN_ERROR,\n      payload: {} as any,\n      error: data.errors[0],\n    })\n    return null\n  } catch (error) {\n    dispatch({\n      type: AuthReducerActions.LOGIN_ERROR,\n      payload: {} as any,\n      error: error,\n    })\n\n    return null\n  }\n}\n\nexport async function loginUser(\n  dispatch: React.Dispatch<AuthDispatch>,\n  loginPayload: LoginPayload\n) {\n  const requestOptions = {\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(loginPayload),\n  }\n\n  try {\n    dispatch({\n      type: AuthReducerActions.REQUEST_LOGIN,\n      payload: {} as any,\n      error: {} as any,\n    })\n    const response = await AxiosInstance.post(\n      `/login`,\n      loginPayload,\n      requestOptions\n    )\n    const data = response.data\n    if (data.user) {\n      dispatch({\n        type: AuthReducerActions.LOGIN_SUCCESS,\n        payload: data,\n        error: {} as any,\n      })\n      let expires = new Date()\n      expires = new Date(expires.getTime() + 1000 * 60 * 60 * 24 * 7)\n      CookieWrapper.setCookie(\"userAuth\", data.user, expires)\n      CookieWrapper.setCookie(\"jwt\", data.jwt, expires)\n\n      // setup axios to use auth from now\n      AxiosInstance.defaults.headers.common['Authorization'] =\n        'Bearer ' + data.jwt\n      return <User>data.user\n    }\n\n    dispatch({\n      type: AuthReducerActions.LOGIN_ERROR,\n      payload: {} as any,\n      error: data.errors[0],\n    })\n    return null\n  } catch (error) {\n    dispatch({\n      type: AuthReducerActions.LOGIN_ERROR,\n      payload: {} as any,\n      error: error,\n    })\n\n    return null\n  }\n}\n\nexport async function logout(dispatch: React.Dispatch<AuthDispatch>) {\n  dispatch({\n    type: AuthReducerActions.LOGOUT,\n    payload: {} as any,\n    error: {} as any,\n  })\n\n  // setup axios to stop using auth\n  AxiosInstance.defaults.headers.common['Authorization'] = ''\n  CookieWrapper.removeCookie()\n}\n\ntype UpdateUsernamePayload = {\n  user: {\n    username: string\n  }\n}\n\ntype UpdatePasswordPayload = {\n  user: {\n    password: string\n  }\n}\n\nexport async function updatePassword(\n  dispatch: React.Dispatch<AuthDispatch>,\n  loginPayload: LoginPayload,\n  updatePayload: UpdatePasswordPayload\n) {\n  const requestOptions = (payload) => {\n    return {\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(payload),\n    }\n  }\n\n  try {\n    const loginResponse = await AxiosInstance.post(\n      `/login`,\n      loginPayload,\n      requestOptions(loginPayload)\n    )\n    const loginData = loginResponse.data\n    if (loginData.user) {\n      const response = await AxiosInstance.put(\n        `/user`,\n        updatePayload,\n        requestOptions(updatePayload)\n      )\n      const data = response.data\n      if (data.user) {\n        dispatch({\n          type: AuthReducerActions.LOGIN_SUCCESS,\n          payload: data,\n          error: {} as any,\n        })\n        let expires = new Date()\n        expires = new Date(expires.getTime() + 1000 * 60 * 60 * 24 * 7)\n        CookieWrapper.setCookie(\"userAuth\", data.user, expires)\n        return <User>data.user\n      }\n    }\n\n    return null\n  } catch (error) {\n    console.log(error.response.data.error)\n    return null\n  }\n}\n\nexport async function updateUsername(\n  dispatch: React.Dispatch<AuthDispatch>,\n  updatePayload: UpdateUsernamePayload\n) {\n  const requestOptions = {\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(updatePayload),\n  }\n\n  try {\n    const response = await AxiosInstance.put(\n      `/user`,\n      updatePayload,\n      requestOptions\n    )\n    const data = response.data\n    if (data.user) {\n      dispatch({\n        type: AuthReducerActions.LOGIN_SUCCESS,\n        payload: data,\n        error: {} as any,\n      })\n      let expires = new Date()\n      expires = new Date(expires.getTime() + 1000 * 60 * 60 * 24 * 7)\n      CookieWrapper.setCookie(\"userAuth\", data.user, expires)\n\n      return <User>data.user\n    }\n\n    return null\n  } catch (error) {\n    console.log(error.response.data.error)\n    return null\n\n  }\n}\n","import { Backdrop,Dialog, Fade, LinearProgress,Theme } from \"@material-ui/core\"\nimport React, { useEffect } from \"react\"\nimport { useState } from \"react\"\nimport { useHistory } from \"react-router-dom\"\nimport Routes from \"../../../utils/routes\"\nimport { makeStyles,  createStyles} from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    modal: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing(2, 4, 3),\n    },\n  })\n)\n\nexport default function SignInModal(props) {\n  const classes = useStyles()\n  const history = useHistory()\n  const [open, setOpen] = useState(false)\n\n  // change state on props change\n  useEffect(() => {\n    setOpen(props.open)\n  }, [props.open]);\n\n  const handleEnter = () => {\n    setTimeout(() => {\n      setOpen(false)\n    }, 1000)\n  }\n\n  const handleExit = () => {\n    history.push(Routes.HOME)\n  }\n\n  return (\n    <div>\n      <Dialog\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={open}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open} onEnter={handleEnter} onExited={handleExit}>\n          <div className={classes.paper}>\n            <h2 id=\"transition-modal-title\">Successfully logged in</h2>\n            <p id=\"transition-modal-description\">\n              You will be redirected to the home page shortly...\n            </p>\n            <LinearProgress />\n          </div>\n        </Fade>\n      </Dialog>\n    </div>\n  )\n}","import React, { useState } from 'react'\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useForm } from 'react-hook-form'\n\nimport {\n  Avatar,\n  Button,\n  CssBaseline,\n  TextField,\n  Link,\n  Grid,\n  Typography,\n  Container,\n} from '@material-ui/core'\nimport Routes from '../../utils/routes'\nimport { loginUser } from '../../api/user'\nimport { useAuthDispatch } from '../../contexts/context'\nimport SignInModal from './components/SignInModal'\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}))\n\ntype FormData = {\n  email: string\n  password: string\n}\n\nexport default function SignIn() {\n  const classes = useStyles()\n  const { register, handleSubmit, setError, errors } = useForm<FormData>()\n  const dispatch = useAuthDispatch()\n  const [open, setOpen] = useState(false)\n\n  const onSubmit = handleSubmit(async ({ email, password }) => {\n    const user = {\n      email,\n      password,\n    }\n    const response = await loginUser(dispatch, { user })\n    if (!response) {\n      setError('email', {\n        type: 'required',\n      })\n      setError('password', {\n        type: 'required',\n        message: 'Account does not exist or password does not match.',\n      })\n      return\n    } // TODO: error handling\n    setOpen(true)\n  })\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n\n      <SignInModal open={open} />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography>\n        <form className={classes.form} noValidate onSubmit={onSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            inputRef={register}\n            error={errors.email ? true : false}\n            helperText={errors.email ? errors.email.message : ''}\n            autoFocus\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            error={errors.password ? true : false}\n            helperText={errors.password ? errors.password.message : ''}\n            inputRef={register}\n          />\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            Sign In\n          </Button>\n          <Grid container>\n            <Grid item>\n              <Link href={Routes.SIGNUP} variant=\"body2\">\n                {\"Don't have an account? Sign Up\"}\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  )\n}\n","import { Backdrop, Dialog, Fade, Theme } from '@material-ui/core'\nimport React, { useEffect } from 'react'\nimport { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport Routes from '../../../utils/routes'\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    modal: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing(2, 4, 3),\n    },\n  })\n)\n\nexport default function SignUpModal(props) {\n  const classes = useStyles()\n  const history = useHistory()\n  const [open, setOpen] = useState(false)\n\n  // change state on props change\n  useEffect(() => {\n    setOpen(props.open)\n  }, [props.open])\n\n  const handleEnter = () => {\n    setTimeout(() => {\n      setOpen(false)\n    }, 1000)\n  }\n\n  const handleExit = () => {\n    history.push(Routes.HOME)\n  }\n\n  return (\n    <div>\n      <Dialog\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={open}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open} onEnter={handleEnter} onExited={handleExit}>\n          <div className={classes.paper}>\n            <h2 id=\"transition-modal-title\">Successfully signed up</h2>\n            <p id=\"transition-modal-description\">\n              You will be redirected to the home page shortly...\n            </p>\n          </div>\n        </Fade>\n      </Dialog>\n    </div>\n  )\n}\n","import React from 'react'\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport {\n  Avatar,\n  Button,\n  CssBaseline,\n  TextField,\n  Link,\n  Grid,\n  Typography,\n  Container,\n} from '@material-ui/core'\nimport Routes from '../../utils/routes'\nimport { useForm } from 'react-hook-form'\nimport { useAuthDispatch } from '../../contexts/context'\nimport { createUser } from '../../api/user'\nimport SignUpModal from './components/SignUpModal'\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}))\n\ntype FormData = {\n  username: string\n  email: string\n  password: string\n  repeat_password: string\n}\n\nconst defaultValues: FormData = {\n  username: '',\n  email: '',\n  password: '',\n  repeat_password: '',\n}\n\nexport default function SignUp() {\n  const classes = useStyles()\n  const { register, handleSubmit, watch, errors, setError } = useForm<FormData>({\n    defaultValues,\n  })\n  const dispatch = useAuthDispatch()\n  const [open, setOpen] = React.useState(false)\n  const password = React.useRef({})\n  password.current = watch('password', '')\n\n  const onSubmit = handleSubmit(async (data) => {\n    try {\n      console.log('here')\n      const user = {\n        username: data.username,\n        email: data.email,\n        password: data.password,\n      }\n\n      console.log(data)\n      const response = await createUser(dispatch, { user })\n      if (!response) return // TODO: error handling\n      setOpen(!open)\n    } catch (error) {\n      setError(\"email\", {\n        type: \"notMatch\", \n        message: \"Email already in use. Please sign in or choose another email address.\"\n      });\n\n    }\n  })\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n\n      <SignUpModal open={open} />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign up\n        </Typography>\n        <form className={classes.form} noValidate onSubmit={onSubmit}>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <TextField\n                autoComplete=\"username\"\n                name=\"username\"\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"username\"\n                label=\"Username\"\n                error={errors.username ? true : false}\n                helperText={errors.username ? errors.username.message : \"\"}\n                autoFocus\n                inputRef={register({\n                  required: 'A username is required',\n                })}\n              />\n\n              \n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"email\"\n                label=\"Email Address\"\n                name=\"email\"\n                autoComplete=\"email\"\n                error={errors.email ? true : false}\n                helperText={errors.email ? errors.email.message : \"\"}\n                inputRef={register({\n                  required: \"An email is required\"\n                })}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                id=\"password\"\n                error={errors.password ? true : false}\n                helperText={errors.password ? errors.password.message : \"\"}\n                inputRef={register({\n                  required: 'A password is required',\n                  minLength: {\n                    value: 6,\n                    message: 'Password must have at least 6 characters',\n                  },\n                })}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"repeat_password\"\n                label=\"Repeat Password\"\n                type=\"password\"\n                id=\"repeat_password\"\n                error={errors.repeat_password ? true : false}\n                helperText={errors.repeat_password ? errors.repeat_password.message : \"\"}\n                inputRef={register({\n                  validate: (value) =>\n                    value === password.current || 'The passwords do not match',\n                })}\n              />\n            </Grid>\n          </Grid>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            Sign Up\n          </Button>\n          <Grid container justify=\"flex-end\">\n            <Grid item>\n              <Link href={Routes.SIGNIN} variant=\"body2\">\n                Already have an account? Sign in\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  )\n}\n","import { AxiosInstance } from './axios'\nimport { ItemWithPrice, UserItem } from './models'\n\ntype CreateUserItemPayload = {\n  item: {\n    id: string\n  }\n}\n\n// Returns an array of items\nexport async function getAllUserItems() {\n  try {\n    const response = await AxiosInstance.get('/user/items')\n    const data = response.data\n    if (Array.isArray(data)) {\n      const items = data.map(d => <ItemWithPrice>d.item_with_price)\n\n      return items\n    }\n    return\n  } catch (err) {\n    console.log(err.response.data.error)\n  }\n}\n\nexport async function createUserItem(payload: CreateUserItemPayload) {\n  const requestOptions = {\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  }\n  try {\n    const response = await AxiosInstance.post(`/user/item`, payload, requestOptions)\n    const data = response.data\n    if (data) {\n      return <UserItem>data.user_item\n    }\n    return\n  } catch (err) {\n    console.log(err.response.data.error)\n  }\n}\n\nexport async function checkUserItem(id: string) : Promise<boolean> {\n\n  try {\n    await AxiosInstance.get(`/user/item/${id}`)\n    \n    // 200 code\n    return true\n  } catch (err) {\n    console.log(err.response.data.error)\n    return false\n  }\n}\n","import React from 'react'\nimport { Theme, createStyles, makeStyles } from '@material-ui/core/styles'\nimport empty from '../../images/empty.jpg'\nimport {\n  Button,\n  CardActionArea,\n  CardActions,\n  CardHeader,\n  Divider,\n  Card,\n  CardContent,\n  CardMedia,\n  Typography,\n} from '@material-ui/core';\nimport { useHistory } from 'react-router-dom'\nimport { formatDistanceToNow, parseISO } from 'date-fns'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      margin: theme.spacing(1),\n      flexGrow: 1, \n      maxWidth: 400,\n    },\n    content: {\n      display: 'flex',\n      flex: '1 0 auto',\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      width: '100%',\n    },\n    cover: {\n      height: 0,\n      paddingTop: '56.25%', // 16:9\n    },\n    button: {\n      height: theme.spacing(8),\n    },\n    cardAction: {\n      padding: 0,\n    },\n    text: {\n      display: 'flex',\n      justifyContent: 'flex-end',\n      flexGrow: 1,\n      marginRight: theme.spacing(1)\n    },\n    vnd: {\n      display: 'flex',\n      justifyContent: 'flex-end',\n      alignItems:'flex-end'\n    },\n  })\n)\n\nexport default function ItemCard(props) {\n  const classes = useStyles()\n  const history = useHistory()\n\n  const title = props.name || 'No title'\n  const imgURL = props.image_url || empty\n  const url = props.url || '/'\n  const id = props.id || ''\n  const updated = parseISO(props.time) || 'Unknown'\n  const price: number = props.price || 0\n  const onClickStore = () => {\n    window.open(url)\n  }\n\n  const onClickItem = () => {\n    history.push(`/item/${id}`)\n  }\n\n  return (\n    <Card className={classes.root}>\n      <CardActionArea onClick={onClickItem}>\n        <CardHeader title={title} subheader={`Last updated: ${formatDistanceToNow(updated,{addSuffix: true})}`} />\n        <CardMedia className={classes.cover} image={imgURL} title={title} />\n\n        <div>\n          <CardContent className={classes.content}>\n            <Typography variant=\"h3\" className={classes.text}>\n              {price.toLocaleString()}\n            </Typography>\n            <Typography\n              variant=\"h6\"\n              color=\"textSecondary\"\n              className={classes.vnd}\n              align=\"right\"\n            >\n              VND\n            </Typography>\n          </CardContent>\n        </div>\n      </CardActionArea>\n      <Divider orientation=\"horizontal\" />\n      <CardActions className={classes.cardAction} disableSpacing>\n        <Button onClick={onClickStore} className={classes.button} fullWidth>\n          To store page\n        </Button>\n        <Divider orientation=\"vertical\" flexItem/>\n        <Button onClick={onClickItem} className={classes.button} fullWidth>\n          Price History\n        </Button>\n      </CardActions>\n    </Card>\n  )\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport {\n  Button,\n  CssBaseline,\n  TextField,\n  Grid,\n  Container,\n} from '@material-ui/core'\nimport { useForm } from 'react-hook-form'\nimport { useAuthDispatch, useAuthState } from '../../../contexts/context'\nimport { updatePassword } from '../../../api/user'\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}))\n\ntype FormData = {\n  current_password: string\n  password: string\n  repeat_password: string\n}\n\nexport default function EditPasswordForm({callback}) {\n  const userAuth = useAuthState()\n  const classes = useStyles()\n  const {\n    register,\n    handleSubmit,\n    watch,\n    errors,\n  } = useForm<FormData>()\n  const dispatch = useAuthDispatch()\n\n  if (!userAuth.user) {\n    return <div></div>\n  }\n\n  const user = userAuth.user\n  const password = React.useRef({})\n  password.current = watch('password', '')\n\n  const onSubmit = handleSubmit(async (data) => {\n    try {\n      const validate = {\n        email: String(user.email),\n        password: data.current_password\n      }\n      const userPayload = {\n        password: data.password,\n      }\n\n      console.log(data)\n      const response = await updatePassword(dispatch, { \"user\": validate }, {\"user\": userPayload})\n      if (!response) return // TODO: error handling\n    } catch (error) {\n      console.log(error)\n    }\n  })\n\n  const handleCancel = () => {\n    callback()\n  }\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n\n      <div className={classes.paper}>\n        <form className={classes.form} noValidate onSubmit={onSubmit}>\n          <Grid container spacing={2}>\n          <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"current_password\"\n                label=\"Password\"\n                type=\"password\"\n                id=\"current_password\"\n                error={errors.current_password ? true : false}\n                helperText={errors.current_password ? errors.current_password.message : ''}\n                defaultValue=\"\"\n                inputRef={register({\n                  required: 'The current password is required',\n                })}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                id=\"password\"\n                error={errors.password ? true : false}\n                helperText={errors.password ? errors.password.message : ''}\n                defaultValue=\"\"\n                inputRef={register({\n                  required: 'A password is required',\n                  minLength: {\n                    value: 6,\n                    message: 'Password must have at least 6 characters',\n                  },\n                })}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"repeat_password\"\n                label=\"Repeat Password\"\n                type=\"password\"\n                id=\"repeat_password\"\n                defaultValue=\"\"\n                error={errors.repeat_password ? true : false}\n                helperText={\n                  errors.repeat_password ? errors.repeat_password.message : ''\n                }\n                inputRef={register({\n                  validate: (value) =>\n                    value === password.current || 'The passwords do not match',\n                })}\n              />\n            </Grid>\n\n            <Grid item xs={3}>\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n              >\n                Save\n              </Button>\n            </Grid>\n            <Grid item xs={3}>\n              <Button\n                type=\"button\"\n                fullWidth\n                variant=\"outlined\"\n                color=\"primary\"\n                className={classes.submit}\n                onClick={handleCancel}\n              >\n                Cancel\n              </Button>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  )\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport {\n  Button,\n  CssBaseline,\n  TextField,\n  Grid,\n  Container,\n} from '@material-ui/core'\nimport { useForm } from 'react-hook-form'\nimport { useAuthDispatch, useAuthState } from '../../../contexts/context'\nimport { updateUsername } from '../../../api/user'\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}))\n\ntype FormData = {\n  username: string\n}\n\nexport default function EditAccountForm({callback}) {\n  const userAuth = useAuthState()\n  const classes = useStyles()\n  const {\n    register,\n    handleSubmit,\n    watch,\n    errors,\n    setValue,\n  } = useForm<FormData>()\n  const dispatch = useAuthDispatch()\n\n  if (!userAuth.user) {\n    return <div></div>\n  }\n\n  const user = userAuth.user\n  const password = React.useRef({})\n  password.current = watch('password', '')\n\n  setValue('username', user.username, { shouldValidate: true })\n\n  const onSubmit = handleSubmit(async (data) => {\n    try {\n      const user = {\n        username: data.username,\n      }\n\n      console.log(data)\n      const response = await updateUsername(dispatch, { user })\n      if (!response) return // TODO: error handling\n    } catch (error) {\n      console.log(error)\n    }\n  })\n\n  const handleCancel = () => {\n    callback()\n  }\n  \n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n\n      <div className={classes.paper}>\n        <form className={classes.form} noValidate onSubmit={onSubmit}>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <TextField\n                autoComplete=\"username\"\n                name=\"username\"\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"username\"\n                label=\"Username\"\n                error={errors.username ? true : false}\n                helperText={errors.username ? errors.username.message : ''}\n                autoFocus\n                defaultValue={user.username || ''}\n                inputRef={register({\n                  required: 'A new username is required',\n                })}\n              />\n            </Grid>\n            <Grid item xs={3}>\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n              >\n                Save\n              </Button>\n            </Grid>\n            <Grid item xs={3}>\n              <Button\n                type=\"button\"\n                fullWidth\n                variant=\"outlined\"\n                color=\"primary\"\n                className={classes.submit}\n                onClick={handleCancel}\n              >\n                Cancel\n              </Button>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  )\n}\n","import {\n  Button,\n  Grid,\n  Theme,\n  Typography,\n} from '@material-ui/core'\nimport { AccountCircle, Email } from '@material-ui/icons'\nimport React, { useState } from 'react'\nimport { useAuthState } from '../../../contexts/context'\nimport EditPasswordForm from './EditPasswordForm'\nimport EditAccountForm from './EditAccountForm'\nimport { makeStyles,  createStyles} from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    avatar: {\n      width: 200,\n      height: 200,\n      margin: 'auto',\n    },\n    centeredTop: {\n      textAlign: 'center',\n      padding: theme.spacing(1),\n    },\n    editButton: {\n      margin: theme.spacing(1),\n    },\n    emailLine: {\n      display: 'flex',\n      alignItems: 'center',\n      flexWrap: 'wrap',\n      justifyContent: 'center',\n      margin: theme.spacing(1)\n    },\n    emailString: {\n      marginLeft: theme.spacing(1),\n    },\n  })\n)\n\nexport default function Account() {\n  const userAuth = useAuthState()\n  const classes = useStyles()\n  const [edit, setEdit] = useState(0)\n\n  if (!userAuth.user) {\n    return <div></div>\n  }\n  const user = userAuth.user\n\n  const onCancel = () => {\n    setEdit(0)\n  }\n\n  const onClick = (value) => {\n    setEdit(value)\n  }\n\n  return (\n    <div>\n      <div className={classes.centeredTop}>\n        <AccountCircle className={classes.avatar} />\n        <Typography component=\"h1\" align=\"center\" variant=\"h5\">\n          {user.username}\n        </Typography>\n\n        <Typography className={classes.emailLine}>\n          <Email />\n          <span className={classes.emailString}>{user.email}</span>\n        </Typography>\n\n        <Grid container direction=\"row\" spacing={2}>\n          <Grid item xs={6}>\n            <Button\n              variant=\"outlined\"\n              className={classes.editButton}\n              onClick={() => {\n                onClick(1)\n              }}\n            >\n              Edit username\n            </Button>\n          </Grid>\n          <Grid item xs={6}>\n            <Button\n              variant=\"outlined\"\n              className={classes.editButton}\n              onClick={() => {\n                onClick(2)\n              }}\n            >\n              Edit password\n            </Button>\n          </Grid>\n        </Grid>\n\n        {edit == 1 ? <EditAccountForm callback={onCancel} /> : <div />}\n        {edit == 2 ? <EditPasswordForm callback={onCancel}/> : <div />}\n      </div>\n    </div>\n  )\n}\n","import {\n  CircularProgress,\n  Divider,\n  Grid,\n  Theme,\n  Typography,\n} from '@material-ui/core'\nimport React, { useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { Item } from '../../api/models'\nimport { getAllUserItems } from '../../api/userItems'\nimport { useAuthState } from '../../contexts/context'\nimport Routes from '../../utils/routes'\nimport ItemCard from '../ItemCard'\nimport Account from './components/Account'\nimport { makeStyles,  createStyles} from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n  grow: {\n    flexGrow: 1,\n    height: '100%',\n  },\n  paper: {\n    marginTop: theme.spacing(2),\n    padding: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  section: {\n    height: '100%',\n  },\n  followed: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    marginBottom: theme.spacing(8),\n  },\n}))\n\nexport default function Profile() {\n  const classes = useStyles()\n  const userAuth = useAuthState()\n  const history = useHistory()\n  const [items, setItems] = useState<Item[]>([])\n  const [loading, setLoading] = useState(true)\n  if (!userAuth.user) {\n    // TODO: error modal\n    history.push(Routes.SIGNIN)\n  }\n\n  // Get user items\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true)\n\n      const result = await getAllUserItems()\n      setItems(result || [])\n      setLoading(false)\n    }\n\n    fetchData()\n  }, [])\n\n  return (\n    <div className={classes.grow}>\n      <div className={classes.paper}>\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"center\"\n          alignItems=\"stretch\"\n          alignContent=\"center\"\n          spacing={3}\n        >\n          <Grid item xs={3} className={classes.section}>\n            <Account />\n          </Grid>\n          <Divider orientation=\"vertical\" flexItem />\n          <Grid item xs>\n            <Typography\n              component=\"h1\"\n              variant=\"h3\"\n              className={classes.followed}\n            >\n              Followed Items\n            </Typography>\n            <Grid\n              container\n              direction=\"row\"\n              justify=\"center\"\n              alignItems=\"stretch\"\n              spacing={3}\n            >\n              {loading ? (\n                <CircularProgress />\n              ) : (\n                items.map((val, idx) => (\n                  <Grid item xs={4}>\n                    <ItemCard key={idx} {...val} />{' '}\n                  </Grid>\n                ))\n              )}\n            </Grid>\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  )\n}\n","import { CircularProgress, Grid,  Theme } from '@material-ui/core'\nimport React, { useEffect, useState } from 'react'\nimport { getAllItems } from '../../api/item'\nimport { ItemWithPrice } from '../../api/models'\nimport ItemCard from '../ItemCard'\nimport { makeStyles,  createStyles} from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n  grow: {\n    flexGrow: 1,\n  },\n  paper: {\n    marginTop: theme.spacing(1),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: theme.spacing(2)\n  },\n}))\n\nexport default function Home() {\n  const classes = useStyles()\n  const [items, setItems] = useState<ItemWithPrice[]>([])\n  const [loading, setLoading] = useState(true)\n\n  // Get items\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true)\n\n      const result = await getAllItems()\n      setItems(result || [])\n      console.log(result)\n      setLoading(false)\n    }\n\n    fetchData()\n  }, [])\n  \n  return (\n    <div className={classes.grow}>\n      <div className={classes.paper}>\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"center\"\n          alignItems=\"stretch\"\n          alignContent=\"center\"\n          spacing={3}\n        >\n          <Grid item xs>\n            <Grid\n              container\n              direction=\"row\"\n              justify=\"center\"\n              alignItems=\"stretch\"\n              spacing={3}\n            >\n              {loading ? (\n                <CircularProgress />\n              ) : (\n                items.map((val, idx) => (\n                  <Grid item xs={3}>\n                    <ItemCard key={idx} {...val} />{' '}\n                  </Grid>\n                ))\n              )}\n            </Grid>\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport { useHistory } from 'react-router-dom'\nimport Routes from '../../utils/routes'\nimport { Dialog, LinearProgress, Backdrop, Fade } from '@material-ui/core';\nimport { logout } from '../../api/user'\nimport { useAuthDispatch } from '../../contexts/context'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    modal: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing(2, 4, 3),\n    },\n  })\n)\n\nexport default function SignOut() {\n  const classes = useStyles()\n  const dispatch = useAuthDispatch()\n  const history = useHistory()\n  const [open, setOpen] = useState(true)\n\n  const handleEnter = () => {\n    logout(dispatch)\n    setTimeout(() => {\n      setOpen(false)\n    }, 1000)\n  }\n\n  const handleExit = () => {\n    history.push(Routes.HOME)\n  }\n\n  return (\n    <div>\n      <Dialog\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={open}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open} onEnter={handleEnter} onExited={handleExit}>\n          <div className={classes.paper}>\n            <h2 id=\"transition-modal-title\">Successfully logged out</h2>\n            <p id=\"transition-modal-description\">\n              You will be redirected to the home page shortly...\n            </p>\n            <LinearProgress/>\n          </div>\n        </Fade>\n      </Dialog>\n    </div>\n  )\n}\n","import { blue, deepPurple, lightBlue, purple, red } from '@material-ui/core/colors'\nimport { createMuiTheme } from '@material-ui/core/styles'\n\n// A custom theme for this app\nexport const lightTheme = createMuiTheme({\n  palette: {\n    type: 'light',\n    primary: {\n      main: lightBlue[500],\n    },\n    secondary: {\n      main: deepPurple[500],\n    },\n    error: {\n      main: red.A400,\n    },\n  },\n})\n\nexport const darkTheme = createMuiTheme({\n  palette: {\n    type: 'dark',\n    primary: {\n      main: blue[200],\n    },\n    secondary: {\n      main: purple[200],\n    },\n    error: {\n      main: red[500],\n    },\n  },\n})\n","import {\n  Button,\n  CircularProgress,\n  Grid,\n  Theme,\n  Typography,\n} from '@material-ui/core'\nimport React, { useEffect, useState } from 'react'\nimport { search } from '../../api/item'\nimport { ItemWithPrice } from '../../api/models'\nimport ItemCard from '../ItemCard'\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\nimport { useHistory, useLocation } from 'react-router-dom'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    grow: {\n      flexGrow: 1,\n    },\n    paper: {\n      marginTop: theme.spacing(1),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      padding: theme.spacing(2),\n    },\n    returnButton: {\n      margin: theme.spacing(1)\n    }\n  })\n)\n\n// A custom hook that builds on useLocation to parse\n// the query string for you.\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search)\n}\n\nexport default function Home() {\n  const classes = useStyles()\n  const [items, setItems] = useState<ItemWithPrice[]>([])\n  const [loading, setLoading] = useState(true)\n  const query = useQuery()\n  const history = useHistory()\n\n  const queryString = query.get('q')\n\n  const dataAvailable = queryString != '' && items.length != 0\n  // Get items\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true)\n\n      const result = await search(query)\n      setItems(result || [])\n      setLoading(false)\n    }\n\n    fetchData()\n  }, [])\n\n  console.log(dataAvailable)\n  return (\n    <div className={classes.grow}>\n      <div className={classes.paper}>\n        {!dataAvailable ? (\n          <React.Fragment>\n            <Typography >No items found.</Typography>\n\n            <Button\n              onClick={() => {\n                history.push('/')\n              }}\n              variant=\"outlined\"\n              className={classes.returnButton}\n            >\n              Return to Homepage\n            </Button>\n          </React.Fragment>\n        ) : (\n          <Grid\n            container\n            direction=\"row\"\n            justify=\"center\"\n            alignItems=\"stretch\"\n            spacing={3}\n          >\n            {loading ? (\n              <CircularProgress />\n            ) : (\n              items.map((val, idx) => (\n                <Grid item xs={3} key={idx}>\n                  <ItemCard key={idx} {...val} />{' '}\n                </Grid>\n              ))\n            )}\n          </Grid>\n        )}\n      </div>\n    </div>\n  )\n}\n","import {\n  Card,\n  CardMedia,\n  CardContent,\n  Typography,\n  Divider,\n  CardActions,\n  Button,\n} from '@material-ui/core'\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\nimport React from 'react'\nimport empty from '../../../images/empty.jpg'\nimport { Item } from '../../../api/models'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    grow: {\n      flexGrow: 1,\n    },\n    root: {\n      display: 'flex',\n      flexDirection: 'row',\n      margin: theme.spacing(1),\n      flexGrow: 1,\n    },\n    titleContentPrice: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-between',\n      alignContent: 'center',\n      width: '75%'\n    },\n    buttonArea: {\n      flexGrow: 1,\n    },\n    titleContent: {\n      display: 'flex',\n      flexGrow: 5,\n      flexDirection: 'column',\n      justifyContent: 'flex-start',\n      alignContent: 'center',\n    },\n    title: {\n      wordWrap: 'break-word',\n      margin: theme.spacing(1),\n      justifyContent: 'center',\n      display: 'flex',\n    },\n    cover: {\n      display: 'block',\n      width: 400,\n      height: 400\n    },\n    button: {\n      height: '100%',\n    },\n    cardAction: {\n      padding: 0,\n      height: '100%',\n    },\n    text: {\n      display: 'flex',\n      justifyContent: 'flex-end',\n      alignItems: 'flex-end',\n      flexGrow: 1,\n      marginRight: theme.spacing(1),\n    },\n    description: {\n      display: 'flex',\n      margin: theme.spacing(1, 0),\n    },\n  })\n)\n\nexport default function ItemForm(props) {\n  const classes = useStyles()\n  let item: Item\n\n  if (props.item) {\n    item = props.item\n  } else {\n    return <div>Choose an item!</div>\n  }\n  const title = item?.name || 'No title'\n  const imgURL = item?.image_url || empty\n  const url = item?.url || '/'\n  const description = item?.description || 'No description'\n  const onClickStore = () => {\n    window.open(url)\n  }\n\n  return (\n    <div className={classes.grow}>\n        <Card className={classes.root} variant=\"outlined\">\n          <CardMedia className={classes.cover} image={imgURL} title={title} />\n\n          <div className={classes.titleContentPrice}>\n            <CardContent className={classes.titleContent}>\n                <Typography variant=\"h5\" className={classes.title}>\n                  {title}\n                </Typography>\n              <Divider\n                orientation=\"horizontal\"\n                className={classes.description}\n              />\n\n              <Typography className={classes.description}>\n                {description}\n              </Typography>\n            </CardContent>\n            <div className={classes.buttonArea}>\n              <Divider orientation=\"horizontal\" />\n              <CardActions className={classes.cardAction} disableSpacing>\n                <Button\n                  onClick={onClickStore}\n                  className={classes.button}\n                  fullWidth\n                >\n                  To store page\n                </Button>\n              </CardActions>\n            </div>\n          </div>\n        </Card>\n    </div>\n  )\n}\n","import React from 'react'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport Stepper from '@material-ui/core/Stepper'\nimport Step from '@material-ui/core/Step'\nimport StepLabel from '@material-ui/core/StepLabel'\nimport StepContent from '@material-ui/core/StepContent'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport { useHistory } from 'react-router-dom'\nimport { Item } from '../../api/models'\nimport ItemForm from './components/itemForm'\nimport { createItem, getItemFromURL } from '../../api/item'\nimport { Paper, TextField } from '@material-ui/core'\nimport { useForm } from 'react-hook-form'\nimport { isValidHttpUrl } from '../../utils/validate'\nimport { useAuthState } from '../../contexts/context'\nimport Routes from '../../utils/routes'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      margin: theme.spacing(2)\n    },\n    button: {\n      marginTop: theme.spacing(1),\n      marginRight: theme.spacing(1),\n    },\n    actionsContainer: {\n      marginBottom: theme.spacing(2),\n    },\n    resetContainer: {\n      padding: theme.spacing(3),\n    },\n  })\n)\n\nfunction getSteps() {\n  return ['Choose URL', 'Confirm Item', 'Finish']\n}\n\nfunction getStepContent(step: number) {\n  switch (step) {\n    case 0:\n      return `Choose an URL to track prices for. We currently support: Tiki.vn, Shopee.vn .`\n    case 1:\n      return 'Check the item found by the server.'\n    case 2:\n      return `Your item has been successfully tracked. Click the button below to go to the item's page.`\n    default:\n      return 'Unknown step'\n  }\n}\n\ntype FormData = {\n  url: string\n}\n\nexport default function ItemAdd() {\n  const classes = useStyles()\n  const history = useHistory()\n  const userAuth = useAuthState()\n\n  const { register, handleSubmit, setError, errors } = useForm<FormData>()\n\n  const [activeStep, setActiveStep] = React.useState(0)\n  const [returnedItem, setItem] = React.useState<Item>({} as any)\n  const steps = getSteps()\n\n  if (!userAuth.user) {\n    // TODO: error modal\n    history.push(Routes.SIGNIN)\n  }\n\n  const handleClick = async () => {\n    const responseItem = await createItem(returnedItem)\n    if (!responseItem) {\n      // set error\n    } else if (responseItem == null) {\n      return\n    } else {\n      setItem(responseItem)\n      handleNext()\n    }\n  }\n\n  const getStepButton = (step) => {\n    switch (step) {\n      case 0:\n        return (\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            type=\"submit\"\n            form=\"url-form\"\n            className={classes.button}\n          >\n            Submit URL\n          </Button>\n        )\n      case 1:\n        return (\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            type=\"submit\"\n            onClick={handleClick}\n            className={classes.button}\n          >\n            Confirm\n          </Button>\n        )\n      case 2:\n        return (\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleNext}\n            className={classes.button}\n          >\n            {activeStep === steps.length - 1 ? 'Finish' : 'Next'}\n          </Button>\n        )\n      default:\n        return <div>Unknown step</div>\n    }\n  }\n\n  const handleNext = () => {\n    if (activeStep === steps.length - 1) {\n      history.push(`/item/${returnedItem.id}`)\n      return\n    }\n    setActiveStep((prevActiveStep) => prevActiveStep + 1)\n  }\n\n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1)\n  }\n\n  const onSubmit = handleSubmit(async ({ url }) => {\n    const item = {\n      url,\n    }\n    if (!isValidHttpUrl(url)) {\n      setError('url', {\n        type: 'required',\n        message: 'The URL must be valid.',\n      })\n      return\n    }\n\n    const responseItem = await getItemFromURL({ item })\n    console.log(responseItem)\n\n    if (typeof responseItem === 'number') {\n      if (responseItem === 501) {\n        setError('url', {\n          type: 'required',\n          message: 'This site is not currently supported.',\n        })\n      } else {\n        setError('url', {\n          type: 'required',\n          message: 'This item cannot be found.',\n        })\n      }\n    } else if (responseItem == null) {\n      return\n    } else {\n      console.log(responseItem)\n      setItem(responseItem)\n      handleNext()\n    }\n  })\n\n  const handleSteps = (step) => {\n    switch (step) {\n      case 0:\n        return (\n          <form noValidate onSubmit={onSubmit} id=\"url-form\">\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"url\"\n              label=\"URL\"\n              name=\"url\"\n              autoComplete=\"url\"\n              inputRef={register({\n                required: 'An URL is required',\n              })}\n              error={errors.url ? true : false}\n              helperText={errors.url ? errors.url.message : ''}\n              autoFocus\n            />\n          </form>\n        )\n      case 1:\n        return (\n          <React.Fragment>\n            {returnedItem ? (\n              <ItemForm item={returnedItem} />\n            ) : (\n              <div>An error has occured. Please go back to the first step.</div>\n            )}\n          </React.Fragment>\n        )\n      default:\n        break\n    }\n  }\n  return (\n    <Paper className={classes.root}>\n      <Stepper activeStep={activeStep} orientation=\"vertical\">\n        {steps.map((label, index) => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n            <StepContent>\n              <Typography>{getStepContent(index)}</Typography>\n              {handleSteps(activeStep)}\n              <div className={classes.actionsContainer}>\n                <div>\n                  <Button\n                    disabled={activeStep === 0}\n                    onClick={handleBack}\n                    className={classes.button}\n                  >\n                    Back\n                  </Button>\n                  {getStepButton(activeStep)}\n                </div>\n              </div>\n            </StepContent>\n          </Step>\n        ))}\n      </Stepper>\n    </Paper>\n  )\n}\n","import React from 'react'\nimport NavBar from '../NavBar'\nimport { Route, Switch } from 'react-router-dom'\nimport ItemPage from '../ItemPage'\nimport NotFound from '../NotFound'\nimport Routes from '../../utils/routes'\nimport SignIn from '../SignIn'\nimport SignUp from '../SignUp'\nimport Profile from '../Profile'\nimport Home from '../Home'\nimport SignOut from '../SignOut'\nimport { AxiosInstance } from '../../api/axios'\nimport { useAuthDispatch } from '../../contexts/context'\nimport { logout } from '../../api/user'\nimport { CookieWrapper } from '../../utils/storage'\nimport { CssBaseline, useMediaQuery } from '@material-ui/core'\nimport { ThemeProvider} from '@material-ui/core/styles'\nimport { darkTheme, lightTheme } from '../../theme'\nimport Search from '../Search'\nimport ItemAdd from '../ItemAdd'\n\nfunction App() {\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)')\n\n  // Get current cookie\n  const currentJWT = CookieWrapper.getCookie(\"jwt\")\n  AxiosInstance.defaults.headers.common['Authorization'] = currentJWT\n    ? 'Bearer ' + currentJWT\n    : ''\n\n  // Initial check for current session\n  const dispatch = useAuthDispatch()\n  AxiosInstance.get('/user').catch(() => {\n    console.log(\"error during user initialization, deleting cookies...\")\n    logout(dispatch)\n  })\n\n  const theme = prefersDarkMode ? darkTheme : lightTheme\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <NavBar />\n      <Switch>\n        <Route exact path={Routes.HOME} component={Home} />\n        <Route path={Routes.PROFILE} component={Profile} />\n        <Route path={Routes.SIGNIN} component={SignIn} />\n        <Route path={Routes.SIGNUP} component={SignUp} />\n        <Route path={Routes.ADDITEM} component={ItemAdd} />\n        <Route path={Routes.ITEM} component={ItemPage} />\n        <Route path={Routes.SIGNOUT} component={SignOut} />\n        <Route path={Routes.SEARCH} component={Search} />\n        <Route component={NotFound} />\n      </Switch>\n    </ThemeProvider>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App'\nimport { BrowserRouter } from 'react-router-dom'\nimport { AuthProvider } from './contexts/context'\n\nReactDOM.render(\n  <div>\n    <AuthProvider>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </AuthProvider>\n  </div>,\n  document.querySelector('#root')\n)\n"],"sourceRoot":""}