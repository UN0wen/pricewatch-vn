(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{160:function(e,t,r){},187:function(e,t,r){"use strict";r.r(t);var a,n=r(1),c=r(0),i=r.n(c),s=r(17),o=r.n(s),l=(r(160),r(13)),u=r(32),A=r(241),d=r(281),p=r(22),j=r(128),b=r.n(j),h=r(129),m=r.n(h),x=r(131),f=r.n(x),O=r(132),g=r.n(O),w=r(249),v=r(250),C=r(251),y=r(74),Q=r(282),E=r(247),B=r(138),k=r(248),I=r(252),S=r(253),U=r(21),N={ACCOUNT:"/account",HOME:"/",ITEM:"/item/:itemID",SIGNIN:"/signin",SIGNOUT:"/signout",SIGNUP:"/signup",PROFILE:"/profile",SEARCH:"/search",ADDITEM:"/item/add"},R=r(26),D=new(r(139).a),M={getCookie:function(e){return D.get(e)},setCookie:function(e,t,r){D.set(e,t,{path:"/",expires:r})},removeCookie:function(){D.remove("userAuth"),D.remove("jwt")}},G=M.getCookie("userAuth"),K=M.getCookie("jwt"),L={user:G||""||"",token:K||""||"",loading:!1,errorMessage:null};!function(e){e[e.REQUEST_LOGIN=0]="REQUEST_LOGIN",e[e.LOGIN_SUCCESS=1]="LOGIN_SUCCESS",e[e.LOGOUT=2]="LOGOUT",e[e.LOGIN_ERROR=3]="LOGIN_ERROR"}(a||(a={}));var W=function(e,t){switch(t.type){case a.REQUEST_LOGIN:return Object(R.a)(Object(R.a)({},e),{},{loading:!0});case a.LOGIN_SUCCESS:return Object(R.a)(Object(R.a)({},e),{},{user:t.payload.user,token:t.payload.auth_token,loading:!1});case a.LOGOUT:return Object(R.a)(Object(R.a)({},e),{},{user:"",token:""});case a.LOGIN_ERROR:return Object(R.a)(Object(R.a)({},e),{},{loading:!1,errorMessage:t.error});default:throw new Error("Unhandled action type: ".concat(t.type))}},q={},F=i.a.createContext(L),T=i.a.createContext(q);function Y(){var e=i.a.useContext(F);if(void 0===e)throw new Error("useAuthState must be used within a AuthProvider");return e}function J(){var e=i.a.useContext(T);if(void 0===e)throw new Error("useAuthDispatch must be used within a AuthProvider");return e}var P=function(e){var t=e.children,r=i.a.useReducer(W,L),a=Object(l.a)(r,2),c=a[0],s=a[1];return Object(n.jsx)(F.Provider,{value:c,children:Object(n.jsx)(T.Provider,{value:s,children:t})})},H=r(243),V=r(244),X=Object(A.a)((function(e){return Object(d.a)({root:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}})}));function z(e){var t=e.children,r=X(),a=Object(H.a)({target:window,disableHysteresis:!0,threshold:100});return Object(n.jsx)(V.a,{in:a,children:Object(n.jsx)("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:r.root,children:t})})}var Z=r(130);function _(e){var t;try{t=new URL(e)}catch(r){return!1}return"http:"===t.protocol||"https:"===t.protocol}var $=Object(A.a)((function(e){return Object(d.a)({grow:{flexGrow:1},homeButton:{marginRight:e.spacing(2)},title:Object(u.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),root:{margin:e.spacing(1,1,1,4),padding:e.spacing(1),display:"flex",alignItems:"center",width:"75%",height:40,background:Object(p.b)(e.palette.common.white,.15)},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},section:Object(u.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),username:{padding:e.spacing(0,2)}})}));function ee(){var e=Object(U.f)(),t=$(),r=Y(),a=i.a.useState(""),c=Object(l.a)(a,2),s=c[0],o=c[1],u=i.a.useState(null),A=Object(l.a)(u,2),d=A[0],p=A[1],j=Boolean(d),h=function(){p(null)},x="primary-search-account-menu",O=Object(n.jsxs)(B.a,{anchorEl:d,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},id:x,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"center"},open:j,onClose:h,children:[Object(n.jsxs)(E.a,{onClick:function(){e.push(N.PROFILE),h()},children:["Signed in as ",r.user.username]}),Object(n.jsx)(k.a,{}),Object(n.jsx)(E.a,{onClick:function(){e.push(N.PROFILE),h()},children:"Profile"}),Object(n.jsx)(E.a,{onClick:function(){e.push(N.ADDITEM),h()},children:"Add New Item"}),Object(n.jsx)(E.a,{onClick:function(){e.push(N.SIGNOUT),h()},children:"Sign Out"})]});return Object(n.jsxs)("div",{className:t.grow,children:[Object(n.jsx)(w.a,{position:"sticky",color:"default",children:Object(n.jsxs)(v.a,{id:"back-to-top-anchor",children:[Object(n.jsx)(C.a,{edge:"start",className:t.homeButton,color:"inherit","aria-label":"home",onClick:function(){e.push("/")},children:Object(n.jsx)(b.a,{})}),Object(n.jsx)(y.a,{className:t.title,variant:"h6",noWrap:!0,children:"PriceWatch-VN"}),Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault(),_(s)?e.push("/item/add?url=".concat(s)):(e.push("/search?q=".concat(s)),o(""))},className:t.root,children:[Object(n.jsx)(Q.a,{className:t.input,placeholder:"Search or URL to add new item (e.g. tiki.vn, shopee.vn)",inputProps:{"aria-label":"search"},onChange:function(e){o(e.target.value)}}),Object(n.jsx)(C.a,{type:"submit",className:t.iconButton,"aria-label":"search",children:Object(n.jsx)(m.a,{})})]}),Object(n.jsx)("div",{className:t.grow}),Object(n.jsx)("div",{className:t.section,children:r.user?Object(n.jsxs)("div",{children:[Object(n.jsx)(C.a,{edge:"end","aria-label":"add new item","aria-controls":x,"aria-haspopup":"true",onClick:function(){e.push(N.ADDITEM)},color:"inherit",children:Object(n.jsx)(Z.a,{})}),Object(n.jsx)(C.a,{edge:"end","aria-label":"account of current user","aria-controls":x,"aria-haspopup":"true",onClick:function(e){p(e.currentTarget)},color:"inherit",children:Object(n.jsx)(f.a,{})})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)(I.a,{color:"inherit",onClick:function(){e.push(N.SIGNUP),h()},children:"Sign Up"}),Object(n.jsx)(I.a,{color:"inherit",onClick:function(){e.push(N.SIGNIN),h()},children:"Sign In"})]})})]})}),O,Object(n.jsx)(z,{children:Object(n.jsx)(S.a,{color:"secondary",size:"small","aria-label":"scroll back to top",children:Object(n.jsx)(g.a,{})})})]})}var te=r(9),re=r.n(te),ae=r(11),ne=r(18),ce=r(46),ie=r(258),se=r(259),oe=r(260),le=r(261),ue=r(107),Ae=r(257),de=r(255),pe=r(276),je=r(256),be=r(278),he=r(134),me=r.n(he).a.create({baseURL:"http://pricewatch-vn.herokuapp.com/api"});function xe(){return fe.apply(this,arguments)}function fe(){return(fe=Object(ae.a)(re.a.mark((function e(){var t,r,a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.get("/items/prices");case 3:if(t=e.sent,r=t.data,!Array.isArray(r)){e.next=8;break}return a=r.map((function(e){return e.item_with_price})),e.abrupt("return",a);case 8:return e.abrupt("return",null);case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.error),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function Oe(e){return ge.apply(this,arguments)}function ge(){return(ge=Object(ae.a)(re.a.mark((function e(t){var r,a,n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.get("/items/search",{params:t});case 3:if(r=e.sent,a=r.data,!Array.isArray(a)){e.next=8;break}return n=a.map((function(e){return e.item_with_price})),e.abrupt("return",n);case 8:return e.abrupt("return",null);case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.error),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function we(e){return ve.apply(this,arguments)}function ve(){return(ve=Object(ae.a)(re.a.mark((function e(t){var r,a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.get("/item/".concat(t));case 3:if(r=e.sent,!(a=r.data).item_with_price){e.next=7;break}return e.abrupt("return",a.item_with_price);case 7:return e.abrupt("return",null);case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0.response.data.error),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Ce(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(ae.a)(re.a.mark((function e(t){var r,a,n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.get("/item/".concat(t,"/prices"));case 3:if(r=e.sent,a=r.data,!Array.isArray(a)){e.next=8;break}return n=a.map((function(e){return e.price})),e.abrupt("return",n);case 8:return e.abrupt("return",null);case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.error),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function Qe(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(ae.a)(re.a.mark((function e(t){var r,a,n,c;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={item:t},a={headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},e.prev=2,e.next=5,me.post("/item",r,a);case 5:if(n=e.sent,!(c=n.data)){e.next=9;break}return e.abrupt("return",c.item);case 9:return e.abrupt("return",null);case 12:return e.prev=12,e.t0=e.catch(2),console.log(e.t0.response.data.error),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function Be(e){return ke.apply(this,arguments)}function ke(){return(ke=Object(ae.a)(re.a.mark((function e(t){var r,a,n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.prev=1,e.next=4,me.post("/item/url",t,r);case 4:if(a=e.sent,!(n=a.data)){e.next=8;break}return e.abrupt("return",n.item);case 8:return e.abrupt("return",400);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",Number(e.t0.response.status));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}var Ie="data:image/jpeg;base64,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A8U8A408888U488s88c88M8scUsMc488008s88s888cc888s48c0ss8s88ss88c8888880s8888M8o8oMcccsM8M8Es884csE8c8oss8888E848s48088o848Qg8848sU8888co88c8E8s8M4cs8888Qs4488o88E8c8Ms888c8A8s8Msc884sYkY0U88s8sE8c8Ms88888U8884880I4M0M8Isc8s88c888888M8c8gso8QMUMQocw888Mg4g84QcUs8c88888U848wM0cYAAAAAAAAQI88w808w888888E8s8IoY8A4MY88Q88oE80E8c80888s88U88kscg0AoIAs4QI0oU8cU888c888sscEc48AI4UAs88sEAwookMsQ80sAMs8888E8s8s4k4A8oEMgAAgoA88M8c8c8s8888E8s448MQA4QAAAAAUgQ80c8c88888888A8o8s8sgAgAgAAAAAAQ8sE8c8c88wMccEss8IMsUAAAAAAAAAAEs0E8cscUM8888U8s8Yk8E88g8I8Uo88s88Y8Msk8o8w4UE4o8Qgw00wg4QwQggwkQsU0QowUAw888c8s8888s488888cs88s88c8888888AAUkMIQQEgEMIAEIEAIAAAE0EMMogQAM888U8s4os8U88o8M8cs48s80M888M8o8ww0UoY8ww4U04g0wwQowwgw8c004w0g8M8cU88oI88ccss8scMsMMccUU88sc8s8/8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAwEBPxBIP//EABQRAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQIBAT8QSD//xAArEAAABAQGAQMFAQAAAAAAAAAAEDFxAREg8CEwQEFRYVCBkaFgscHh8dH/2gAIAQEAAT8QqR4ojQuJ1bqTqHE43Bwcbg4OJwcHBwcHVOzDjcHUQ8kABGaQoI8KAIoXSEaECPoIwAA7xIdoXaAdS4nUOqcTqXaF2jdS7wjstAR4gAABARQR9IABARqwRmiAjSiM4lXlRlTDsHgEsuRmyow8CABchMPzsDcB/AgaCgyJHQBGhCNQ9DAB/BAggOMewoYY0F3MxBizCRGhhSEaUAvUGAnY5U3B0jGgXwKmCJQOjPlP3EegzDVgUMrESOULBFBGhCAjRg8U3YG7HMh/lngUILohgoYsBwc/MR4cAIUnRPrtsUNhLt5go5aPDBxA++AaYkhG2E9YiA/0BSiSoFvx7ENYoDGNIgB7mMCoTBiCHER9wIgfAnA1BJWjPC5Fw40aMQYP4AQx4FGOmRisp0goKRJaODIiTSZE86tlLCYTDYTB7Cg/wT0AFQkekjkGJllQIAtIklAbCUfissOIiIiIjsBRUgkYlwGAAUhER4A5FSYTCYbDZloCMg/YCJIi2UCcRzRr8kcQcCKEBPNFEmm+woL14J0f2jCBbxEyRA8sgBHkgPcBBOhYuDiMMu4iziRrOIu4ka7iLuIu4iziLuJGu4i7iLOIu4ixiFUxFiFcd+DH3AIJD0JYKIgdoix0GJ8I5OxcaQE//wD/AP8A/wD/APz/AP7B0y+R93hAAAkiCmGxe2EEqdi4qABSKMAPj5TjOBauRvFx3qgjKfExESJJNbDsIGexcUAaiTBYj9wJJEpICzYt1QCAwiqHFVq5G8XXdJGlARlA+AGFiPcIBCUAQ9RHwIZBJYuM0AIAVMP6Agi5YQd1IBauRvF13qgAEZbCDhci4liA/gJEMFi4oA+JMKKR9AolBwLs549keonRKHR0AE84PxVi/wBpwmA+QckPkQLHauSuu6UaUCAjIBBPkSQiAQjihsMQKTsMSIsXFIAnxEbA44H+OOtB/AKghSf1XjblRUkAJCVhgoDHR4oCHrVyVx3QI8EAAYEQShIPcRAFFi4ywS87ZpahFRiZsJMlj7GStXJXXerARlm4ikqPiIncXAWLioEh/NHhI+3HpFItxPRgJn3CibelWSDQdhuJg7MCtXI3i470QSyKMwwCBCwEbOfriNoXLsRA5oRaoGOH+7CI/YHABGGfsIC2VGbDlJYnKNG+j4A1AkVq5K478OHvAEqF7TVclSDYDCH3Oh/ANI6yN9CgSnLhGJWrkbxdd6oRmkMm0OqgXYhowfwYsQ6qaTRvpg8AmBQGRkLVyQuO9UQEZhM6Q6BsnBxYMMaQfoS0GeIQBCEoShKEq3YFigWrkrruhAR4MBJvH5QhpZMTAzMzMzMzMzMz7otTCuO9GkDg4SE4kBBOpHEcZIO0pBCjAioOIm8nh5dA6A8dBPJ5vDzuOycaKDjcZxODshGeBEW8SKCmmu7u7u7u7u7u7u76aUrCkR9PAAABlDKmBlDKjNQMyCAjKEa4AgI0oAI8wAAAAAAAAk+lwDPqcAAAAAAAAGIyHEZH0UyFFAkdiMqchkMhxPKruQ4jIZDifZUSMoMipDLTQdW6g6o7UAdkIzjGvjmcdNY5c4SeVAJAwdgYJCQchJDkIwSF2CQpDMDAwdhSBgkEgQJCYOwSCQSBg7AwSUyEkOQkgkKQMMcaQkZIIpJyyHIU9FxiBIUlIA4klBGlABHigjP/AP/Z",Se=r(279),Ue=r(254),Ne=Object(A.a)((function(e){return Object(d.a)({grow:{height:"100%",margin:e.spacing(2)},paper:{padding:e.spacing(2),display:"flex",flexDirection:"column",flexGrow:1,alignItems:"center"},root:{display:"flex",flexDirection:"row",margin:e.spacing(1),flexGrow:1},titleContentPrice:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignContent:"center"},buttonArea:{flexGrow:1},titleContent:{display:"flex",flexGrow:5,flexDirection:"column",justifyContent:"space-between",alignContent:"center"},content:{display:"flex",flex:"1 0 auto",flexDirection:"row",justifyContent:"space-between",width:"100%"},title:{wordWrap:"break-word",margin:e.spacing(1),justifyContent:"center",display:"flex"},titleSubtile:{display:"flex",alignItems:"center",flexDirection:"column"},cover:{width:400,height:400},button:{height:"100%"},cardAction:{padding:0,height:"100%"},text:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexGrow:1,marginRight:e.spacing(1)},vnd:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},chart:{display:"flex",width:"90%"},description:{display:"flex",margin:e.spacing(1,0)}})})),Re=function(e){return Object(n.jsx)(ce.c.Path,Object(R.a)(Object(R.a)({},e),{},{path:Object(Se.a)().x((function(e){return e.arg})).y((function(e){return e.val})).curve(Ue.a)}))};function De(){var e=Ne(),t=Object(U.h)().itemID,r=Object(c.useState)({}),a=Object(l.a)(r,2),i=a[0],s=a[1],o=Object(c.useState)([]),u=Object(l.a)(o,2),A=u[0],d=u[1],p=Object(c.useState)(!0),j=Object(l.a)(p,2),b=j[0],h=j[1],m=Object(c.useState)(!0),x=Object(l.a)(m,2),f=x[0],O=x[1];Object(c.useEffect)((function(){(function(){var e=Object(ae.a)(re.a.mark((function e(){var r;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,we(t);case 3:r=e.sent,s(r||{}),h(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(c.useEffect)((function(){(function(){var e=Object(ae.a)(re.a.mark((function e(){var r;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,Ce(t);case 3:(r=e.sent)&&(r.sort((function(e,t){return e.time>t.time?1:-1})),r.forEach((function(e){e.time=new Date(e.time)}))),d(r||[]),O(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);var g=(null===i||void 0===i?void 0:i.name)||"No title",w=(null===i||void 0===i?void 0:i.image_url)||Ie,v=(null===i||void 0===i?void 0:i.url)||"/",C=(null===i||void 0===i?void 0:i.description)||"No description",Q=(null===i||void 0===i?void 0:i.time)?Object(de.a)(null===i||void 0===i?void 0:i.time):new Date,E=(null===i||void 0===i?void 0:i.price)||0;Object(c.useEffect)((function(){g=(null===i||void 0===i?void 0:i.name)||"No title",w=(null===i||void 0===i?void 0:i.image_url)||Ie,v=(null===i||void 0===i?void 0:i.url)||"/",Q=(null===i||void 0===i?void 0:i.time)?Object(de.a)(null===i||void 0===i?void 0:i.time):new Date,E=(null===i||void 0===i?void 0:i.price)||0,C=(null===i||void 0===i?void 0:i.description)||"No description"}),[i]);return Object(n.jsx)("div",{className:e.grow,children:Object(n.jsxs)(ue.a,{className:e.paper,children:[b?Object(n.jsx)(Ae.a,{}):Object(n.jsxs)(ie.a,{className:e.root,children:[Object(n.jsx)(se.a,{className:e.cover,image:w,title:g}),Object(n.jsxs)("div",{className:e.titleContentPrice,children:[Object(n.jsxs)(oe.a,{className:e.titleContent,children:[Object(n.jsxs)("div",{className:e.titleSubtile,children:[Object(n.jsx)(y.a,{variant:"h5",className:e.title,children:g}),Object(n.jsx)(y.a,{variant:"body1",color:"textSecondary",children:"Last updated: ".concat(Object(be.a)(Q,{addSuffix:!0}))})]}),Object(n.jsx)(k.a,{orientation:"horizontal",className:e.description}),Object(n.jsx)(y.a,{className:e.description,children:C}),Object(n.jsxs)("div",{className:e.content,children:[Object(n.jsx)(y.a,{variant:"h3",className:e.text,children:E.toLocaleString()}),Object(n.jsx)(y.a,{variant:"h6",color:"textSecondary",className:e.vnd,align:"right",children:"VND"})]})]}),Object(n.jsxs)("div",{className:e.buttonArea,children:[Object(n.jsx)(k.a,{orientation:"horizontal"}),Object(n.jsx)(le.a,{className:e.cardAction,disableSpacing:!0,children:Object(n.jsx)(I.a,{onClick:function(){window.open(v)},className:e.button,fullWidth:!0,children:"To store page"})})]})]})]}),f?Object(n.jsx)(Ae.a,{}):Object(n.jsx)("div",{className:e.chart,children:Object(n.jsxs)(ce.b,{data:A,width:5e3,children:[Object(n.jsx)(ne.m,{name:"price"}),Object(n.jsx)(ne.b,{name:"time"}),Object(n.jsx)(ce.a,{labelComponent:function(e){var t=e.x,r=e.y,a=e.dy,c=e.text,i=e.textAnchor,s=c.replace(/[ ,.]/g,"");return Object(n.jsx)(ce.b.Label,{x:t,y:r,dy:a,textAnchor:i,children:Object(pe.a)(Object(je.a)(s/1e3),"h a, MMM Do")})}}),Object(n.jsx)(ce.g,{scaleName:"price",showLine:!0,showTicks:!0}),Object(n.jsx)(ce.c,{name:"Price over time",valueField:"price",argumentField:"time",scaleName:"price",seriesComponent:Re}),Object(n.jsx)(ce.d,{valueField:"price",argumentField:"time"})," ",Object(n.jsx)(ne.e,{}),Object(n.jsx)(ce.f,{contentComponent:function(e){var t=e.targetItem;return Object(n.jsxs)("div",{children:[A[t.point].price.toLocaleString()," VND"]})}}),Object(n.jsx)(ce.e,{text:"Price over time"})]})})]})})}function Me(){return Object(n.jsx)("div",{children:"404 Not Found"})}var Ge=r(92),Ke=r.n(Ge),Le=r(45),We=r(283),qe=r(265),Fe=r(277),Te=r(267),Ye=r(266),Je=r(264);function Pe(e,t){return He.apply(this,arguments)}function He(){return(He=Object(ae.a)(re.a.mark((function e(t,r){var n,c,i,s;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},e.prev=1,t({type:a.REQUEST_LOGIN,payload:{},error:{}}),e.next=5,me.post("/signup",r,n);case 5:if(c=e.sent,!(i=c.data).user){e.next=15;break}return t({type:a.LOGIN_SUCCESS,payload:i,error:{}}),s=new Date,s=new Date(s.getTime()+6048e5),M.setCookie("userAuth",i.user,s),M.setCookie("jwt",i.jwt,s),me.defaults.headers.common.Authorization="Bearer "+i.jwt,e.abrupt("return",i.user);case 15:return t({type:a.LOGIN_ERROR,payload:{},error:i.errors[0]}),e.abrupt("return",null);case 19:return e.prev=19,e.t0=e.catch(1),t({type:a.LOGIN_ERROR,payload:{},error:e.t0}),e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,null,[[1,19]])})))).apply(this,arguments)}function Ve(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=Object(ae.a)(re.a.mark((function e(t,r){var n,c,i,s;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},e.prev=1,t({type:a.REQUEST_LOGIN,payload:{},error:{}}),e.next=5,me.post("/login",r,n);case 5:if(c=e.sent,!(i=c.data).user){e.next=15;break}return t({type:a.LOGIN_SUCCESS,payload:i,error:{}}),s=new Date,s=new Date(s.getTime()+6048e5),M.setCookie("userAuth",i.user,s),M.setCookie("jwt",i.jwt,s),me.defaults.headers.common.Authorization="Bearer "+i.jwt,e.abrupt("return",i.user);case 15:return t({type:a.LOGIN_ERROR,payload:{},error:i.errors[0]}),e.abrupt("return",null);case 19:return e.prev=19,e.t0=e.catch(1),t({type:a.LOGIN_ERROR,payload:{},error:e.t0}),e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,null,[[1,19]])})))).apply(this,arguments)}function ze(e){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(ae.a)(re.a.mark((function e(t){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:a.LOGOUT,payload:{},error:{}}),me.defaults.headers.common.Authorization="",M.removeCookie();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e,t,r){return $e.apply(this,arguments)}function $e(){return($e=Object(ae.a)(re.a.mark((function e(t,r,n){var c,i,s,o,l;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(e){return{headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}},e.prev=1,e.next=4,me.post("/login",r,c(r));case 4:if(i=e.sent,!i.data.user){e.next=17;break}return e.next=9,me.put("/user",n,c(n));case 9:if(s=e.sent,!(o=s.data).user){e.next=17;break}return t({type:a.LOGIN_SUCCESS,payload:o,error:{}}),l=new Date,l=new Date(l.getTime()+6048e5),M.setCookie("userAuth",o.user,l),e.abrupt("return",o.user);case 17:return e.abrupt("return",null);case 20:return e.prev=20,e.t0=e.catch(1),console.log(e.t0.response.data.error),e.abrupt("return",null);case 24:case"end":return e.stop()}}),e,null,[[1,20]])})))).apply(this,arguments)}function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=Object(ae.a)(re.a.mark((function e(t,r){var n,c,i,s;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},e.prev=1,e.next=4,me.put("/user",r,n);case 4:if(c=e.sent,!(i=c.data).user){e.next=12;break}return t({type:a.LOGIN_SUCCESS,payload:i,error:{}}),s=new Date,s=new Date(s.getTime()+6048e5),M.setCookie("userAuth",i.user,s),e.abrupt("return",i.user);case 12:return e.abrupt("return",null);case 15:return e.prev=15,e.t0=e.catch(1),console.log(e.t0.response.data.error),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}var rt=r(190),at=r(262),nt=r(141),ct=r(263),it=Object(A.a)((function(e){return Object(d.a)({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}})}));function st(e){var t=it(),r=Object(U.f)(),a=Object(c.useState)(!1),i=Object(l.a)(a,2),s=i[0],o=i[1];Object(c.useEffect)((function(){o(e.open)}),[e.open]);return Object(n.jsx)("div",{children:Object(n.jsx)(at.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:s,closeAfterTransition:!0,BackdropComponent:rt.a,BackdropProps:{timeout:500},children:Object(n.jsx)(nt.a,{in:s,onEnter:function(){setTimeout((function(){o(!1)}),1e3)},onExited:function(){r.push(N.HOME)},children:Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)("h2",{id:"transition-modal-title",children:"Successfully logged in"}),Object(n.jsx)("p",{id:"transition-modal-description",children:"You will be redirected to the home page shortly..."}),Object(n.jsx)(ct.a,{})]})})})})}var ot=Object(A.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function lt(){var e=ot(),t=Object(Le.a)(),r=t.register,a=t.handleSubmit,i=t.setError,s=t.errors,o=J(),u=Object(c.useState)(!1),A=Object(l.a)(u,2),d=A[0],p=A[1],j=a(function(){var e=Object(ae.a)(re.a.mark((function e(t){var r,a,n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,a=t.password,n={email:r,password:a},e.next=4,Ve(o,{user:n});case 4:if(e.sent){e.next=9;break}return i("email",{type:"required"}),i("password",{type:"required",message:"Account does not exist or password does not match."}),e.abrupt("return");case 9:p(!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(n.jsxs)(Je.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(qe.a,{}),Object(n.jsx)(st,{open:d}),Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(We.a,{className:e.avatar,children:Object(n.jsx)(Ke.a,{})}),Object(n.jsx)(y.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(n.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:j,children:[Object(n.jsx)(Fe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",inputRef:r,error:!!s.email,helperText:s.email?s.email.message:"",autoFocus:!0}),Object(n.jsx)(Fe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",error:!!s.password,helperText:s.password?s.password.message:"",inputRef:r}),Object(n.jsx)(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign In"}),Object(n.jsx)(Ye.a,{container:!0,children:Object(n.jsx)(Ye.a,{item:!0,children:Object(n.jsx)(Te.a,{href:N.SIGNUP,variant:"body2",children:"Don't have an account? Sign Up"})})})]})]})]})}var ut=Object(A.a)((function(e){return Object(d.a)({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}})}));function At(e){var t=ut(),r=Object(U.f)(),a=Object(c.useState)(!1),i=Object(l.a)(a,2),s=i[0],o=i[1];Object(c.useEffect)((function(){o(e.open)}),[e.open]);return Object(n.jsx)("div",{children:Object(n.jsx)(at.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:s,closeAfterTransition:!0,BackdropComponent:rt.a,BackdropProps:{timeout:500},children:Object(n.jsx)(nt.a,{in:s,onEnter:function(){setTimeout((function(){o(!1)}),1e3)},onExited:function(){r.push(N.HOME)},children:Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)("h2",{id:"transition-modal-title",children:"Successfully signed up"}),Object(n.jsx)("p",{id:"transition-modal-description",children:"You will be redirected to the home page shortly..."})]})})})})}var dt=Object(A.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),pt={username:"",email:"",password:"",repeat_password:""};function jt(){var e=dt(),t=Object(Le.a)({defaultValues:pt}),r=t.register,a=t.handleSubmit,c=t.watch,s=t.errors,o=t.setError,u=J(),A=i.a.useState(!1),d=Object(l.a)(A,2),p=d[0],j=d[1],b=i.a.useRef({});b.current=c("password","");var h=a(function(){var e=Object(ae.a)(re.a.mark((function e(t){var r;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("here"),r={username:t.username,email:t.email,password:t.password},console.log(t),e.next=6,Pe(u,{user:r});case 6:if(e.sent){e.next=9;break}return e.abrupt("return");case 9:j(!p),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),o("email",{type:"notMatch",message:"Email already in use. Please sign in or choose another email address."});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}());return Object(n.jsxs)(Je.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(qe.a,{}),Object(n.jsx)(At,{open:p}),Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(We.a,{className:e.avatar,children:Object(n.jsx)(Ke.a,{})}),Object(n.jsx)(y.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(n.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:h,children:[Object(n.jsxs)(Ye.a,{container:!0,spacing:2,children:[Object(n.jsx)(Ye.a,{item:!0,xs:12,children:Object(n.jsx)(Fe.a,{autoComplete:"username",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",error:!!s.username,helperText:s.username?s.username.message:"",autoFocus:!0,inputRef:r({required:"A username is required"})})}),Object(n.jsx)(Ye.a,{item:!0,xs:12,children:Object(n.jsx)(Fe.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",error:!!s.email,helperText:s.email?s.email.message:"",inputRef:r({required:"An email is required"})})}),Object(n.jsx)(Ye.a,{item:!0,xs:12,children:Object(n.jsx)(Fe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",error:!!s.password,helperText:s.password?s.password.message:"",inputRef:r({required:"A password is required",minLength:{value:6,message:"Password must have at least 6 characters"}})})}),Object(n.jsx)(Ye.a,{item:!0,xs:12,children:Object(n.jsx)(Fe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"repeat_password",label:"Repeat Password",type:"password",id:"repeat_password",error:!!s.repeat_password,helperText:s.repeat_password?s.repeat_password.message:"",inputRef:r({validate:function(e){return e===b.current||"The passwords do not match"}})})})]}),Object(n.jsx)(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign Up"}),Object(n.jsx)(Ye.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(Ye.a,{item:!0,children:Object(n.jsx)(Te.a,{href:N.SIGNIN,variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})}function bt(){return ht.apply(this,arguments)}function ht(){return(ht=Object(ae.a)(re.a.mark((function e(){var t,r,a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.get("/user/items");case 3:if(t=e.sent,r=t.data,!Array.isArray(r)){e.next=8;break}return a=r.map((function(e){return e.item_with_price})),e.abrupt("return",a);case 8:return e.abrupt("return");case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.error);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var mt=r(268),xt=r(269),ft=Object(A.a)((function(e){return Object(d.a)({root:{display:"flex",flexDirection:"column",margin:e.spacing(1),flexGrow:1,maxWidth:400},content:{display:"flex",flex:"1 0 auto",flexDirection:"row",justifyContent:"space-between",width:"100%"},cover:{height:0,paddingTop:"56.25%"},button:{height:e.spacing(8)},cardAction:{padding:0},text:{display:"flex",justifyContent:"flex-end",flexGrow:1,marginRight:e.spacing(1)},vnd:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"}})}));function Ot(e){var t=ft(),r=Object(U.f)(),a=e.name||"No title",c=e.image_url||Ie,i=e.url||"/",s=e.id||"",o=Object(de.a)(e.time)||"Unknown",l=e.price||0,u=function(){r.push("/item/".concat(s))};return Object(n.jsxs)(ie.a,{className:t.root,children:[Object(n.jsxs)(mt.a,{onClick:u,children:[Object(n.jsx)(xt.a,{title:a,subheader:"Last updated: ".concat(Object(be.a)(o,{addSuffix:!0}))}),Object(n.jsx)(se.a,{className:t.cover,image:c,title:a}),Object(n.jsx)("div",{children:Object(n.jsxs)(oe.a,{className:t.content,children:[Object(n.jsx)(y.a,{variant:"h3",className:t.text,children:l.toLocaleString()}),Object(n.jsx)(y.a,{variant:"h6",color:"textSecondary",className:t.vnd,align:"right",children:"VND"})]})})]}),Object(n.jsx)(k.a,{orientation:"horizontal"}),Object(n.jsxs)(le.a,{className:t.cardAction,disableSpacing:!0,children:[Object(n.jsx)(I.a,{onClick:function(){window.open(i)},className:t.button,fullWidth:!0,children:"To store page"}),Object(n.jsx)(k.a,{orientation:"vertical",flexItem:!0}),Object(n.jsx)(I.a,{onClick:u,className:t.button,fullWidth:!0,children:"Price History"})]})]})}var gt=r(135),wt=r(136),vt=Object(A.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Ct(e){var t=e.callback,r=Y(),a=vt(),c=Object(Le.a)(),s=c.register,o=c.handleSubmit,l=c.watch,u=c.errors,A=J();if(!r.user)return Object(n.jsx)("div",{});var d=r.user,p=i.a.useRef({});p.current=l("password","");var j=o(function(){var e=Object(ae.a)(re.a.mark((function e(t){var r,a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={email:String(d.email),password:t.current_password},a={password:t.password},console.log(t),e.next=6,_e(A,{user:r},{user:a});case 6:if(e.sent){e.next=9;break}return e.abrupt("return");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}());return Object(n.jsxs)(Je.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(qe.a,{}),Object(n.jsx)("div",{className:a.paper,children:Object(n.jsx)("form",{className:a.form,noValidate:!0,onSubmit:j,children:Object(n.jsxs)(Ye.a,{container:!0,spacing:2,children:[Object(n.jsx)(Ye.a,{item:!0,xs:12,children:Object(n.jsx)(Fe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"current_password",label:"Password",type:"password",id:"current_password",error:!!u.current_password,helperText:u.current_password?u.current_password.message:"",defaultValue:"",inputRef:s({required:"The current password is required"})})}),Object(n.jsx)(Ye.a,{item:!0,xs:12,children:Object(n.jsx)(Fe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",error:!!u.password,helperText:u.password?u.password.message:"",defaultValue:"",inputRef:s({required:"A password is required",minLength:{value:6,message:"Password must have at least 6 characters"}})})}),Object(n.jsx)(Ye.a,{item:!0,xs:12,children:Object(n.jsx)(Fe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"repeat_password",label:"Repeat Password",type:"password",id:"repeat_password",defaultValue:"",error:!!u.repeat_password,helperText:u.repeat_password?u.repeat_password.message:"",inputRef:s({validate:function(e){return e===p.current||"The passwords do not match"}})})}),Object(n.jsx)(Ye.a,{item:!0,xs:3,children:Object(n.jsx)(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,children:"Save"})}),Object(n.jsx)(Ye.a,{item:!0,xs:3,children:Object(n.jsx)(I.a,{type:"button",fullWidth:!0,variant:"outlined",color:"primary",className:a.submit,onClick:function(){t()},children:"Cancel"})})]})})})]})}var yt=Object(A.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Qt(e){var t=e.callback,r=Y(),a=yt(),c=Object(Le.a)(),s=c.register,o=c.handleSubmit,l=c.watch,u=c.errors,A=c.setValue,d=J();if(!r.user)return Object(n.jsx)("div",{});var p=r.user;i.a.useRef({}).current=l("password",""),A("username",p.username,{shouldValidate:!0});var j=o(function(){var e=Object(ae.a)(re.a.mark((function e(t){var r;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={username:t.username},console.log(t),e.next=5,et(d,{user:r});case 5:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}());return Object(n.jsxs)(Je.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(qe.a,{}),Object(n.jsx)("div",{className:a.paper,children:Object(n.jsx)("form",{className:a.form,noValidate:!0,onSubmit:j,children:Object(n.jsxs)(Ye.a,{container:!0,spacing:2,children:[Object(n.jsx)(Ye.a,{item:!0,xs:12,children:Object(n.jsx)(Fe.a,{autoComplete:"username",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",error:!!u.username,helperText:u.username?u.username.message:"",autoFocus:!0,defaultValue:p.username||"",inputRef:s({required:"A new username is required"})})}),Object(n.jsx)(Ye.a,{item:!0,xs:3,children:Object(n.jsx)(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,children:"Save"})}),Object(n.jsx)(Ye.a,{item:!0,xs:3,children:Object(n.jsx)(I.a,{type:"button",fullWidth:!0,variant:"outlined",color:"primary",className:a.submit,onClick:function(){t()},children:"Cancel"})})]})})})]})}var Et=Object(A.a)((function(e){return Object(d.a)({avatar:{width:200,height:200,margin:"auto"},centeredTop:{textAlign:"center",padding:e.spacing(1)},editButton:{margin:e.spacing(1)},emailLine:{display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"center",margin:e.spacing(1)},emailString:{marginLeft:e.spacing(1)}})}));function Bt(){var e=Y(),t=Et(),r=Object(c.useState)(0),a=Object(l.a)(r,2),i=a[0],s=a[1];if(!e.user)return Object(n.jsx)("div",{});var o=e.user,u=function(){s(0)},A=function(e){s(e)};return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:t.centeredTop,children:[Object(n.jsx)(gt.a,{className:t.avatar}),Object(n.jsx)(y.a,{component:"h1",align:"center",variant:"h5",children:o.username}),Object(n.jsxs)(y.a,{className:t.emailLine,children:[Object(n.jsx)(wt.a,{}),Object(n.jsx)("span",{className:t.emailString,children:o.email})]}),Object(n.jsxs)(Ye.a,{container:!0,direction:"row",spacing:2,children:[Object(n.jsx)(Ye.a,{item:!0,xs:6,children:Object(n.jsx)(I.a,{variant:"outlined",className:t.editButton,onClick:function(){A(1)},children:"Edit username"})}),Object(n.jsx)(Ye.a,{item:!0,xs:6,children:Object(n.jsx)(I.a,{variant:"outlined",className:t.editButton,onClick:function(){A(2)},children:"Edit password"})})]}),1==i?Object(n.jsx)(Qt,{callback:u}):Object(n.jsx)("div",{}),2==i?Object(n.jsx)(Ct,{callback:u}):Object(n.jsx)("div",{})]})})}var kt=Object(A.a)((function(e){return Object(d.a)({grow:{flexGrow:1,height:"100%"},paper:{marginTop:e.spacing(2),padding:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},section:{height:"100%"},followed:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:e.spacing(8)}})}));function It(){var e=kt(),t=Y(),r=Object(U.f)(),a=Object(c.useState)([]),i=Object(l.a)(a,2),s=i[0],o=i[1],u=Object(c.useState)(!0),A=Object(l.a)(u,2),d=A[0],p=A[1];return t.user||r.push(N.SIGNIN),Object(c.useEffect)((function(){(function(){var e=Object(ae.a)(re.a.mark((function e(){var t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,bt();case 3:t=e.sent,o(t||[]),p(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.jsx)("div",{className:e.grow,children:Object(n.jsx)("div",{className:e.paper,children:Object(n.jsxs)(Ye.a,{container:!0,direction:"row",justify:"center",alignItems:"stretch",alignContent:"center",spacing:3,children:[Object(n.jsx)(Ye.a,{item:!0,xs:3,className:e.section,children:Object(n.jsx)(Bt,{})}),Object(n.jsx)(k.a,{orientation:"vertical",flexItem:!0}),Object(n.jsxs)(Ye.a,{item:!0,xs:!0,children:[Object(n.jsx)(y.a,{component:"h1",variant:"h3",className:e.followed,children:"Followed Items"}),Object(n.jsx)(Ye.a,{container:!0,direction:"row",justify:"center",alignItems:"stretch",spacing:3,children:d?Object(n.jsx)(Ae.a,{}):s.map((function(e,t){return Object(n.jsxs)(Ye.a,{item:!0,xs:4,children:[Object(n.jsx)(Ot,Object(R.a)({},e),t)," "]})}))})]})]})})})}var St=Object(A.a)((function(e){return Object(d.a)({grow:{flexGrow:1},paper:{marginTop:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)}})}));function Ut(){var e=St(),t=Object(c.useState)([]),r=Object(l.a)(t,2),a=r[0],i=r[1],s=Object(c.useState)(!0),o=Object(l.a)(s,2),u=o[0],A=o[1];return Object(c.useEffect)((function(){(function(){var e=Object(ae.a)(re.a.mark((function e(){var t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,xe();case 3:t=e.sent,i(t||[]),console.log(t),A(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.jsx)("div",{className:e.grow,children:Object(n.jsx)("div",{className:e.paper,children:Object(n.jsx)(Ye.a,{container:!0,direction:"row",justify:"center",alignItems:"stretch",alignContent:"center",spacing:3,children:Object(n.jsx)(Ye.a,{item:!0,xs:!0,children:Object(n.jsx)(Ye.a,{container:!0,direction:"row",justify:"center",alignItems:"stretch",spacing:3,children:u?Object(n.jsx)(Ae.a,{}):a.map((function(e,t){return Object(n.jsxs)(Ye.a,{item:!0,xs:3,children:[Object(n.jsx)(Ot,Object(R.a)({},e),t)," "]})}))})})})})})}var Nt=Object(A.a)((function(e){return Object(d.a)({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}})}));function Rt(){var e=Nt(),t=J(),r=Object(U.f)(),a=Object(c.useState)(!0),i=Object(l.a)(a,2),s=i[0],o=i[1];return Object(n.jsx)("div",{children:Object(n.jsx)(at.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:s,closeAfterTransition:!0,BackdropComponent:rt.a,BackdropProps:{timeout:500},children:Object(n.jsx)(nt.a,{in:s,onEnter:function(){ze(t),setTimeout((function(){o(!1)}),1e3)},onExited:function(){r.push(N.HOME)},children:Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)("h2",{id:"transition-modal-title",children:"Successfully logged out"}),Object(n.jsx)("p",{id:"transition-modal-description",children:"You will be redirected to the home page shortly..."}),Object(n.jsx)(ct.a,{})]})})})})}var Dt=r(274),Mt=r(275),Gt=r(270),Kt=r(271),Lt=r(94),Wt=r(95),qt=r(272),Ft=r(137),Tt=Object(Ft.a)({palette:{type:"light",primary:{main:Gt.a[500]},secondary:{main:Kt.a[500]},error:{main:Lt.a.A400}}}),Yt=Object(Ft.a)({palette:{type:"dark",primary:{main:Wt.a[200]},secondary:{main:qt.a[200]},error:{main:Lt.a[500]}}}),Jt=Object(A.a)((function(e){return Object(d.a)({grow:{flexGrow:1},paper:{marginTop:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},returnButton:{margin:e.spacing(1)}})}));function Pt(){var e=Jt(),t=Object(c.useState)([]),r=Object(l.a)(t,2),a=r[0],s=r[1],o=Object(c.useState)(!0),u=Object(l.a)(o,2),A=u[0],d=u[1],p=new URLSearchParams(Object(U.g)().search),j=Object(U.f)(),b=""!=p.get("q")&&0!=a.length;return Object(c.useEffect)((function(){(function(){var e=Object(ae.a)(re.a.mark((function e(){var t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,Oe(p);case 3:t=e.sent,s(t||[]),d(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log(b),Object(n.jsx)("div",{className:e.grow,children:Object(n.jsx)("div",{className:e.paper,children:b?Object(n.jsx)(Ye.a,{container:!0,direction:"row",justify:"center",alignItems:"stretch",spacing:3,children:A?Object(n.jsx)(Ae.a,{}):a.map((function(e,t){return Object(n.jsxs)(Ye.a,{item:!0,xs:3,children:[Object(n.jsx)(Ot,Object(R.a)({},e),t)," "]},t)}))}):Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(y.a,{children:"No items found."}),Object(n.jsx)(I.a,{onClick:function(){j.push("/")},variant:"outlined",className:e.returnButton,children:"Return to Homepage"})]})})})}var Ht=r(284),Vt=r(273),Xt=r(280),zt=r(285),Zt=Object(A.a)((function(e){return Object(d.a)({grow:{flexGrow:1},root:{display:"flex",flexDirection:"row",margin:e.spacing(1),flexGrow:1},titleContentPrice:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignContent:"center",width:"75%"},buttonArea:{flexGrow:1},titleContent:{display:"flex",flexGrow:5,flexDirection:"column",justifyContent:"flex-start",alignContent:"center"},title:{wordWrap:"break-word",margin:e.spacing(1),justifyContent:"center",display:"flex"},cover:{display:"block",width:400,height:400},button:{height:"100%"},cardAction:{padding:0,height:"100%"},text:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexGrow:1,marginRight:e.spacing(1)},description:{display:"flex",margin:e.spacing(1,0)}})}));function _t(e){var t,r,a,c,i,s=Zt();if(!e.item)return Object(n.jsx)("div",{children:"Choose an item!"});var o=(null===(t=i=e.item)||void 0===t?void 0:t.name)||"No title",l=(null===(r=i)||void 0===r?void 0:r.image_url)||Ie,u=(null===(a=i)||void 0===a?void 0:a.url)||"/",A=(null===(c=i)||void 0===c?void 0:c.description)||"No description";return Object(n.jsx)("div",{className:s.grow,children:Object(n.jsxs)(ie.a,{className:s.root,variant:"outlined",children:[Object(n.jsx)(se.a,{className:s.cover,image:l,title:o}),Object(n.jsxs)("div",{className:s.titleContentPrice,children:[Object(n.jsxs)(oe.a,{className:s.titleContent,children:[Object(n.jsx)(y.a,{variant:"h5",className:s.title,children:o}),Object(n.jsx)(k.a,{orientation:"horizontal",className:s.description}),Object(n.jsx)(y.a,{className:s.description,children:A})]}),Object(n.jsxs)("div",{className:s.buttonArea,children:[Object(n.jsx)(k.a,{orientation:"horizontal"}),Object(n.jsx)(le.a,{className:s.cardAction,disableSpacing:!0,children:Object(n.jsx)(I.a,{onClick:function(){window.open(u)},className:s.button,fullWidth:!0,children:"To store page"})})]})]})]})})}var $t=Object(A.a)((function(e){return Object(d.a)({root:{margin:e.spacing(2)},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{padding:e.spacing(3)}})}));function er(e){switch(e){case 0:return"Choose an URL to track prices for. We currently support: Tiki.vn, Shopee.vn .";case 1:return"Check the item found by the server.";case 2:return"Your item has been successfully tracked. Click the button below to go to the item's page.";default:return"Unknown step"}}function tr(){var e=$t(),t=Object(U.f)(),r=Y(),a=Object(Le.a)(),c=a.register,s=a.handleSubmit,o=a.setError,u=a.errors,A=i.a.useState(0),d=Object(l.a)(A,2),p=d[0],j=d[1],b=i.a.useState({}),h=Object(l.a)(b,2),m=h[0],x=h[1],f=["Choose URL","Confirm Item","Finish"];r.user||t.push(N.SIGNIN);var O=function(){var e=Object(ae.a)(re.a.mark((function e(){var t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(m);case 2:if(t=e.sent){e.next=6;break}e.next=12;break;case 6:if(null!=t){e.next=10;break}return e.abrupt("return");case 10:x(t),w();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(t){switch(t){case 0:return Object(n.jsx)(I.a,{variant:"contained",color:"primary",type:"submit",form:"url-form",className:e.button,children:"Submit URL"});case 1:return Object(n.jsx)(I.a,{variant:"contained",color:"primary",type:"submit",onClick:O,className:e.button,children:"Confirm"});case 2:return Object(n.jsx)(I.a,{variant:"contained",color:"primary",onClick:w,className:e.button,children:p===f.length-1?"Finish":"Next"});default:return Object(n.jsx)("div",{children:"Unknown step"})}},w=function(){p!==f.length-1?j((function(e){return e+1})):t.push("/item/".concat(m.id))},v=function(){j((function(e){return e-1}))},C=s(function(){var e=Object(ae.a)(re.a.mark((function e(t){var r,a,n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.url,a={url:r},_(r)){e.next=5;break}return o("url",{type:"required",message:"The URL must be valid."}),e.abrupt("return");case 5:return e.next=7,Be({item:a});case 7:if(n=e.sent,console.log(n),"number"!==typeof n){e.next=13;break}o("url",501===n?{type:"required",message:"This site is not currently supported."}:{type:"required",message:"This item cannot be found."}),e.next=20;break;case 13:if(null!=n){e.next=17;break}return e.abrupt("return");case 17:console.log(n),x(n),w();case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Q=function(e){switch(e){case 0:return Object(n.jsx)("form",{noValidate:!0,onSubmit:C,id:"url-form",children:Object(n.jsx)(Fe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"url",label:"URL",name:"url",autoComplete:"url",inputRef:c({required:"An URL is required"}),error:!!u.url,helperText:u.url?u.url.message:"",autoFocus:!0})});case 1:return Object(n.jsx)(i.a.Fragment,{children:m?Object(n.jsx)(_t,{item:m}):Object(n.jsx)("div",{children:"An error has occured. Please go back to the first step."})})}};return Object(n.jsx)(ue.a,{className:e.root,children:Object(n.jsx)(Ht.a,{activeStep:p,orientation:"vertical",children:f.map((function(t,r){return Object(n.jsxs)(Vt.a,{children:[Object(n.jsx)(Xt.a,{children:t}),Object(n.jsxs)(zt.a,{children:[Object(n.jsx)(y.a,{children:er(r)}),Q(p),Object(n.jsx)("div",{className:e.actionsContainer,children:Object(n.jsxs)("div",{children:[Object(n.jsx)(I.a,{disabled:0===p,onClick:v,className:e.button,children:"Back"}),g(p)]})})]})]},t)}))})})}var rr=function(){var e=Object(Dt.a)("(prefers-color-scheme: dark)"),t=M.getCookie("jwt");me.defaults.headers.common.Authorization=t?"Bearer "+t:"";var r=J();me.get("/user").catch((function(){console.log("error during user initialization, deleting cookies..."),ze(r)}));var a=e?Yt:Tt;return Object(n.jsxs)(Mt.a,{theme:a,children:[Object(n.jsx)(qe.a,{}),Object(n.jsx)(ee,{}),Object(n.jsxs)(U.c,{children:[Object(n.jsx)(U.a,{exact:!0,path:N.HOME,component:Ut}),Object(n.jsx)(U.a,{path:N.PROFILE,component:It}),Object(n.jsx)(U.a,{path:N.SIGNIN,component:lt}),Object(n.jsx)(U.a,{path:N.SIGNUP,component:jt}),Object(n.jsx)(U.a,{path:N.ADDITEM,component:tr}),Object(n.jsx)(U.a,{path:N.ITEM,component:De}),Object(n.jsx)(U.a,{path:N.SIGNOUT,component:Rt}),Object(n.jsx)(U.a,{path:N.SEARCH,component:Pt}),Object(n.jsx)(U.a,{component:Me})]})]})},ar=r(37);o.a.render(Object(n.jsx)("div",{children:Object(n.jsx)(P,{children:Object(n.jsx)(ar.a,{children:Object(n.jsx)(rr,{})})})}),document.querySelector("#root"))}},[[187,1,2]]]);
//# sourceMappingURL=main.6f2cf687.chunk.js.map