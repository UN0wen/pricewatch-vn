(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{157:function(e,t,a){},184:function(e,t,a){"use strict";a.r(t);var r,n=a(2),c=a(0),i=a.n(c),s=a(17),o=a.n(s),l=(a(157),a(16)),A=a(24),u=a(232),d=a(270),p=a(22),j=a(122),h=a.n(j),b=a(123),m=a.n(b),O=a(124),x=a.n(O),g=a(125),f=a.n(g),w=a(240),v=a(241),Q=a(242),E=a(74),C=a(271),B=a(238),y=a(131),I=a(239),k=a(243),S=a(244),U=a(21),R={ACCOUNT:"/account",HOME:"/",ITEM:"/item/:itemID",SIGNIN:"/signin",SIGNOUT:"/signout",SIGNUP:"/signup",PROFILE:"/profile"},D=a(28),M=new(a(132).a),N={getCookie:function(e){return M.get(e)},setCookie:function(e,t,a){M.set(e,t,{path:"/",expires:a})},removeCookie:function(){M.remove("userAuth"),M.remove("jwt")}},G=N.getCookie("userAuth"),K=N.getCookie("jwt"),L={user:G||""||"",token:K||""||"",loading:!1,errorMessage:null};!function(e){e[e.REQUEST_LOGIN=0]="REQUEST_LOGIN",e[e.LOGIN_SUCCESS=1]="LOGIN_SUCCESS",e[e.LOGOUT=2]="LOGOUT",e[e.LOGIN_ERROR=3]="LOGIN_ERROR"}(r||(r={}));var W=function(e,t){switch(t.type){case r.REQUEST_LOGIN:return Object(D.a)(Object(D.a)({},e),{},{loading:!0});case r.LOGIN_SUCCESS:return Object(D.a)(Object(D.a)({},e),{},{user:t.payload.user,token:t.payload.auth_token,loading:!1});case r.LOGOUT:return Object(D.a)(Object(D.a)({},e),{},{user:"",token:""});case r.LOGIN_ERROR:return Object(D.a)(Object(D.a)({},e),{},{loading:!1,errorMessage:t.error});default:throw new Error("Unhandled action type: ".concat(t.type))}},F={},Y=i.a.createContext(L),q=i.a.createContext(F);function J(){var e=i.a.useContext(Y);if(void 0===e)throw new Error("useAuthState must be used within a AuthProvider");return e}function T(){var e=i.a.useContext(q);if(void 0===e)throw new Error("useAuthDispatch must be used within a AuthProvider");return e}var P=function(e){var t=e.children,a=i.a.useReducer(W,L),r=Object(l.a)(a,2),c=r[0],s=r[1];return Object(n.jsx)(Y.Provider,{value:c,children:Object(n.jsx)(q.Provider,{value:s,children:t})})},H=a(234),V=a(235),X=Object(u.a)((function(e){return Object(d.a)({root:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}})}));function z(e){var t=e.children,a=X(),r=Object(H.a)({target:window,disableHysteresis:!0,threshold:100});return Object(n.jsx)(V.a,{in:r,children:Object(n.jsx)("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:a.root,children:t})})}var Z=Object(u.a)((function(e){var t;return Object(d.a)({grow:{flexGrow:1},homeButton:{marginRight:e.spacing(2)},title:Object(A.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(A.a)({position:"relative",marginRight:e.spacing(2),marginLeft:e.spacing(1),borderRadius:2,background:Object(p.b)(e.palette.common.white,.15),"&:hover":{background:Object(p.b)(e.palette.common.white,.25)},"& $inputInput":(t={transition:e.transitions.create("width"),width:120},Object(A.a)(t,e.breakpoints.down("sm"),{width:"100%"}),Object(A.a)(t,"&:focus",Object(A.a)({width:400},e.breakpoints.down("sm"),{width:"100%"})),t)},e.breakpoints.down("sm"),{marginLeft:0,marginRight:0}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(A.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),section:Object(A.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),username:{padding:e.spacing(0,2)}})}));function _(){var e=Object(U.f)(),t=Z(),a=J(),r=i.a.useState(null),c=Object(l.a)(r,2),s=c[0],o=c[1],A=Boolean(s),u=function(){o(null)},d="primary-search-account-menu",p=Object(n.jsxs)(y.a,{anchorEl:s,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},id:d,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"center"},open:A,onClose:u,children:[Object(n.jsxs)(B.a,{onClick:function(){e.push(R.PROFILE),u()},children:["Signed in as ",a.user.username]}),Object(n.jsx)(I.a,{}),Object(n.jsx)(B.a,{onClick:function(){e.push(R.PROFILE),u()},children:"Profile"}),Object(n.jsx)(B.a,{onClick:function(){e.push(R.ACCOUNT),u()},children:"My Account"}),Object(n.jsx)(B.a,{onClick:function(){e.push(R.SIGNOUT),u()},children:"Sign Out"})]});return Object(n.jsxs)("div",{className:t.grow,children:[Object(n.jsx)(w.a,{position:"sticky",color:"default",children:Object(n.jsxs)(v.a,{id:"back-to-top-anchor",children:[Object(n.jsx)(Q.a,{edge:"start",className:t.homeButton,color:"inherit","aria-label":"home",onClick:function(){e.push("/")},children:Object(n.jsx)(h.a,{})}),Object(n.jsx)(E.a,{className:t.title,variant:"h6",noWrap:!0,children:"PriceWatch-VN"}),Object(n.jsxs)("div",{className:t.search,children:[Object(n.jsx)("div",{className:t.searchIcon,children:Object(n.jsx)(m.a,{})}),Object(n.jsx)(C.a,{placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"}})]}),Object(n.jsx)("div",{className:t.grow}),Object(n.jsx)("div",{className:t.section,children:a.user?Object(n.jsx)(Q.a,{edge:"end","aria-label":"account of current user","aria-controls":d,"aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},color:"inherit",children:Object(n.jsx)(x.a,{})}):Object(n.jsxs)("div",{children:[Object(n.jsx)(k.a,{color:"inherit",onClick:function(){e.push(R.SIGNUP),u()},children:"Sign Up"}),Object(n.jsx)(k.a,{color:"inherit",onClick:function(){e.push(R.SIGNIN),u()},children:"Sign In"})]})})]})}),p,Object(n.jsx)(z,{children:Object(n.jsx)(S.a,{color:"secondary",size:"small","aria-label":"scroll back to top",children:Object(n.jsx)(f.a,{})})})]})}var $=a(9),ee=a.n($),te=a(12),ae=a(18),re=a(43),ne=a(248),ce=a(249),ie=a(250),se=a(251),oe=a(252),le=a(106),Ae=a(253),ue=a(246),de=a(266),pe=a(247),je=a(268),he=a(127),be=a.n(he).a.create({baseURL:"http://172.23.165.102:8080/api"});function me(){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(te.a)(ee.a.mark((function e(){var t,a,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be.get("/items/prices");case 3:if(t=e.sent,a=t.data,!Array.isArray(a)){e.next=8;break}return r=a.map((function(e){return e.item_with_price})),e.abrupt("return",r);case 8:return e.abrupt("return",null);case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.error),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function xe(e){return ge.apply(this,arguments)}function ge(){return(ge=Object(te.a)(ee.a.mark((function e(t){var a,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be.get("/item/".concat(t));case 3:if(a=e.sent,!(r=a.data).item_with_price){e.next=7;break}return e.abrupt("return",r.item_with_price);case 7:return e.abrupt("return",null);case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0.response.data.error),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function fe(e){return we.apply(this,arguments)}function we(){return(we=Object(te.a)(ee.a.mark((function e(t){var a,r,n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be.get("/item/".concat(t,"/prices"));case 3:if(a=e.sent,r=a.data,!Array.isArray(r)){e.next=8;break}return n=r.map((function(e){return e.price})),e.abrupt("return",n);case 8:return e.abrupt("return",null);case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.error),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var ve="data:image/jpeg;base64,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A8U8A408888U488s88c88M8scUsMc488008s88s888cc888s48c0ss8s88ss88c8888880s8888M8o8oMcccsM8M8Es884csE8c8oss8888E848s48088o848Qg8848sU8888co88c8E8s8M4cs8888Qs4488o88E8c8Ms888c8A8s8Msc884sYkY0U88s8sE8c8Ms88888U8884880I4M0M8Isc8s88c888888M8c8gso8QMUMQocw888Mg4g84QcUs8c88888U848wM0cYAAAAAAAAQI88w808w888888E8s8IoY8A4MY88Q88oE80E8c80888s88U88kscg0AoIAs4QI0oU8cU888c888sscEc48AI4UAs88sEAwookMsQ80sAMs8888E8s8s4k4A8oEMgAAgoA88M8c8c8s8888E8s448MQA4QAAAAAUgQ80c8c88888888A8o8s8sgAgAgAAAAAAQ8sE8c8c88wMccEss8IMsUAAAAAAAAAAEs0E8cscUM8888U8s8Yk8E88g8I8Uo88s88Y8Msk8o8w4UE4o8Qgw00wg4QwQggwkQsU0QowUAw888c8s8888s488888cs88s88c8888888AAUkMIQQEgEMIAEIEAIAAAE0EMMogQAM888U8s4os8U88o8M8cs48s80M888M8o8ww0UoY8ww4U04g0wwQowwgw8c004w0g8M8cU88oI88ccss8scMsMMccUU88sc8s8/8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAwEBPxBIP//EABQRAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQIBAT8QSD//xAArEAAABAQGAQMFAQAAAAAAAAAAEDFxAREg8CEwQEFRYVCBkaFgscHh8dH/2gAIAQEAAT8QqR4ojQuJ1bqTqHE43Bwcbg4OJwcHBwcHVOzDjcHUQ8kABGaQoI8KAIoXSEaECPoIwAA7xIdoXaAdS4nUOqcTqXaF2jdS7wjstAR4gAABARQR9IABARqwRmiAjSiM4lXlRlTDsHgEsuRmyow8CABchMPzsDcB/AgaCgyJHQBGhCNQ9DAB/BAggOMewoYY0F3MxBizCRGhhSEaUAvUGAnY5U3B0jGgXwKmCJQOjPlP3EegzDVgUMrESOULBFBGhCAjRg8U3YG7HMh/lngUILohgoYsBwc/MR4cAIUnRPrtsUNhLt5go5aPDBxA++AaYkhG2E9YiA/0BSiSoFvx7ENYoDGNIgB7mMCoTBiCHER9wIgfAnA1BJWjPC5Fw40aMQYP4AQx4FGOmRisp0goKRJaODIiTSZE86tlLCYTDYTB7Cg/wT0AFQkekjkGJllQIAtIklAbCUfissOIiIiIjsBRUgkYlwGAAUhER4A5FSYTCYbDZloCMg/YCJIi2UCcRzRr8kcQcCKEBPNFEmm+woL14J0f2jCBbxEyRA8sgBHkgPcBBOhYuDiMMu4iziRrOIu4ka7iLuIu4iziLuJGu4i7iLOIu4ixiFUxFiFcd+DH3AIJD0JYKIgdoix0GJ8I5OxcaQE//wD/AP8A/wD/APz/AP7B0y+R93hAAAkiCmGxe2EEqdi4qABSKMAPj5TjOBauRvFx3qgjKfExESJJNbDsIGexcUAaiTBYj9wJJEpICzYt1QCAwiqHFVq5G8XXdJGlARlA+AGFiPcIBCUAQ9RHwIZBJYuM0AIAVMP6Agi5YQd1IBauRvF13qgAEZbCDhci4liA/gJEMFi4oA+JMKKR9AolBwLs549keonRKHR0AE84PxVi/wBpwmA+QckPkQLHauSuu6UaUCAjIBBPkSQiAQjihsMQKTsMSIsXFIAnxEbA44H+OOtB/AKghSf1XjblRUkAJCVhgoDHR4oCHrVyVx3QI8EAAYEQShIPcRAFFi4ywS87ZpahFRiZsJMlj7GStXJXXerARlm4ikqPiIncXAWLioEh/NHhI+3HpFItxPRgJn3CibelWSDQdhuJg7MCtXI3i470QSyKMwwCBCwEbOfriNoXLsRA5oRaoGOH+7CI/YHABGGfsIC2VGbDlJYnKNG+j4A1AkVq5K478OHvAEqF7TVclSDYDCH3Oh/ANI6yN9CgSnLhGJWrkbxdd6oRmkMm0OqgXYhowfwYsQ6qaTRvpg8AmBQGRkLVyQuO9UQEZhM6Q6BsnBxYMMaQfoS0GeIQBCEoShKEq3YFigWrkrruhAR4MBJvH5QhpZMTAzMzMzMzMzMz7otTCuO9GkDg4SE4kBBOpHEcZIO0pBCjAioOIm8nh5dA6A8dBPJ5vDzuOycaKDjcZxODshGeBEW8SKCmmu7u7u7u7u7u7u76aUrCkR9PAAABlDKmBlDKjNQMyCAjKEa4AgI0oAI8wAAAAAAAAk+lwDPqcAAAAAAAAGIyHEZH0UyFFAkdiMqchkMhxPKruQ4jIZDifZUSMoMipDLTQdW6g6o7UAdkIzjGvjmcdNY5c4SeVAJAwdgYJCQchJDkIwSF2CQpDMDAwdhSBgkEgQJCYOwSCQSBg7AwSUyEkOQkgkKQMMcaQkZIIpJyyHIU9FxiBIUlIA4klBGlABHigjP/AP/Z",Qe=a(269),Ee=a(245),Ce=Object(u.a)((function(e){return Object(d.a)({grow:{flexGrow:1,height:"100%"},paper:{marginTop:e.spacing(2),padding:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center",margin:e.spacing(2)},root:{display:"flex",flexDirection:"column",margin:e.spacing(1),flexGrow:1,maxWidth:400},content:{display:"flex",flex:"1 0 auto",flexDirection:"row",justifyContent:"space-between",width:"100%"},cover:{height:0,paddingTop:"56.25%"},button:{height:e.spacing(8)},cardAction:{padding:0},text:{display:"flex",justifyContent:"flex-end",flexGrow:1,marginRight:e.spacing(1)},vnd:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"}})})),Be=function(e){return Object(n.jsx)(re.c.Path,Object(D.a)(Object(D.a)({},e),{},{path:Object(Qe.a)().x((function(e){return e.arg})).y((function(e){return e.val})).curve(Ee.a)}))};function ye(){var e=Ce(),t=Object(U.g)().itemID,a=Object(c.useState)({}),r=Object(l.a)(a,2),i=r[0],s=r[1],o=Object(c.useState)([]),A=Object(l.a)(o,2),u=A[0],d=A[1],p=Object(c.useState)(!0),j=Object(l.a)(p,2),h=(j[0],j[1]),b=Object(c.useState)(!0),m=Object(l.a)(b,2),O=m[0],x=m[1];Object(c.useEffect)((function(){(function(){var e=Object(te.a)(ee.a.mark((function e(){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,xe(t);case 3:a=e.sent,s(a||{}),h(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(c.useEffect)((function(){(function(){var e=Object(te.a)(ee.a.mark((function e(){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,fe(t);case 3:(a=e.sent)&&(a.sort((function(e,t){return e.time>t.time?1:-1})),a.forEach((function(e){e.time=new Date(e.time)}))),d(a||[]),x(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);var g=(null===i||void 0===i?void 0:i.name)||"No title",f=(null===i||void 0===i?void 0:i.image_url)||ve,w=(null===i||void 0===i?void 0:i.url)||"/",v=(null===i||void 0===i?void 0:i.time)?Object(ue.a)(null===i||void 0===i?void 0:i.time):new Date,Q=(null===i||void 0===i?void 0:i.price)||0;Object(c.useEffect)((function(){g=(null===i||void 0===i?void 0:i.name)||"No title",f=(null===i||void 0===i?void 0:i.image_url)||ve,w=(null===i||void 0===i?void 0:i.url)||"/",v=(null===i||void 0===i?void 0:i.time)?Object(ue.a)(null===i||void 0===i?void 0:i.time):new Date,Q=(null===i||void 0===i?void 0:i.price)||0}),[i]);return Object(n.jsxs)("div",{className:e.grow,children:[Object(n.jsx)(le.a,{className:e.paper,children:Object(n.jsxs)(ne.a,{className:e.root,children:[Object(n.jsx)(ce.a,{title:g,subheader:"Last updated: ".concat(Object(je.a)(v,{addSuffix:!0}))}),Object(n.jsx)(ie.a,{className:e.cover,image:f,title:g}),Object(n.jsx)("div",{children:Object(n.jsxs)(se.a,{className:e.content,children:[Object(n.jsx)(E.a,{variant:"h3",className:e.text,children:Q.toLocaleString()}),Object(n.jsx)(E.a,{variant:"h6",color:"textSecondary",className:e.vnd,align:"right",children:"VND"})]})}),Object(n.jsx)(I.a,{orientation:"horizontal"}),Object(n.jsx)(oe.a,{className:e.cardAction,disableSpacing:!0,children:Object(n.jsx)(k.a,{onClick:function(){window.location.href=w},className:e.button,fullWidth:!0,children:"To store page"})})]})}),O?Object(n.jsx)(Ae.a,{}):Object(n.jsxs)(re.b,{data:u,children:[Object(n.jsx)(ae.m,{name:"price"}),Object(n.jsx)(ae.b,{name:"time"}),Object(n.jsx)(re.a,{labelComponent:function(e){var t=e.x,a=e.y,r=e.dy,c=e.text,i=e.textAnchor,s=c.replace(/[ ,.]/g,"");return Object(n.jsx)(re.b.Label,{x:t,y:a,dy:r,textAnchor:i,children:Object(de.a)(Object(pe.a)(s/1e3),"h a, MMM Do")})}}),Object(n.jsx)(re.g,{scaleName:"price",showLine:!0,showTicks:!0}),Object(n.jsx)(re.c,{name:"Price over time",valueField:"price",argumentField:"time",scaleName:"price",seriesComponent:Be}),Object(n.jsx)(re.d,{valueField:"price",argumentField:"time"})," ",Object(n.jsx)(ae.e,{}),Object(n.jsx)(re.f,{contentComponent:function(e){var t=e.targetItem;return Object(n.jsxs)("div",{children:[u[t.point].price.toLocaleString()," VND"]})}}),Object(n.jsx)(re.e,{text:"Price over time"})]})]})}function Ie(){return Object(n.jsx)("div",{children:"404 Not Found"})}var ke=a(88),Se=a.n(ke),Ue=a(47),Re=a(272),De=a(257),Me=a(267),Ne=a(259),Ge=a(258),Ke=a(256);function Le(e,t){return We.apply(this,arguments)}function We(){return(We=Object(te.a)(ee.a.mark((function e(t,a){var n,c,i,s;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},e.prev=1,t({type:r.REQUEST_LOGIN,payload:{},error:{}}),e.next=5,be.post("/signup",a,n);case 5:if(c=e.sent,!(i=c.data).user){e.next=15;break}return t({type:r.LOGIN_SUCCESS,payload:i,error:{}}),s=new Date,s=new Date(s.getTime()+6048e5),N.setCookie("userAuth",i.user,s),N.setCookie("jwt",i.jwt,s),be.defaults.headers.common.Authorization="Bearer "+i.jwt,e.abrupt("return",i.user);case 15:return t({type:r.LOGIN_ERROR,payload:{},error:i.errors[0]}),e.abrupt("return",null);case 19:return e.prev=19,e.t0=e.catch(1),t({type:r.LOGIN_ERROR,payload:{},error:e.t0}),e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,null,[[1,19]])})))).apply(this,arguments)}function Fe(e,t){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(te.a)(ee.a.mark((function e(t,a){var n,c,i,s;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},e.prev=1,t({type:r.REQUEST_LOGIN,payload:{},error:{}}),e.next=5,be.post("/login",a,n);case 5:if(c=e.sent,!(i=c.data).user){e.next=15;break}return t({type:r.LOGIN_SUCCESS,payload:i,error:{}}),s=new Date,s=new Date(s.getTime()+6048e5),N.setCookie("userAuth",i.user,s),N.setCookie("jwt",i.jwt,s),be.defaults.headers.common.Authorization="Bearer "+i.jwt,e.abrupt("return",i.user);case 15:return t({type:r.LOGIN_ERROR,payload:{},error:i.errors[0]}),e.abrupt("return",null);case 19:return e.prev=19,e.t0=e.catch(1),t({type:r.LOGIN_ERROR,payload:{},error:e.t0}),e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,null,[[1,19]])})))).apply(this,arguments)}function qe(e){return Je.apply(this,arguments)}function Je(){return(Je=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:r.LOGOUT,payload:{},error:{}}),be.defaults.headers.common.Authorization="",N.removeCookie();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e,t,a){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(te.a)(ee.a.mark((function e(t,a,n){var c,i,s,o,l;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(e){return{headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}},e.prev=1,e.next=4,be.post("/login",a,c(a));case 4:if(i=e.sent,!i.data.user){e.next=17;break}return e.next=9,be.put("/user",n,c(n));case 9:if(s=e.sent,!(o=s.data).user){e.next=17;break}return t({type:r.LOGIN_SUCCESS,payload:o,error:{}}),l=new Date,l=new Date(l.getTime()+6048e5),N.setCookie("userAuth",o.user,l),e.abrupt("return",o.user);case 17:return e.abrupt("return",null);case 20:return e.prev=20,e.t0=e.catch(1),console.log(e.t0.response.data.error),e.abrupt("return",null);case 24:case"end":return e.stop()}}),e,null,[[1,20]])})))).apply(this,arguments)}function He(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(te.a)(ee.a.mark((function e(t,a){var n,c,i,s;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},e.prev=1,e.next=4,be.put("/user",a,n);case 4:if(c=e.sent,!(i=c.data).user){e.next=12;break}return t({type:r.LOGIN_SUCCESS,payload:i,error:{}}),s=new Date,s=new Date(s.getTime()+6048e5),N.setCookie("userAuth",i.user,s),e.abrupt("return",i.user);case 12:return e.abrupt("return",null);case 15:return e.prev=15,e.t0=e.catch(1),console.log(e.t0.response.data.error),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}var Xe=a(188),ze=a(254),Ze=a(133),_e=a(255),$e=Object(u.a)((function(e){return Object(d.a)({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}})}));function et(e){var t=$e(),a=Object(U.f)(),r=Object(c.useState)(!1),i=Object(l.a)(r,2),s=i[0],o=i[1];Object(c.useEffect)((function(){o(e.open)}),[e.open]);return Object(n.jsx)("div",{children:Object(n.jsx)(ze.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:s,closeAfterTransition:!0,BackdropComponent:Xe.a,BackdropProps:{timeout:500},children:Object(n.jsx)(Ze.a,{in:s,onEnter:function(){setTimeout((function(){o(!1)}),1e3)},onExited:function(){a.push(R.HOME)},children:Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)("h2",{id:"transition-modal-title",children:"Successfully logged in"}),Object(n.jsx)("p",{id:"transition-modal-description",children:"You will be redirected to the home page shortly..."}),Object(n.jsx)(_e.a,{})]})})})})}var tt=Object(u.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function at(){var e=tt(),t=Object(Ue.a)(),a=t.register,r=t.handleSubmit,i=t.setError,s=t.errors,o=T(),A=Object(c.useState)(!1),u=Object(l.a)(A,2),d=u[0],p=u[1],j=r(function(){var e=Object(te.a)(ee.a.mark((function e(t){var a,r,n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,r=t.password,e.prev=1,n={email:a,password:r},e.next=5,Fe(o,{user:n});case 5:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:p(!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),i("email",{type:"required"}),i("password",{type:"required",message:"Account does not exist or password does not match."});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}());return Object(n.jsxs)(Ke.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(De.a,{}),Object(n.jsx)(et,{open:d}),Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(Re.a,{className:e.avatar,children:Object(n.jsx)(Se.a,{})}),Object(n.jsx)(E.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(n.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:j,children:[Object(n.jsx)(Me.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",inputRef:a,error:!!s.email,helperText:s.email?s.email.message:"",autoFocus:!0}),Object(n.jsx)(Me.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",error:!!s.password,helperText:s.password?s.password.message:"",inputRef:a}),Object(n.jsx)(k.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign In"}),Object(n.jsx)(Ge.a,{container:!0,children:Object(n.jsx)(Ge.a,{item:!0,children:Object(n.jsx)(Ne.a,{href:R.SIGNUP,variant:"body2",children:"Don't have an account? Sign Up"})})})]})]})]})}var rt=Object(u.a)((function(e){return Object(d.a)({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}})}));function nt(e){var t=rt(),a=Object(U.f)(),r=Object(c.useState)(!1),i=Object(l.a)(r,2),s=i[0],o=i[1];Object(c.useEffect)((function(){o(e.open)}),[e.open]);return Object(n.jsx)("div",{children:Object(n.jsx)(ze.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:s,closeAfterTransition:!0,BackdropComponent:Xe.a,BackdropProps:{timeout:500},children:Object(n.jsx)(Ze.a,{in:s,onEnter:function(){setTimeout((function(){o(!1)}),1e3)},onExited:function(){a.push(R.HOME)},children:Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)("h2",{id:"transition-modal-title",children:"Successfully signed up"}),Object(n.jsx)("p",{id:"transition-modal-description",children:"You will be redirected to the home page shortly..."})]})})})})}var ct=Object(u.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),it={username:"",email:"",password:"",repeat_password:""};function st(){var e=ct(),t=Object(Ue.a)({defaultValues:it}),a=t.register,r=t.handleSubmit,c=t.watch,s=t.errors,o=t.setError,A=T(),u=i.a.useState(!1),d=Object(l.a)(u,2),p=d[0],j=d[1],h=i.a.useRef({});h.current=c("password","");var b=r(function(){var e=Object(te.a)(ee.a.mark((function e(t){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("here"),a={username:t.username,email:t.email,password:t.password},console.log(t),e.next=6,Le(A,{user:a});case 6:if(e.sent){e.next=9;break}return e.abrupt("return");case 9:j(!p),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),o("email",{type:"notMatch",message:"Email already in use. Please sign in or choose another email address."});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}());return Object(n.jsxs)(Ke.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(De.a,{}),Object(n.jsx)(nt,{open:p}),Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(Re.a,{className:e.avatar,children:Object(n.jsx)(Se.a,{})}),Object(n.jsx)(E.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(n.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:b,children:[Object(n.jsxs)(Ge.a,{container:!0,spacing:2,children:[Object(n.jsx)(Ge.a,{item:!0,xs:12,children:Object(n.jsx)(Me.a,{autoComplete:"username",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",error:!!s.username,helperText:s.username?s.username.message:"",autoFocus:!0,inputRef:a({required:"A username is required"})})}),Object(n.jsx)(Ge.a,{item:!0,xs:12,children:Object(n.jsx)(Me.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",error:!!s.email,helperText:s.email?s.email.message:"",inputRef:a({required:"An email is required"})})}),Object(n.jsx)(Ge.a,{item:!0,xs:12,children:Object(n.jsx)(Me.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",error:!!s.password,helperText:s.password?s.password.message:"",inputRef:a({required:"A password is required",minLength:{value:6,message:"Password must have at least 6 characters"}})})}),Object(n.jsx)(Ge.a,{item:!0,xs:12,children:Object(n.jsx)(Me.a,{variant:"outlined",required:!0,fullWidth:!0,name:"repeat_password",label:"Repeat Password",type:"password",id:"repeat_password",error:!!s.repeat_password,helperText:s.repeat_password?s.repeat_password.message:"",inputRef:a({validate:function(e){return e===h.current||"The passwords do not match"}})})})]}),Object(n.jsx)(k.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign Up"}),Object(n.jsx)(Ge.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(Ge.a,{item:!0,children:Object(n.jsx)(Ne.a,{href:R.SIGNIN,variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})}function ot(){return lt.apply(this,arguments)}function lt(){return(lt=Object(te.a)(ee.a.mark((function e(){var t,a,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be.get("/user/items");case 3:if(t=e.sent,a=t.data,!Array.isArray(a)){e.next=8;break}return r=a.map((function(e){return e.item_with_price})),e.abrupt("return",r);case 8:return e.abrupt("return");case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.error);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var At=a(260),ut=Object(u.a)((function(e){return Object(d.a)({root:{display:"flex",flexDirection:"column",margin:e.spacing(1),flexGrow:1,maxWidth:400},content:{display:"flex",flex:"1 0 auto",flexDirection:"row",justifyContent:"space-between",width:"100%"},cover:{height:0,paddingTop:"56.25%"},button:{height:e.spacing(8)},cardAction:{padding:0},text:{display:"flex",justifyContent:"flex-end",flexGrow:1,marginRight:e.spacing(1)},vnd:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"}})}));function dt(e){var t=ut(),a=Object(U.f)(),r=e.name||"No title",c=e.image_url||ve,i=e.url||"/",s=e.id||"",o=Object(ue.a)(e.time)||"Unknown",l=e.price||0,A=function(){a.push("/item/".concat(s))};return Object(n.jsxs)(ne.a,{className:t.root,children:[Object(n.jsxs)(At.a,{onClick:A,children:[Object(n.jsx)(ce.a,{title:r,subheader:"Last updated: ".concat(Object(je.a)(o,{addSuffix:!0}))}),Object(n.jsx)(ie.a,{className:t.cover,image:c,title:r}),Object(n.jsx)("div",{children:Object(n.jsxs)(se.a,{className:t.content,children:[Object(n.jsx)(E.a,{variant:"h3",className:t.text,children:l.toLocaleString()}),Object(n.jsx)(E.a,{variant:"h6",color:"textSecondary",className:t.vnd,align:"right",children:"VND"})]})})]}),Object(n.jsx)(I.a,{orientation:"horizontal"}),Object(n.jsxs)(oe.a,{className:t.cardAction,disableSpacing:!0,children:[Object(n.jsx)(k.a,{onClick:function(){window.location=i},className:t.button,fullWidth:!0,children:"To store page"}),Object(n.jsx)(I.a,{orientation:"vertical",flexItem:!0}),Object(n.jsx)(k.a,{onClick:A,className:t.button,fullWidth:!0,children:"Price History"})]})]})}var pt=a(128),jt=a(129),ht=Object(u.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function bt(e){var t=e.callback,a=J(),r=ht(),c=Object(Ue.a)(),s=c.register,o=c.handleSubmit,l=c.watch,A=c.errors,u=T();if(!a.user)return Object(n.jsx)("div",{});var d=a.user,p=i.a.useRef({});p.current=l("password","");var j=o(function(){var e=Object(te.a)(ee.a.mark((function e(t){var a,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={email:String(d.email),password:t.current_password},r={password:t.password},console.log(t),e.next=6,Te(u,{user:a},{user:r});case 6:if(e.sent){e.next=9;break}return e.abrupt("return");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}());return Object(n.jsxs)(Ke.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(De.a,{}),Object(n.jsx)("div",{className:r.paper,children:Object(n.jsx)("form",{className:r.form,noValidate:!0,onSubmit:j,children:Object(n.jsxs)(Ge.a,{container:!0,spacing:2,children:[Object(n.jsx)(Ge.a,{item:!0,xs:12,children:Object(n.jsx)(Me.a,{variant:"outlined",required:!0,fullWidth:!0,name:"current_password",label:"Password",type:"password",id:"current_password",error:!!A.current_password,helperText:A.current_password?A.current_password.message:"",defaultValue:"",inputRef:s({required:"The current password is required"})})}),Object(n.jsx)(Ge.a,{item:!0,xs:12,children:Object(n.jsx)(Me.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",error:!!A.password,helperText:A.password?A.password.message:"",defaultValue:"",inputRef:s({required:"A password is required",minLength:{value:6,message:"Password must have at least 6 characters"}})})}),Object(n.jsx)(Ge.a,{item:!0,xs:12,children:Object(n.jsx)(Me.a,{variant:"outlined",required:!0,fullWidth:!0,name:"repeat_password",label:"Repeat Password",type:"password",id:"repeat_password",defaultValue:"",error:!!A.repeat_password,helperText:A.repeat_password?A.repeat_password.message:"",inputRef:s({validate:function(e){return e===p.current||"The passwords do not match"}})})}),Object(n.jsx)(Ge.a,{item:!0,xs:3,children:Object(n.jsx)(k.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:r.submit,children:"Save"})}),Object(n.jsx)(Ge.a,{item:!0,xs:3,children:Object(n.jsx)(k.a,{type:"button",fullWidth:!0,variant:"outlined",color:"primary",className:r.submit,onClick:function(){t()},children:"Cancel"})})]})})})]})}var mt=Object(u.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Ot(e){var t=e.callback,a=J(),r=mt(),c=Object(Ue.a)(),s=c.register,o=c.handleSubmit,l=c.watch,A=c.errors,u=c.setValue,d=T();if(!a.user)return Object(n.jsx)("div",{});var p=a.user;i.a.useRef({}).current=l("password",""),u("username",p.username,{shouldValidate:!0});var j=o(function(){var e=Object(te.a)(ee.a.mark((function e(t){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={username:t.username},console.log(t),e.next=5,He(d,{user:a});case 5:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}());return Object(n.jsxs)(Ke.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(De.a,{}),Object(n.jsx)("div",{className:r.paper,children:Object(n.jsx)("form",{className:r.form,noValidate:!0,onSubmit:j,children:Object(n.jsxs)(Ge.a,{container:!0,spacing:2,children:[Object(n.jsx)(Ge.a,{item:!0,xs:12,children:Object(n.jsx)(Me.a,{autoComplete:"username",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",error:!!A.username,helperText:A.username?A.username.message:"",autoFocus:!0,defaultValue:p.username||"",inputRef:s({required:"A new username is required"})})}),Object(n.jsx)(Ge.a,{item:!0,xs:3,children:Object(n.jsx)(k.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:r.submit,children:"Save"})}),Object(n.jsx)(Ge.a,{item:!0,xs:3,children:Object(n.jsx)(k.a,{type:"button",fullWidth:!0,variant:"outlined",color:"primary",className:r.submit,onClick:function(){t()},children:"Cancel"})})]})})})]})}var xt=Object(u.a)((function(e){return Object(d.a)({avatar:{width:200,height:200,margin:"auto"},centeredTop:{textAlign:"center",padding:e.spacing(1)},editButton:{margin:e.spacing(1)},emailLine:{display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"center",margin:e.spacing(1)},emailString:{marginLeft:e.spacing(1)}})}));function gt(){var e=J(),t=xt(),a=Object(c.useState)(0),r=Object(l.a)(a,2),i=r[0],s=r[1];if(!e.user)return Object(n.jsx)("div",{});var o=e.user,A=function(){s(0)},u=function(e){s(e)};return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:t.centeredTop,children:[Object(n.jsx)(pt.a,{className:t.avatar}),Object(n.jsx)(E.a,{component:"h1",align:"center",variant:"h5",children:o.username}),Object(n.jsxs)(E.a,{className:t.emailLine,children:[Object(n.jsx)(jt.a,{}),Object(n.jsx)("span",{className:t.emailString,children:o.email})]}),Object(n.jsxs)(Ge.a,{container:!0,direction:"row",spacing:2,children:[Object(n.jsx)(Ge.a,{item:!0,xs:6,children:Object(n.jsx)(k.a,{variant:"outlined",className:t.editButton,onClick:function(){u(1)},children:"Edit username"})}),Object(n.jsx)(Ge.a,{item:!0,xs:6,children:Object(n.jsx)(k.a,{variant:"outlined",className:t.editButton,onClick:function(){u(2)},children:"Edit password"})})]}),1==i?Object(n.jsx)(Ot,{callback:A}):Object(n.jsx)("div",{}),2==i?Object(n.jsx)(bt,{callback:A}):Object(n.jsx)("div",{})]})})}var ft=Object(u.a)((function(e){return Object(d.a)({grow:{flexGrow:1,height:"100%"},paper:{marginTop:e.spacing(2),padding:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},section:{height:"100%"},followed:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:e.spacing(8)}})}));function wt(){var e=ft(),t=J(),a=Object(U.f)(),r=Object(c.useState)([]),i=Object(l.a)(r,2),s=i[0],o=i[1],A=Object(c.useState)(!0),u=Object(l.a)(A,2),d=u[0],p=u[1];return t.user||a.push(R.SIGNIN),Object(c.useEffect)((function(){(function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,ot();case 3:t=e.sent,o(t||[]),p(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.jsx)("div",{className:e.grow,children:Object(n.jsx)("div",{className:e.paper,children:Object(n.jsxs)(Ge.a,{container:!0,direction:"row",justify:"center",alignItems:"stretch",alignContent:"center",spacing:3,children:[Object(n.jsx)(Ge.a,{item:!0,xs:3,className:e.section,children:Object(n.jsx)(gt,{})}),Object(n.jsx)(I.a,{orientation:"vertical",flexItem:!0}),Object(n.jsxs)(Ge.a,{item:!0,xs:!0,children:[Object(n.jsx)(E.a,{component:"h1",variant:"h3",className:e.followed,children:"Followed Items"}),Object(n.jsx)(Ge.a,{container:!0,direction:"row",justify:"center",alignItems:"stretch",spacing:3,children:d?Object(n.jsx)(Ae.a,{}):s.map((function(e,t){return Object(n.jsxs)(Ge.a,{item:!0,xs:4,children:[Object(n.jsx)(dt,Object(D.a)({},e),t)," "]})}))})]})]})})})}var vt=Object(u.a)((function(e){return Object(d.a)({grow:{flexGrow:1},paper:{marginTop:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)}})}));function Qt(){var e=vt(),t=Object(c.useState)([]),a=Object(l.a)(t,2),r=a[0],i=a[1],s=Object(c.useState)(!0),o=Object(l.a)(s,2),A=o[0],u=o[1];return Object(c.useEffect)((function(){(function(){var e=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,me();case 3:t=e.sent,i(t||[]),console.log(t),u(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.jsx)("div",{className:e.grow,children:Object(n.jsx)("div",{className:e.paper,children:Object(n.jsx)(Ge.a,{container:!0,direction:"row",justify:"center",alignItems:"stretch",alignContent:"center",spacing:3,children:Object(n.jsx)(Ge.a,{item:!0,xs:!0,children:Object(n.jsx)(Ge.a,{container:!0,direction:"row",justify:"center",alignItems:"stretch",spacing:3,children:A?Object(n.jsx)(Ae.a,{}):r.map((function(e,t){return Object(n.jsxs)(Ge.a,{item:!0,xs:3,children:[Object(n.jsx)(dt,Object(D.a)({},e),t)," "]})}))})})})})})}var Et=Object(u.a)((function(e){return Object(d.a)({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}})}));function Ct(){var e=Et(),t=T(),a=Object(U.f)(),r=Object(c.useState)(!0),i=Object(l.a)(r,2),s=i[0],o=i[1];return Object(n.jsx)("div",{children:Object(n.jsx)(ze.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:s,closeAfterTransition:!0,BackdropComponent:Xe.a,BackdropProps:{timeout:500},children:Object(n.jsx)(Ze.a,{in:s,onEnter:function(){qe(t),setTimeout((function(){o(!1)}),1e3)},onExited:function(){a.push(R.HOME)},children:Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)("h2",{id:"transition-modal-title",children:"Successfully logged out"}),Object(n.jsx)("p",{id:"transition-modal-description",children:"You will be redirected to the home page shortly..."}),Object(n.jsx)(_e.a,{})]})})})})}var Bt=a(264),yt=a(265),It=a(261),kt=a(262),St=a(90),Ut=a(91),Rt=a(263),Dt=a(130),Mt=Object(Dt.a)({palette:{type:"light",primary:{main:It.a[500]},secondary:{main:kt.a[500]},error:{main:St.a.A400}}}),Nt=Object(Dt.a)({palette:{type:"dark",primary:{main:Ut.a[200]},secondary:{main:Rt.a[200]},error:{main:St.a[500]}}});var Gt=function(){var e=Object(Bt.a)("(prefers-color-scheme: dark)"),t=N.getCookie("jwt");be.defaults.headers.common.Authorization=t?"Bearer "+t:"";var a=T();be.get("/user").catch((function(){console.log("error during user initialization, deleting cookies..."),qe(a)}));var r=e?Nt:Mt;return Object(n.jsxs)(yt.a,{theme:r,children:[Object(n.jsx)(De.a,{}),Object(n.jsx)(_,{}),Object(n.jsxs)(U.c,{children:[Object(n.jsx)(U.a,{exact:!0,path:R.HOME,component:Qt}),Object(n.jsx)(U.a,{path:R.PROFILE,component:wt}),Object(n.jsx)(U.a,{path:R.SIGNIN,component:at}),Object(n.jsx)(U.a,{path:R.SIGNUP,component:st}),Object(n.jsx)(U.a,{path:R.ITEM,component:ye}),Object(n.jsx)(U.a,{path:R.SIGNOUT,component:Ct}),Object(n.jsx)(U.a,{component:Ie})]})]})},Kt=a(40);o.a.render(Object(n.jsx)("div",{children:Object(n.jsx)(P,{children:Object(n.jsx)(Kt.a,{children:Object(n.jsx)(Gt,{})})})}),document.querySelector("#root"))}},[[184,1,2]]]);
//# sourceMappingURL=main.9566f43f.chunk.js.map