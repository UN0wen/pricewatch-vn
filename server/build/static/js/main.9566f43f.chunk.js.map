{"version":3,"sources":["contexts/reducer.ts","utils/routes.ts","utils/storage.ts","contexts/context.tsx","components/NavBar/components/ScrollTop.tsx","components/NavBar/NavBar.tsx","api/axios.ts","api/item.ts","images/empty.jpg","components/ItemPage/ItemPage.tsx","components/NotFound/NotFound.tsx","api/user.ts","components/SignIn/components/SignInModal.tsx","components/SignIn/SignIn.tsx","components/SignUp/components/SignUpModal.tsx","components/SignUp/SignUp.tsx","api/userItems.ts","components/ItemCard/ItemCard.tsx","components/Profile/components/EditPasswordForm.tsx","components/Profile/components/EditAccountForm.tsx","components/Profile/components/Account.tsx","components/Profile/Profile.tsx","components/Home/Home.tsx","components/SignOut/SignOut.tsx","theme.tsx","components/App/App.tsx","index.tsx"],"names":["AuthReducerActions","Routes","ACCOUNT","HOME","ITEM","SIGNIN","SIGNOUT","SIGNUP","PROFILE","cookies","Cookies","CookieWrapper","getCookie","name","get","setCookie","data","expire","set","path","expires","removeCookie","remove","currentUser","currentJWT","initialState","user","token","loading","errorMessage","AuthReducer","action","type","REQUEST_LOGIN","LOGIN_SUCCESS","payload","auth_token","LOGOUT","LOGIN_ERROR","error","Error","anything","AuthStateContext","React","createContext","AuthDispatchContext","useAuthState","context","useContext","undefined","useAuthDispatch","AuthProvider","children","useReducer","dispatch","Provider","value","useStyles","makeStyles","theme","createStyles","root","position","bottom","spacing","right","ScrollTop","classes","trigger","useScrollTrigger","target","window","disableHysteresis","threshold","Zoom","in","onClick","event","anchor","ownerDocument","document","querySelector","scrollIntoView","behavior","block","role","className","grow","flexGrow","homeButton","marginRight","title","display","breakpoints","up","search","marginLeft","borderRadius","background","fade","palette","common","white","transition","transitions","create","width","down","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","section","username","NavBar","history","useHistory","userAuth","useState","anchorEl","setAnchorEl","isMenuOpen","Boolean","handleMenuClose","menuId","renderMenu","Menu","getContentAnchorEl","anchorOrigin","vertical","horizontal","id","keepMounted","transformOrigin","open","onClose","MenuItem","push","Divider","AppBar","Toolbar","IconButton","edge","aria-label","Typography","variant","noWrap","InputBase","placeholder","input","inputProps","aria-controls","aria-haspopup","currentTarget","Button","Fab","size","AxiosInstance","axios","baseURL","getAllItems","a","response","Array","isArray","items","map","d","item_with_price","console","log","getItem","getItemPrices","itemPrices","price","paper","marginTop","flexDirection","margin","maxWidth","content","flex","cover","paddingTop","button","cardAction","text","vnd","Line","props","Path","line","x","arg","y","val","curve","curveStepAfter","ItemPage","itemID","useParams","item","setItem","setItemPrices","setLoading","loadingPrices","setLoadingPrices","useEffect","result","fetchData","sort","b","time","forEach","ip","Date","imgURL","image_url","empty","url","updated","parseISO","Paper","Card","CardHeader","subheader","formatDistanceToNow","addSuffix","CardMedia","image","CardContent","toLocaleString","align","orientation","CardActions","disableSpacing","location","href","fullWidth","CircularProgress","labelComponent","dy","textAnchor","res","replace","Label","format","fromUnixTime","scaleName","showLine","showTicks","valueField","argumentField","seriesComponent","contentComponent","targetItem","point","NotFound","createUser","createUserPayload","requestOptions","headers","body","JSON","stringify","post","getTime","jwt","defaults","errors","loginUser","loginPayload","logout","updatePassword","updatePayload","loginResponse","put","updateUsername","modal","backgroundColor","boxShadow","shadows","SignInModal","setOpen","Dialog","aria-labelledby","aria-describedby","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","onEnter","setTimeout","onExited","LinearProgress","avatar","secondary","main","form","submit","SignIn","useForm","register","handleSubmit","setError","onSubmit","email","password","message","Container","component","CssBaseline","Avatar","noValidate","TextField","required","label","autoComplete","inputRef","helperText","autoFocus","Grid","container","Link","SignUpModal","defaultValues","repeat_password","SignUp","watch","useRef","current","xs","minLength","validate","justify","getAllUserItems","ItemCard","onClickItem","CardActionArea","flexItem","EditPasswordForm","callback","String","current_password","userPayload","defaultValue","EditAccountForm","setValue","shouldValidate","centeredTop","textAlign","editButton","emailLine","flexWrap","emailString","Account","edit","setEdit","onCancel","Email","direction","followed","marginBottom","Profile","setItems","alignContent","idx","Home","SignOut","lightTheme","createMuiTheme","primary","lightBlue","deepPurple","red","A400","darkTheme","blue","purple","App","prefersDarkMode","useMediaQuery","catch","ThemeProvider","exact","ReactDOM","render"],"mappings":"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","file":"static/js/main.9566f43f.chunk.js","sourcesContent":["import { CookieWrapper } from \"../utils/storage\";\nimport { UserAuth } from \"./context\";\n\nconst currentUser = CookieWrapper.getCookie(\"userAuth\");\nconst currentJWT = CookieWrapper.getCookie(\"jwt\");\nconst user = currentUser\n  ? currentUser\n  : \"\";\nconst token = currentJWT\n  ? currentJWT\n  : \"\";\n  \nexport const initialState : UserAuth  = {\n  user: user || \"\",\n  token: token || \"\",\n  loading: false,\n  errorMessage: null\n};\n\nexport enum AuthReducerActions {\n    REQUEST_LOGIN,\n    LOGIN_SUCCESS,\n    LOGOUT,\n    LOGIN_ERROR\n}\n\nexport interface AuthDispatch {\n    type: AuthReducerActions,\n    payload: { user: any; auth_token: string; },\n    error: Error\n}\n\nexport const AuthReducer = (initialState: any, action: AuthDispatch) => {\n  switch (action.type) {\n    case AuthReducerActions.REQUEST_LOGIN:\n      return {\n        ...initialState,\n        loading: true\n      };\n    case AuthReducerActions.LOGIN_SUCCESS:\n      return {\n        ...initialState,\n        user: action.payload.user,\n        token: action.payload.auth_token,\n        loading: false\n      };\n    case AuthReducerActions.LOGOUT:\n      return {\n        ...initialState,\n        user: \"\",\n        token: \"\"\n      };\n \n    case AuthReducerActions.LOGIN_ERROR:\n      return {\n        ...initialState,\n        loading: false,\n        errorMessage: action.error\n      };\n \n    default:\n      throw new Error(`Unhandled action type: ${action.type}`);\n  }\n};","const Routes = {\n  ACCOUNT: '/account',\n  HOME: '/',\n  ITEM: '/item/:itemID',\n  SIGNIN: '/signin',\n  SIGNOUT: '/signout',\n  SIGNUP: '/signup',\n  PROFILE: '/profile',\n}\n\nexport default Routes\n","import Cookies from \"universal-cookie\";\nconst cookies = new Cookies();\n\nexport const CookieWrapper = (function () {\n  const getCookie = function (name:string) {\n    return cookies.get(name);\n  };\n\n  const setCookie = function (name: string, data: any, expire: Date) {\n    cookies.set(name, data, {\n      path: \"/\",\n      expires: expire,\n    });\n  };\n\n  const removeCookie = function () {\n    cookies.remove(\"userAuth\");\n    cookies.remove(\"jwt\");\n  };\n\n  return {\n    getCookie: getCookie,\n    setCookie: setCookie,\n    removeCookie: removeCookie,\n  };\n})();\n","import React from 'react'\nimport { User } from '../api/models'\nimport { AuthDispatch, AuthReducer, initialState } from './reducer'\n\nconst anything = {} as any\nconst AuthStateContext = React.createContext<UserAuth>(initialState)\nconst AuthDispatchContext = React.createContext<React.Dispatch<AuthDispatch>>(\n  anything\n)\n\n// interface for userauth objects stored in cookies\nexport interface UserAuth {\n  user: User\n  token: string\n  loading: boolean\n  errorMessage: any\n}\n\nexport function useAuthState() {\n  const context = React.useContext(AuthStateContext)\n  if (context === undefined) {\n    throw new Error('useAuthState must be used within a AuthProvider')\n  }\n\n  return context\n}\n\nexport function useAuthDispatch() {\n  const context = React.useContext(AuthDispatchContext)\n  if (context === undefined) {\n    throw new Error('useAuthDispatch must be used within a AuthProvider')\n  }\n\n  return context\n}\n\nexport const AuthProvider = ({ children }) => {\n  const [user, dispatch] = React.useReducer(AuthReducer, initialState)\n\n  return (\n    <AuthStateContext.Provider value={user}>\n      <AuthDispatchContext.Provider value={dispatch}>\n        {children}\n      </AuthDispatchContext.Provider>\n    </AuthStateContext.Provider>\n  )\n}\n","import {  Theme, useScrollTrigger, Zoom } from \"@material-ui/core\";\nimport { makeStyles,  createStyles} from '@material-ui/core/styles'\n\nimport React from \"react\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      position: 'fixed',\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    },\n  }),\n);\n\nexport default function ScrollTop( {children} ) {\n  const classes = useStyles();\n  // Note that you normally won't need to set the window ref as useScrollTrigger\n  // will default to window.\n  // This is only being set here because the demo is in an iframe.\n  const trigger = useScrollTrigger({\n    target: window,\n    disableHysteresis: true,\n    threshold: 100,\n  });\n\n  const handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    const anchor = ((event.target as HTMLDivElement).ownerDocument || document).querySelector(\n      '#back-to-top-anchor',\n    );\n      \n    if (anchor) {\n      anchor.scrollIntoView({ behavior: 'smooth', block: 'center' });\n    }\n  };\n\n  return (\n    <Zoom in={trigger}>\n      <div onClick={handleClick} role=\"presentation\" className={classes.root}>\n        {children}\n      </div>\n    </Zoom>\n  );\n}","import React from 'react'\nimport { fade, makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport HomeIcon from '@material-ui/icons/Home'\nimport SearchIcon from '@material-ui/icons/Search'\nimport AccountCircle from '@material-ui/icons/AccountCircle'\nimport KeyboardArrowUp from '@material-ui/icons/KeyboardArrowUp'\nimport {\n  AppBar,\n  Toolbar,\n  IconButton,\n  Typography,\n  InputBase,\n  MenuItem,\n  Menu,\n  Divider,\n  Button,\n  Fab,\n} from '@material-ui/core'\nimport { useHistory } from 'react-router-dom'\nimport Routes from '../../utils/routes'\nimport { useAuthState } from '../../contexts/context'\nimport ScrollTop from './components/ScrollTop'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    grow: {\n      flexGrow: 1,\n    },\n    homeButton: {\n      marginRight: theme.spacing(2),\n    },\n    title: {\n      display: 'none',\n      [theme.breakpoints.up('sm')]: {\n        display: 'block',\n      },\n    },\n    search: {\n      position: 'relative',\n      marginRight: theme.spacing(2),\n      marginLeft: theme.spacing(1),\n      borderRadius: 2,\n      background: fade(theme.palette.common.white, 0.15),\n      '&:hover': {\n        background: fade(theme.palette.common.white, 0.25),\n      },\n      '& $inputInput': {\n        transition: theme.transitions.create('width'),\n        width: 120,\n        [theme.breakpoints.down('sm')]: {\n          width: '100%',\n        },\n        '&:focus': {\n          width: 400,\n          [theme.breakpoints.down('sm')]: {\n            width: '100%',\n          },\n        },\n      },\n      [theme.breakpoints.down('sm')]: {\n        marginLeft: 0,\n        marginRight: 0,\n      },\n    },\n    searchIcon: {\n      padding: theme.spacing(0, 2),\n      height: '100%',\n      position: 'absolute',\n      pointerEvents: 'none',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    inputRoot: {\n      color: 'inherit',\n    },\n    inputInput: {\n      padding: theme.spacing(1, 1, 1, 0),\n      // vertical padding + font size from searchIcon\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n      transition: theme.transitions.create('width'),\n      width: '100%',\n      [theme.breakpoints.up('md')]: {\n        width: '20ch',\n      },\n    },\n    section: {\n      display: 'none',\n      [theme.breakpoints.up('md')]: {\n        display: 'flex',\n      },\n    },\n    username: {\n      padding: theme.spacing(0, 2),\n    },\n  })\n)\n\nexport default function NavBar() {\n  const history = useHistory()\n  const classes = useStyles()\n  const userAuth = useAuthState()\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null)\n\n  const isMenuOpen = Boolean(anchorEl)\n\n  const handleProfileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget)\n  }\n\n  const handleMenuClose = () => {\n    setAnchorEl(null)\n  }\n\n  const menuId = 'primary-search-account-menu'\n  const renderMenu = (\n    <Menu\n      anchorEl={anchorEl}\n      getContentAnchorEl={null}\n      anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n      id={menuId}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'center' }}\n      open={isMenuOpen}\n      onClose={handleMenuClose}\n    >\n      <MenuItem\n        onClick={() => {\n          history.push(Routes.PROFILE)\n          handleMenuClose()\n        }}\n      >\n        Signed in as {userAuth.user.username}\n      </MenuItem>\n      <Divider />\n      <MenuItem\n        onClick={() => {\n          history.push(Routes.PROFILE)\n          handleMenuClose()\n        }}\n      >\n        Profile\n      </MenuItem>\n      <MenuItem\n        onClick={() => {\n          history.push(Routes.ACCOUNT)\n          handleMenuClose()\n        }}\n      >\n        My Account\n      </MenuItem>\n      <MenuItem\n        onClick={() => {\n          history.push(Routes.SIGNOUT)\n          handleMenuClose()\n        }}\n      >\n        Sign Out\n      </MenuItem>\n    </Menu>\n  )\n\n  return (\n    <div className={classes.grow}>\n      <AppBar position=\"sticky\" color=\"default\">\n        <Toolbar id=\"back-to-top-anchor\">\n          <IconButton\n            edge=\"start\"\n            className={classes.homeButton}\n            color=\"inherit\"\n            aria-label=\"home\"\n            onClick={() => {\n              history.push('/')\n            }}\n          >\n            <HomeIcon />\n          </IconButton>\n          <Typography className={classes.title} variant=\"h6\" noWrap>\n            PriceWatch-VN\n          </Typography>\n          <div className={classes.search}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <InputBase\n              placeholder=\"Search…\"\n              classes={{\n                root: classes.inputRoot,\n                input: classes.inputInput,\n              }}\n              inputProps={{ 'aria-label': 'search' }}\n            />\n          </div>\n          <div className={classes.grow} />\n          <div className={classes.section}>\n            {userAuth.user ? (\n              <IconButton\n                edge=\"end\"\n                aria-label=\"account of current user\"\n                aria-controls={menuId}\n                aria-haspopup=\"true\"\n                onClick={handleProfileMenuOpen}\n                color=\"inherit\"\n              >\n                <AccountCircle />\n              </IconButton>\n            ) : (\n              <div>\n                <Button\n                  color=\"inherit\"\n                  onClick={() => {\n                    history.push(Routes.SIGNUP)\n                    handleMenuClose()\n                  }}\n                >\n                  Sign Up\n                </Button>\n                <Button\n                  color=\"inherit\"\n                  onClick={() => {\n                    history.push(Routes.SIGNIN)\n                    handleMenuClose()\n                  }}\n                >\n                  Sign In\n                </Button>\n              </div>\n            )}\n          </div>\n        </Toolbar>\n      </AppBar>\n      {renderMenu}\n      <ScrollTop>\n        <Fab color=\"secondary\" size=\"small\" aria-label=\"scroll back to top\">\n          <KeyboardArrowUp />\n        </Fab>\n      </ScrollTop>\n    </div>\n  )\n}\n","import axios from 'axios'\n\nexport const AxiosInstance = axios.create({\n  baseURL: 'http://172.23.165.102:8080/api',\n})\n\n\n","import { AxiosInstance } from './axios'\nimport { Item, ItemPrice, ItemWithPrice } from './models'\n\ntype CreateItemPayload = {\n  item: {\n    url: string\n  }\n}\n\n// Returns an array of items with prices\nexport async function getAllItems() {\n  try {\n    const response = await AxiosInstance.get('/items/prices')\n    const data = response.data\n    if (Array.isArray(data)) {\n      const items = data.map(d => <ItemWithPrice>d.item_with_price)\n      return items\n    }\n    return null\n  } catch (err) {\n    console.log(err.response.data.error)\n    return null\n  }\n}\n\n// Returns an item with its price\nexport async function getItem(id: string) {\n  try {\n    const response = await AxiosInstance.get(`/item/${id}`)\n    const data = response.data\n    if (data.item_with_price) {\n      return <ItemWithPrice>data.item_with_price\n    }\n    return null\n  } catch (err) {\n    console.log(err.response.data.error)\n    return null\n  }\n}\n\n// Returns an item's latest price\nexport async function getItemPrice(id: string) {\n  try {\n    const response = await AxiosInstance.get(`/item/${id}/price`)\n    const data = response.data\n    if (data.item) {\n      return <ItemPrice>data.price\n    }\n    return null\n  } catch (err) {\n    console.log(err.response.data.error)\n    return null\n  }\n}\n\n// Returns all item's prices\nexport async function getItemPrices(id: string) {\n  try {\n    const response = await AxiosInstance.get(`/item/${id}/prices`)\n    const data = response.data\n    if (Array.isArray(data)) {\n      const itemPrices = data.map(d => <ItemPrice>d.price)\n      return itemPrices\n    }\n    return null \n  } catch (err) {\n    console.log(err.response.data.error)\n    return null\n  }\n}\n\nexport async function createItem(payload: CreateItemPayload) {\n  const requestOptions = {\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  }\n  try {\n    const response = await AxiosInstance.post(`/item`, payload, requestOptions)\n    const data = response.data\n    if (data) {\n      return <Item>data.item\n    }\n    return null\n  } catch (err) {\n    console.log(err.response.data.error)\n    return null\n  }\n}\n\nexport async function checkURL(payload: CreateItemPayload) : Promise<boolean> {\n  const requestOptions = {\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  }\n  try {\n    await AxiosInstance.post(`/item`, payload, requestOptions)\n    \n    return true\n  } catch (err) {\n    console.log(err.response.data.error)\n    return false\n  }\n}\n","export default \"data:image/jpeg;base64,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A8U8A408888U488s88c88M8scUsMc488008s88s888cc888s48c0ss8s88ss88c8888880s8888M8o8oMcccsM8M8Es884csE8c8oss8888E848s48088o848Qg8848sU8888co88c8E8s8M4cs8888Qs4488o88E8c8Ms888c8A8s8Msc884sYkY0U88s8sE8c8Ms88888U8884880I4M0M8Isc8s88c888888M8c8gso8QMUMQocw888Mg4g84QcUs8c88888U848wM0cYAAAAAAAAQI88w808w888888E8s8IoY8A4MY88Q88oE80E8c80888s88U88kscg0AoIAs4QI0oU8cU888c888sscEc48AI4UAs88sEAwookMsQ80sAMs8888E8s8s4k4A8oEMgAAgoA88M8c8c8s8888E8s448MQA4QAAAAAUgQ80c8c88888888A8o8s8sgAgAgAAAAAAQ8sE8c8c88wMccEss8IMsUAAAAAAAAAAEs0E8cscUM8888U8s8Yk8E88g8I8Uo88s88Y8Msk8o8w4UE4o8Qgw00wg4QwQggwkQsU0QowUAw888c8s8888s488888cs88s88c8888888AAUkMIQQEgEMIAEIEAIAAAE0EMMogQAM888U8s4os8U88o8M8cs48s80M888M8o8ww0UoY8ww4U04g0wwQowwgw8c004w0g8M8cU88oI88ccss8scMsMMccUU88sc8s8/8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAwEBPxBIP//EABQRAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQIBAT8QSD//xAArEAAABAQGAQMFAQAAAAAAAAAAEDFxAREg8CEwQEFRYVCBkaFgscHh8dH/2gAIAQEAAT8QqR4ojQuJ1bqTqHE43Bwcbg4OJwcHBwcHVOzDjcHUQ8kABGaQoI8KAIoXSEaECPoIwAA7xIdoXaAdS4nUOqcTqXaF2jdS7wjstAR4gAABARQR9IABARqwRmiAjSiM4lXlRlTDsHgEsuRmyow8CABchMPzsDcB/AgaCgyJHQBGhCNQ9DAB/BAggOMewoYY0F3MxBizCRGhhSEaUAvUGAnY5U3B0jGgXwKmCJQOjPlP3EegzDVgUMrESOULBFBGhCAjRg8U3YG7HMh/lngUILohgoYsBwc/MR4cAIUnRPrtsUNhLt5go5aPDBxA++AaYkhG2E9YiA/0BSiSoFvx7ENYoDGNIgB7mMCoTBiCHER9wIgfAnA1BJWjPC5Fw40aMQYP4AQx4FGOmRisp0goKRJaODIiTSZE86tlLCYTDYTB7Cg/wT0AFQkekjkGJllQIAtIklAbCUfissOIiIiIjsBRUgkYlwGAAUhER4A5FSYTCYbDZloCMg/YCJIi2UCcRzRr8kcQcCKEBPNFEmm+woL14J0f2jCBbxEyRA8sgBHkgPcBBOhYuDiMMu4iziRrOIu4ka7iLuIu4iziLuJGu4i7iLOIu4ixiFUxFiFcd+DH3AIJD0JYKIgdoix0GJ8I5OxcaQE//wD/AP8A/wD/APz/AP7B0y+R93hAAAkiCmGxe2EEqdi4qABSKMAPj5TjOBauRvFx3qgjKfExESJJNbDsIGexcUAaiTBYj9wJJEpICzYt1QCAwiqHFVq5G8XXdJGlARlA+AGFiPcIBCUAQ9RHwIZBJYuM0AIAVMP6Agi5YQd1IBauRvF13qgAEZbCDhci4liA/gJEMFi4oA+JMKKR9AolBwLs549keonRKHR0AE84PxVi/wBpwmA+QckPkQLHauSuu6UaUCAjIBBPkSQiAQjihsMQKTsMSIsXFIAnxEbA44H+OOtB/AKghSf1XjblRUkAJCVhgoDHR4oCHrVyVx3QI8EAAYEQShIPcRAFFi4ywS87ZpahFRiZsJMlj7GStXJXXerARlm4ikqPiIncXAWLioEh/NHhI+3HpFItxPRgJn3CibelWSDQdhuJg7MCtXI3i470QSyKMwwCBCwEbOfriNoXLsRA5oRaoGOH+7CI/YHABGGfsIC2VGbDlJYnKNG+j4A1AkVq5K478OHvAEqF7TVclSDYDCH3Oh/ANI6yN9CgSnLhGJWrkbxdd6oRmkMm0OqgXYhowfwYsQ6qaTRvpg8AmBQGRkLVyQuO9UQEZhM6Q6BsnBxYMMaQfoS0GeIQBCEoShKEq3YFigWrkrruhAR4MBJvH5QhpZMTAzMzMzMzMzMz7otTCuO9GkDg4SE4kBBOpHEcZIO0pBCjAioOIm8nh5dA6A8dBPJ5vDzuOycaKDjcZxODshGeBEW8SKCmmu7u7u7u7u7u7u76aUrCkR9PAAABlDKmBlDKjNQMyCAjKEa4AgI0oAI8wAAAAAAAAk+lwDPqcAAAAAAAAGIyHEZH0UyFFAkdiMqchkMhxPKruQ4jIZDifZUSMoMipDLTQdW6g6o7UAdkIzjGvjmcdNY5c4SeVAJAwdgYJCQchJDkIwSF2CQpDMDAwdhSBgkEgQJCYOwSCQSBg7AwSUyEkOQkgkKQMMcaQkZIIpJyyHIU9FxiBIUlIA4klBGlABHigjP/AP/Z\"","import {\n  ArgumentScale,\n  EventTracker,\n  ValueScale,\n} from '@devexpress/dx-react-chart'\nimport {\n  ArgumentAxis,\n  Chart,\n  LineSeries,\n  ScatterSeries,\n  Title,\n  Tooltip,\n  ValueAxis,\n} from '@devexpress/dx-react-chart-material-ui'\nimport {\n  Card,\n  CardHeader,\n  CardMedia,\n  CardContent,\n  Typography,\n  Divider,\n  CardActions,\n  Button,\n  Paper,\n  CircularProgress,\n} from '@material-ui/core'\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\nimport {\n  format,\n  formatDistanceToNow,\n  fromUnixTime,\n  parse,\n  parseISO,\n} from 'date-fns'\nimport React, { useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { getItem, getItemPrices } from '../../api/item'\nimport { ItemPrice, ItemWithPrice } from '../../api/models'\nimport empty from '../../images/empty.jpg'\nimport { line, curveStepAfter } from 'd3-shape'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    grow: {\n      flexGrow: 1,\n      height: '100%',\n    },\n    paper: {\n      marginTop: theme.spacing(2),\n      padding: theme.spacing(2),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      margin: theme.spacing(2),\n    },\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      margin: theme.spacing(1),\n      flexGrow: 1,\n      maxWidth: 400,\n    },\n    content: {\n      display: 'flex',\n      flex: '1 0 auto',\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      width: '100%',\n    },\n    cover: {\n      height: 0,\n      paddingTop: '56.25%', // 16:9\n    },\n    button: {\n      height: theme.spacing(8),\n    },\n    cardAction: {\n      padding: 0,\n    },\n    text: {\n      display: 'flex',\n      justifyContent: 'flex-end',\n      flexGrow: 1,\n      marginRight: theme.spacing(1),\n    },\n    vnd: {\n      display: 'flex',\n      justifyContent: 'flex-end',\n      alignItems: 'flex-end',\n    },\n  })\n)\n\ninterface ParamTypes {\n  itemID: string\n}\n\nconst Line = (props) => (\n  <LineSeries.Path\n    {...props}\n    path={line()\n      .x(({ arg }) => arg)\n      .y(({ val }) => val)\n      .curve(curveStepAfter)}\n  />\n)\n\nexport default function ItemPage() {\n  const classes = useStyles()\n\n  const { itemID } = useParams<ParamTypes>()\n  const [item, setItem] = useState<ItemWithPrice>({} as any)\n  const [itemPrices, setItemPrices] = useState<ItemPrice[]>([])\n  const [loading, setLoading] = useState(true)\n  const [loadingPrices, setLoadingPrices] = useState(true)\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true)\n\n      const result = await getItem(itemID)\n      setItem(result || ({} as any))\n      setLoading(false)\n    }\n\n    fetchData()\n  }, [itemID])\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoadingPrices(true)\n\n      const result = await getItemPrices(itemID)\n      if (result) {\n        result.sort((a, b) => (a.time > b.time ? 1 : -1))\n        result.forEach((ip) => {\n          ip.time = new Date(ip.time)\n        })\n      }\n      setItemPrices(result || [])\n      setLoadingPrices(false)\n    }\n\n    fetchData()\n  }, [itemID])\n\n  let title = item?.name || 'No title'\n  let imgURL = item?.image_url || empty\n  let url = item?.url || '/'\n  let updated = item?.time ? parseISO(item?.time) : new Date()\n  let price: number = item?.price || 0\n  const onClickStore = () => {\n    window.location.href = url\n  }\n\n  useEffect(() => {\n    title = item?.name || 'No title'\n    imgURL = item?.image_url || empty\n    url = item?.url || '/'\n    updated = item?.time ? parseISO(item?.time) : new Date()\n    price = item?.price || 0\n  }, [item])\n\n  const TooltipContent = ({ targetItem }) => (\n    <div>{itemPrices[targetItem.point].price.toLocaleString()} VND</div>\n  )\n\n  const ArgumentLabel = ({ x, y, dy, text, textAnchor }) => {\n    const res = text.replace(/[ ,.]/g, '')\n    return (\n      <Chart.Label\n        x={x}\n        y={y}\n        dy={dy}\n        textAnchor={textAnchor}\n      >\n        {format(fromUnixTime(res / 1000), 'h a, MMM Do')}\n      </Chart.Label>\n    )\n  }\n  return (\n    <div className={classes.grow}>\n      <Paper className={classes.paper}>\n        <Card className={classes.root}>\n          <CardHeader\n            title={title}\n            subheader={`Last updated: ${formatDistanceToNow(updated, {\n              addSuffix: true,\n            })}`}\n          />\n          <CardMedia className={classes.cover} image={imgURL} title={title} />\n\n          <div>\n            <CardContent className={classes.content}>\n              <Typography variant=\"h3\" className={classes.text}>\n                {price.toLocaleString()}\n              </Typography>\n              <Typography\n                variant=\"h6\"\n                color=\"textSecondary\"\n                className={classes.vnd}\n                align=\"right\"\n              >\n                VND\n              </Typography>\n            </CardContent>\n          </div>\n          <Divider orientation=\"horizontal\" />\n          <CardActions className={classes.cardAction} disableSpacing>\n            <Button onClick={onClickStore} className={classes.button} fullWidth>\n              To store page\n            </Button>\n          </CardActions>\n        </Card>\n      </Paper>\n      {loadingPrices ? (\n        <CircularProgress />\n      ) : (\n        <Chart data={itemPrices}>\n          <ValueScale name=\"price\" />\n          <ArgumentScale name=\"time\" />\n          <ArgumentAxis labelComponent={ArgumentLabel} />\n          <ValueAxis scaleName=\"price\" showLine showTicks />\n          <LineSeries\n            name=\"Price over time\"\n            valueField=\"price\"\n            argumentField=\"time\"\n            scaleName=\"price\"\n            seriesComponent={Line}\n          />\n          <ScatterSeries valueField=\"price\" argumentField=\"time\" />{' '}\n          <EventTracker />\n          <Tooltip contentComponent={TooltipContent} />\n          <Title text=\"Price over time\" />\n        </Chart>\n      )}\n    </div>\n  )\n}\n","export default function NotFound() {\n    return (\n        <div>\n            404 Not Found\n        </div>\n    )\n}\n","import { AuthDispatch, AuthReducerActions } from '../contexts/reducer'\nimport { CookieWrapper } from '../utils/storage'\nimport { AxiosInstance } from './axios'\nimport { User } from './models'\n\ntype LoginPayload = {\n  user: {\n    email: string\n    password: string\n  }\n}\n\ntype CreateUserPayload = {\n  user: {\n    username: string\n    email: string\n    password: string\n  }\n}\n\nexport async function createUser(\n  dispatch: React.Dispatch<AuthDispatch>,\n  createUserPayload: CreateUserPayload\n) {\n  const requestOptions = {\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(createUserPayload),\n  }\n  try {\n    dispatch({\n      type: AuthReducerActions.REQUEST_LOGIN,\n      payload: {} as any,\n      error: {} as any,\n    })\n    const response = await AxiosInstance.post(\n      `/signup`,\n      createUserPayload,\n      requestOptions\n    )\n    const data = response.data\n    if (data.user) {\n      dispatch({\n        type: AuthReducerActions.LOGIN_SUCCESS,\n        payload: data,\n        error: {} as any,\n      })\n      let expires = new Date()\n      expires = new Date(expires.getTime() + 1000 * 60 * 60 * 24 * 7)\n      CookieWrapper.setCookie(\"userAuth\", data.user, expires)\n      CookieWrapper.setCookie(\"jwt\", data.jwt, expires)\n      // setup axios to use auth from now\n      AxiosInstance.defaults.headers.common['Authorization'] =\n        'Bearer ' + data.jwt\n      return <User>data.user\n    }\n\n    dispatch({\n      type: AuthReducerActions.LOGIN_ERROR,\n      payload: {} as any,\n      error: data.errors[0],\n    })\n    return null\n  } catch (error) {\n    dispatch({\n      type: AuthReducerActions.LOGIN_ERROR,\n      payload: {} as any,\n      error: error,\n    })\n\n    return null\n  }\n}\n\nexport async function loginUser(\n  dispatch: React.Dispatch<AuthDispatch>,\n  loginPayload: LoginPayload\n) {\n  const requestOptions = {\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(loginPayload),\n  }\n\n  try {\n    dispatch({\n      type: AuthReducerActions.REQUEST_LOGIN,\n      payload: {} as any,\n      error: {} as any,\n    })\n    const response = await AxiosInstance.post(\n      `/login`,\n      loginPayload,\n      requestOptions\n    )\n    const data = response.data\n    if (data.user) {\n      dispatch({\n        type: AuthReducerActions.LOGIN_SUCCESS,\n        payload: data,\n        error: {} as any,\n      })\n      let expires = new Date()\n      expires = new Date(expires.getTime() + 1000 * 60 * 60 * 24 * 7)\n      CookieWrapper.setCookie(\"userAuth\", data.user, expires)\n      CookieWrapper.setCookie(\"jwt\", data.jwt, expires)\n\n      // setup axios to use auth from now\n      AxiosInstance.defaults.headers.common['Authorization'] =\n        'Bearer ' + data.jwt\n      return <User>data.user\n    }\n\n    dispatch({\n      type: AuthReducerActions.LOGIN_ERROR,\n      payload: {} as any,\n      error: data.errors[0],\n    })\n    return null\n  } catch (error) {\n    dispatch({\n      type: AuthReducerActions.LOGIN_ERROR,\n      payload: {} as any,\n      error: error,\n    })\n\n    return null\n  }\n}\n\nexport async function logout(dispatch: React.Dispatch<AuthDispatch>) {\n  dispatch({\n    type: AuthReducerActions.LOGOUT,\n    payload: {} as any,\n    error: {} as any,\n  })\n\n  // setup axios to stop using auth\n  AxiosInstance.defaults.headers.common['Authorization'] = ''\n  CookieWrapper.removeCookie()\n}\n\ntype UpdateUsernamePayload = {\n  user: {\n    username: string\n  }\n}\n\ntype UpdatePasswordPayload = {\n  user: {\n    password: string\n  }\n}\n\nexport async function updatePassword(\n  dispatch: React.Dispatch<AuthDispatch>,\n  loginPayload: LoginPayload,\n  updatePayload: UpdatePasswordPayload\n) {\n  const requestOptions = (payload) => {\n    return {\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(payload),\n    }\n  }\n\n  try {\n    const loginResponse = await AxiosInstance.post(\n      `/login`,\n      loginPayload,\n      requestOptions(loginPayload)\n    )\n    const loginData = loginResponse.data\n    if (loginData.user) {\n      const response = await AxiosInstance.put(\n        `/user`,\n        updatePayload,\n        requestOptions(updatePayload)\n      )\n      const data = response.data\n      if (data.user) {\n        dispatch({\n          type: AuthReducerActions.LOGIN_SUCCESS,\n          payload: data,\n          error: {} as any,\n        })\n        let expires = new Date()\n        expires = new Date(expires.getTime() + 1000 * 60 * 60 * 24 * 7)\n        CookieWrapper.setCookie(\"userAuth\", data.user, expires)\n        return <User>data.user\n      }\n    }\n\n    return null\n  } catch (error) {\n    console.log(error.response.data.error)\n    return null\n  }\n}\n\nexport async function updateUsername(\n  dispatch: React.Dispatch<AuthDispatch>,\n  updatePayload: UpdateUsernamePayload\n) {\n  const requestOptions = {\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(updatePayload),\n  }\n\n  try {\n    const response = await AxiosInstance.put(\n      `/user`,\n      updatePayload,\n      requestOptions\n    )\n    const data = response.data\n    if (data.user) {\n      dispatch({\n        type: AuthReducerActions.LOGIN_SUCCESS,\n        payload: data,\n        error: {} as any,\n      })\n      let expires = new Date()\n      expires = new Date(expires.getTime() + 1000 * 60 * 60 * 24 * 7)\n      CookieWrapper.setCookie(\"userAuth\", data.user, expires)\n\n      return <User>data.user\n    }\n\n    return null\n  } catch (error) {\n    console.log(error.response.data.error)\n    return null\n\n  }\n}\n","import { Backdrop,Dialog, Fade, LinearProgress,Theme } from \"@material-ui/core\"\nimport React, { useEffect } from \"react\"\nimport { useState } from \"react\"\nimport { useHistory } from \"react-router-dom\"\nimport Routes from \"../../../utils/routes\"\nimport { makeStyles,  createStyles} from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    modal: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing(2, 4, 3),\n    },\n  })\n)\n\nexport default function SignInModal(props) {\n  const classes = useStyles()\n  const history = useHistory()\n  const [open, setOpen] = useState(false)\n\n  // change state on props change\n  useEffect(() => {\n    setOpen(props.open)\n  }, [props.open]);\n\n  const handleEnter = () => {\n    setTimeout(() => {\n      setOpen(false)\n    }, 1000)\n  }\n\n  const handleExit = () => {\n    history.push(Routes.HOME)\n  }\n\n  return (\n    <div>\n      <Dialog\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={open}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open} onEnter={handleEnter} onExited={handleExit}>\n          <div className={classes.paper}>\n            <h2 id=\"transition-modal-title\">Successfully logged in</h2>\n            <p id=\"transition-modal-description\">\n              You will be redirected to the home page shortly...\n            </p>\n            <LinearProgress />\n          </div>\n        </Fade>\n      </Dialog>\n    </div>\n  )\n}","import React, { useState } from 'react'\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useForm } from 'react-hook-form'\n\nimport {\n  Avatar,\n  Button,\n  CssBaseline,\n  TextField,\n  Link,\n  Grid,\n  Typography,\n  Container,\n} from '@material-ui/core'\nimport Routes from '../../utils/routes'\nimport { loginUser } from '../../api/user'\nimport { useAuthDispatch } from '../../contexts/context'\nimport SignInModal from './components/SignInModal'\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}))\n\ntype FormData = {\n  email: string\n  password: string\n}\n\nexport default function SignIn() {\n  const classes = useStyles()\n  const { register, handleSubmit, setError , errors} = useForm<FormData>()\n  const dispatch = useAuthDispatch()\n  const [open, setOpen] = useState(false)\n\n  const onSubmit = handleSubmit(async ({ email, password }) => {\n    try {\n      const user = {\n        email,\n        password,\n      }\n      const response = await loginUser(dispatch, { user })\n      if (!response) return // TODO: error handling\n      setOpen(true)\n    } catch (error) {\n      setError('email', {\n        type: 'required',\n      })\n      setError('password', {\n        type: 'required',\n        message: 'Account does not exist or password does not match.',\n      })\n    }\n  })\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n\n      <SignInModal open={open} />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography>\n        <form className={classes.form} noValidate onSubmit={onSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            inputRef={register}\n            error={errors.email ? true : false}\n            helperText={errors.email ? errors.email.message : ''}\n            autoFocus\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            error={errors.password ? true : false}\n            helperText={errors.password ? errors.password.message : ''}\n            inputRef={register}\n          />\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            Sign In\n          </Button>\n          <Grid container>\n            <Grid item>\n              <Link href={Routes.SIGNUP} variant=\"body2\">\n                {\"Don't have an account? Sign Up\"}\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  )\n}\n","import { Backdrop, Dialog, Fade, Theme } from '@material-ui/core'\nimport React, { useEffect } from 'react'\nimport { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport Routes from '../../../utils/routes'\nimport { makeStyles, createStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    modal: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing(2, 4, 3),\n    },\n  })\n)\n\nexport default function SignUpModal(props) {\n  const classes = useStyles()\n  const history = useHistory()\n  const [open, setOpen] = useState(false)\n\n  // change state on props change\n  useEffect(() => {\n    setOpen(props.open)\n  }, [props.open])\n\n  const handleEnter = () => {\n    setTimeout(() => {\n      setOpen(false)\n    }, 1000)\n  }\n\n  const handleExit = () => {\n    history.push(Routes.HOME)\n  }\n\n  return (\n    <div>\n      <Dialog\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={open}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open} onEnter={handleEnter} onExited={handleExit}>\n          <div className={classes.paper}>\n            <h2 id=\"transition-modal-title\">Successfully signed up</h2>\n            <p id=\"transition-modal-description\">\n              You will be redirected to the home page shortly...\n            </p>\n          </div>\n        </Fade>\n      </Dialog>\n    </div>\n  )\n}\n","import React from 'react'\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport {\n  Avatar,\n  Button,\n  CssBaseline,\n  TextField,\n  Link,\n  Grid,\n  Typography,\n  Container,\n} from '@material-ui/core'\nimport Routes from '../../utils/routes'\nimport { useForm } from 'react-hook-form'\nimport { useAuthDispatch } from '../../contexts/context'\nimport { createUser } from '../../api/user'\nimport SignUpModal from './components/SignUpModal'\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}))\n\ntype FormData = {\n  username: string\n  email: string\n  password: string\n  repeat_password: string\n}\n\nconst defaultValues: FormData = {\n  username: '',\n  email: '',\n  password: '',\n  repeat_password: '',\n}\n\nexport default function SignUp() {\n  const classes = useStyles()\n  const { register, handleSubmit, watch, errors, setError } = useForm<FormData>({\n    defaultValues,\n  })\n  const dispatch = useAuthDispatch()\n  const [open, setOpen] = React.useState(false)\n  const password = React.useRef({})\n  password.current = watch('password', '')\n\n  const onSubmit = handleSubmit(async (data) => {\n    try {\n      console.log('here')\n      const user = {\n        username: data.username,\n        email: data.email,\n        password: data.password,\n      }\n\n      console.log(data)\n      const response = await createUser(dispatch, { user })\n      if (!response) return // TODO: error handling\n      setOpen(!open)\n    } catch (error) {\n      setError(\"email\", {\n        type: \"notMatch\", \n        message: \"Email already in use. Please sign in or choose another email address.\"\n      });\n\n    }\n  })\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n\n      <SignUpModal open={open} />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign up\n        </Typography>\n        <form className={classes.form} noValidate onSubmit={onSubmit}>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <TextField\n                autoComplete=\"username\"\n                name=\"username\"\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"username\"\n                label=\"Username\"\n                error={errors.username ? true : false}\n                helperText={errors.username ? errors.username.message : \"\"}\n                autoFocus\n                inputRef={register({\n                  required: 'A username is required',\n                })}\n              />\n\n              \n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"email\"\n                label=\"Email Address\"\n                name=\"email\"\n                autoComplete=\"email\"\n                error={errors.email ? true : false}\n                helperText={errors.email ? errors.email.message : \"\"}\n                inputRef={register({\n                  required: \"An email is required\"\n                })}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                id=\"password\"\n                error={errors.password ? true : false}\n                helperText={errors.password ? errors.password.message : \"\"}\n                inputRef={register({\n                  required: 'A password is required',\n                  minLength: {\n                    value: 6,\n                    message: 'Password must have at least 6 characters',\n                  },\n                })}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"repeat_password\"\n                label=\"Repeat Password\"\n                type=\"password\"\n                id=\"repeat_password\"\n                error={errors.repeat_password ? true : false}\n                helperText={errors.repeat_password ? errors.repeat_password.message : \"\"}\n                inputRef={register({\n                  validate: (value) =>\n                    value === password.current || 'The passwords do not match',\n                })}\n              />\n            </Grid>\n          </Grid>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            Sign Up\n          </Button>\n          <Grid container justify=\"flex-end\">\n            <Grid item>\n              <Link href={Routes.SIGNIN} variant=\"body2\">\n                Already have an account? Sign in\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  )\n}\n","import { AxiosInstance } from './axios'\nimport { ItemWithPrice, UserItem } from './models'\n\ntype CreateUserItemPayload = {\n  item: {\n    id: string\n  }\n}\n\n// Returns an array of items\nexport async function getAllUserItems() {\n  try {\n    const response = await AxiosInstance.get('/user/items')\n    const data = response.data\n    if (Array.isArray(data)) {\n      const items = data.map(d => <ItemWithPrice>d.item_with_price)\n\n      return items\n    }\n    return\n  } catch (err) {\n    console.log(err.response.data.error)\n  }\n}\n\nexport async function createUserItem(payload: CreateUserItemPayload) {\n  const requestOptions = {\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  }\n  try {\n    const response = await AxiosInstance.post(`/user/item`, payload, requestOptions)\n    const data = response.data\n    if (data) {\n      return <UserItem>data.user_item\n    }\n    return\n  } catch (err) {\n    console.log(err.response.data.error)\n  }\n}\n\nexport async function checkUserItem(id: string) : Promise<boolean> {\n\n  try {\n    await AxiosInstance.get(`/user/item/${id}`)\n    \n    // 200 code\n    return true\n  } catch (err) {\n    console.log(err.response.data.error)\n    return false\n  }\n}\n","import React from 'react'\nimport { Theme, createStyles, makeStyles } from '@material-ui/core/styles'\nimport empty from '../../images/empty.jpg'\nimport {\n  Button,\n  CardActionArea,\n  CardActions,\n  CardHeader,\n  Divider,\n  Card,\n  CardContent,\n  CardMedia,\n  Typography,\n} from '@material-ui/core';\nimport { useHistory } from 'react-router-dom'\nimport { formatDistanceToNow, parseISO } from 'date-fns'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      margin: theme.spacing(1),\n      flexGrow: 1, \n      maxWidth: 400,\n    },\n    content: {\n      display: 'flex',\n      flex: '1 0 auto',\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      width: '100%',\n    },\n    cover: {\n      height: 0,\n      paddingTop: '56.25%', // 16:9\n    },\n    button: {\n      height: theme.spacing(8),\n    },\n    cardAction: {\n      padding: 0,\n    },\n    text: {\n      display: 'flex',\n      justifyContent: 'flex-end',\n      flexGrow: 1,\n      marginRight: theme.spacing(1)\n    },\n    vnd: {\n      display: 'flex',\n      justifyContent: 'flex-end',\n      alignItems:'flex-end'\n    },\n  })\n)\n\nexport default function ItemCard(props) {\n  const classes = useStyles()\n  const history = useHistory()\n\n  const title = props.name || 'No title'\n  const imgURL = props.image_url || empty\n  const url = props.url || '/'\n  const id = props.id || ''\n  const updated = parseISO(props.time) || 'Unknown'\n  const price: number = props.price || 0\n  const onClickStore = () => {\n    window.location = url\n  }\n\n  const onClickItem = () => {\n    history.push(`/item/${id}`)\n  }\n\n  return (\n    <Card className={classes.root}>\n      <CardActionArea onClick={onClickItem}>\n        <CardHeader title={title} subheader={`Last updated: ${formatDistanceToNow(updated,{addSuffix: true})}`} />\n        <CardMedia className={classes.cover} image={imgURL} title={title} />\n\n        <div>\n          <CardContent className={classes.content}>\n            <Typography variant=\"h3\" className={classes.text}>\n              {price.toLocaleString()}\n            </Typography>\n            <Typography\n              variant=\"h6\"\n              color=\"textSecondary\"\n              className={classes.vnd}\n              align=\"right\"\n            >\n              VND\n            </Typography>\n          </CardContent>\n        </div>\n      </CardActionArea>\n      <Divider orientation=\"horizontal\" />\n      <CardActions className={classes.cardAction} disableSpacing>\n        <Button onClick={onClickStore} className={classes.button} fullWidth>\n          To store page\n        </Button>\n        <Divider orientation=\"vertical\" flexItem/>\n        <Button onClick={onClickItem} className={classes.button} fullWidth>\n          Price History\n        </Button>\n      </CardActions>\n    </Card>\n  )\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport {\n  Button,\n  CssBaseline,\n  TextField,\n  Grid,\n  Container,\n} from '@material-ui/core'\nimport { useForm } from 'react-hook-form'\nimport { useAuthDispatch, useAuthState } from '../../../contexts/context'\nimport { updatePassword } from '../../../api/user'\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}))\n\ntype FormData = {\n  current_password: string\n  password: string\n  repeat_password: string\n}\n\nexport default function EditPasswordForm({callback}) {\n  const userAuth = useAuthState()\n  const classes = useStyles()\n  const {\n    register,\n    handleSubmit,\n    watch,\n    errors,\n  } = useForm<FormData>()\n  const dispatch = useAuthDispatch()\n\n  if (!userAuth.user) {\n    return <div></div>\n  }\n\n  const user = userAuth.user\n  const password = React.useRef({})\n  password.current = watch('password', '')\n\n  const onSubmit = handleSubmit(async (data) => {\n    try {\n      const validate = {\n        email: String(user.email),\n        password: data.current_password\n      }\n      const userPayload = {\n        password: data.password,\n      }\n\n      console.log(data)\n      const response = await updatePassword(dispatch, { \"user\": validate }, {\"user\": userPayload})\n      if (!response) return // TODO: error handling\n    } catch (error) {\n      console.log(error)\n    }\n  })\n\n  const handleCancel = () => {\n    callback()\n  }\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n\n      <div className={classes.paper}>\n        <form className={classes.form} noValidate onSubmit={onSubmit}>\n          <Grid container spacing={2}>\n          <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"current_password\"\n                label=\"Password\"\n                type=\"password\"\n                id=\"current_password\"\n                error={errors.current_password ? true : false}\n                helperText={errors.current_password ? errors.current_password.message : ''}\n                defaultValue=\"\"\n                inputRef={register({\n                  required: 'The current password is required',\n                })}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                id=\"password\"\n                error={errors.password ? true : false}\n                helperText={errors.password ? errors.password.message : ''}\n                defaultValue=\"\"\n                inputRef={register({\n                  required: 'A password is required',\n                  minLength: {\n                    value: 6,\n                    message: 'Password must have at least 6 characters',\n                  },\n                })}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"repeat_password\"\n                label=\"Repeat Password\"\n                type=\"password\"\n                id=\"repeat_password\"\n                defaultValue=\"\"\n                error={errors.repeat_password ? true : false}\n                helperText={\n                  errors.repeat_password ? errors.repeat_password.message : ''\n                }\n                inputRef={register({\n                  validate: (value) =>\n                    value === password.current || 'The passwords do not match',\n                })}\n              />\n            </Grid>\n\n            <Grid item xs={3}>\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n              >\n                Save\n              </Button>\n            </Grid>\n            <Grid item xs={3}>\n              <Button\n                type=\"button\"\n                fullWidth\n                variant=\"outlined\"\n                color=\"primary\"\n                className={classes.submit}\n                onClick={handleCancel}\n              >\n                Cancel\n              </Button>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  )\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport {\n  Button,\n  CssBaseline,\n  TextField,\n  Grid,\n  Container,\n} from '@material-ui/core'\nimport { useForm } from 'react-hook-form'\nimport { useAuthDispatch, useAuthState } from '../../../contexts/context'\nimport { updateUsername } from '../../../api/user'\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}))\n\ntype FormData = {\n  username: string\n}\n\nexport default function EditAccountForm({callback}) {\n  const userAuth = useAuthState()\n  const classes = useStyles()\n  const {\n    register,\n    handleSubmit,\n    watch,\n    errors,\n    setValue,\n  } = useForm<FormData>()\n  const dispatch = useAuthDispatch()\n\n  if (!userAuth.user) {\n    return <div></div>\n  }\n\n  const user = userAuth.user\n  const password = React.useRef({})\n  password.current = watch('password', '')\n\n  setValue('username', user.username, { shouldValidate: true })\n\n  const onSubmit = handleSubmit(async (data) => {\n    try {\n      const user = {\n        username: data.username,\n      }\n\n      console.log(data)\n      const response = await updateUsername(dispatch, { user })\n      if (!response) return // TODO: error handling\n    } catch (error) {\n      console.log(error)\n    }\n  })\n\n  const handleCancel = () => {\n    callback()\n  }\n  \n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n\n      <div className={classes.paper}>\n        <form className={classes.form} noValidate onSubmit={onSubmit}>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <TextField\n                autoComplete=\"username\"\n                name=\"username\"\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"username\"\n                label=\"Username\"\n                error={errors.username ? true : false}\n                helperText={errors.username ? errors.username.message : ''}\n                autoFocus\n                defaultValue={user.username || ''}\n                inputRef={register({\n                  required: 'A new username is required',\n                })}\n              />\n            </Grid>\n            <Grid item xs={3}>\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n              >\n                Save\n              </Button>\n            </Grid>\n            <Grid item xs={3}>\n              <Button\n                type=\"button\"\n                fullWidth\n                variant=\"outlined\"\n                color=\"primary\"\n                className={classes.submit}\n                onClick={handleCancel}\n              >\n                Cancel\n              </Button>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  )\n}\n","import {\n  Button,\n  Grid,\n  Theme,\n  Typography,\n} from '@material-ui/core'\nimport { AccountCircle, Email } from '@material-ui/icons'\nimport React, { useState } from 'react'\nimport { useAuthState } from '../../../contexts/context'\nimport EditPasswordForm from './EditPasswordForm'\nimport EditAccountForm from './EditAccountForm'\nimport { makeStyles,  createStyles} from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    avatar: {\n      width: 200,\n      height: 200,\n      margin: 'auto',\n    },\n    centeredTop: {\n      textAlign: 'center',\n      padding: theme.spacing(1),\n    },\n    editButton: {\n      margin: theme.spacing(1),\n    },\n    emailLine: {\n      display: 'flex',\n      alignItems: 'center',\n      flexWrap: 'wrap',\n      justifyContent: 'center',\n      margin: theme.spacing(1)\n    },\n    emailString: {\n      marginLeft: theme.spacing(1),\n    },\n  })\n)\n\nexport default function Account() {\n  const userAuth = useAuthState()\n  const classes = useStyles()\n  const [edit, setEdit] = useState(0)\n\n  if (!userAuth.user) {\n    return <div></div>\n  }\n  const user = userAuth.user\n\n  const onCancel = () => {\n    setEdit(0)\n  }\n\n  const onClick = (value) => {\n    setEdit(value)\n  }\n\n  return (\n    <div>\n      <div className={classes.centeredTop}>\n        <AccountCircle className={classes.avatar} />\n        <Typography component=\"h1\" align=\"center\" variant=\"h5\">\n          {user.username}\n        </Typography>\n\n        <Typography className={classes.emailLine}>\n          <Email />\n          <span className={classes.emailString}>{user.email}</span>\n        </Typography>\n\n        <Grid container direction=\"row\" spacing={2}>\n          <Grid item xs={6}>\n            <Button\n              variant=\"outlined\"\n              className={classes.editButton}\n              onClick={() => {\n                onClick(1)\n              }}\n            >\n              Edit username\n            </Button>\n          </Grid>\n          <Grid item xs={6}>\n            <Button\n              variant=\"outlined\"\n              className={classes.editButton}\n              onClick={() => {\n                onClick(2)\n              }}\n            >\n              Edit password\n            </Button>\n          </Grid>\n        </Grid>\n\n        {edit == 1 ? <EditAccountForm callback={onCancel} /> : <div />}\n        {edit == 2 ? <EditPasswordForm callback={onCancel}/> : <div />}\n      </div>\n    </div>\n  )\n}\n","import {\n  CircularProgress,\n  Divider,\n  Grid,\n  Theme,\n  Typography,\n} from '@material-ui/core'\nimport React, { useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { Item } from '../../api/models'\nimport { getAllUserItems } from '../../api/userItems'\nimport { useAuthState } from '../../contexts/context'\nimport Routes from '../../utils/routes'\nimport ItemCard from '../ItemCard'\nimport Account from './components/Account'\nimport { makeStyles,  createStyles} from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n  grow: {\n    flexGrow: 1,\n    height: '100%',\n  },\n  paper: {\n    marginTop: theme.spacing(2),\n    padding: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  section: {\n    height: '100%',\n  },\n  followed: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    marginBottom: theme.spacing(8),\n  },\n}))\n\nexport default function Profile() {\n  const classes = useStyles()\n  const userAuth = useAuthState()\n  const history = useHistory()\n  const [items, setItems] = useState<Item[]>([])\n  const [loading, setLoading] = useState(true)\n  if (!userAuth.user) {\n    history.push(Routes.SIGNIN)\n  }\n\n  // Get user items\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true)\n\n      const result = await getAllUserItems()\n      setItems(result || [])\n      setLoading(false)\n    }\n\n    fetchData()\n  }, [])\n\n  return (\n    <div className={classes.grow}>\n      <div className={classes.paper}>\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"center\"\n          alignItems=\"stretch\"\n          alignContent=\"center\"\n          spacing={3}\n        >\n          <Grid item xs={3} className={classes.section}>\n            <Account />\n          </Grid>\n          <Divider orientation=\"vertical\" flexItem />\n          <Grid item xs>\n            <Typography\n              component=\"h1\"\n              variant=\"h3\"\n              className={classes.followed}\n            >\n              Followed Items\n            </Typography>\n            <Grid\n              container\n              direction=\"row\"\n              justify=\"center\"\n              alignItems=\"stretch\"\n              spacing={3}\n            >\n              {loading ? (\n                <CircularProgress />\n              ) : (\n                items.map((val, idx) => (\n                  <Grid item xs={4}>\n                    <ItemCard key={idx} {...val} />{' '}\n                  </Grid>\n                ))\n              )}\n            </Grid>\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  )\n}\n","import { CircularProgress, Grid,  Theme } from '@material-ui/core'\nimport React, { useEffect, useState } from 'react'\nimport { getAllItems } from '../../api/item'\nimport { ItemWithPrice } from '../../api/models'\nimport ItemCard from '../ItemCard'\nimport { makeStyles,  createStyles} from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n  grow: {\n    flexGrow: 1,\n  },\n  paper: {\n    marginTop: theme.spacing(1),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: theme.spacing(2)\n  },\n}))\n\nexport default function Home() {\n  const classes = useStyles()\n  const [items, setItems] = useState<ItemWithPrice[]>([])\n  const [loading, setLoading] = useState(true)\n\n  // Get items\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true)\n\n      const result = await getAllItems()\n      setItems(result || [])\n      console.log(result)\n      setLoading(false)\n    }\n\n    fetchData()\n  }, [])\n  \n  return (\n    <div className={classes.grow}>\n      <div className={classes.paper}>\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"center\"\n          alignItems=\"stretch\"\n          alignContent=\"center\"\n          spacing={3}\n        >\n          <Grid item xs>\n            <Grid\n              container\n              direction=\"row\"\n              justify=\"center\"\n              alignItems=\"stretch\"\n              spacing={3}\n            >\n              {loading ? (\n                <CircularProgress />\n              ) : (\n                items.map((val, idx) => (\n                  <Grid item xs={3}>\n                    <ItemCard key={idx} {...val} />{' '}\n                  </Grid>\n                ))\n              )}\n            </Grid>\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport { useHistory } from 'react-router-dom'\nimport Routes from '../../utils/routes'\nimport { Dialog, LinearProgress, Backdrop, Fade } from '@material-ui/core';\nimport { logout } from '../../api/user'\nimport { useAuthDispatch } from '../../contexts/context'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    modal: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing(2, 4, 3),\n    },\n  })\n)\n\nexport default function SignOut() {\n  const classes = useStyles()\n  const dispatch = useAuthDispatch()\n  const history = useHistory()\n  const [open, setOpen] = useState(true)\n\n  const handleEnter = () => {\n    logout(dispatch)\n    setTimeout(() => {\n      setOpen(false)\n    }, 1000)\n  }\n\n  const handleExit = () => {\n    history.push(Routes.HOME)\n  }\n\n  return (\n    <div>\n      <Dialog\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={open}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open} onEnter={handleEnter} onExited={handleExit}>\n          <div className={classes.paper}>\n            <h2 id=\"transition-modal-title\">Successfully logged out</h2>\n            <p id=\"transition-modal-description\">\n              You will be redirected to the home page shortly...\n            </p>\n            <LinearProgress/>\n          </div>\n        </Fade>\n      </Dialog>\n    </div>\n  )\n}\n","import { blue, deepPurple, lightBlue, purple, red } from '@material-ui/core/colors'\nimport { createMuiTheme } from '@material-ui/core/styles'\n\n// A custom theme for this app\nexport const lightTheme = createMuiTheme({\n  palette: {\n    type: 'light',\n    primary: {\n      main: lightBlue[500],\n    },\n    secondary: {\n      main: deepPurple[500],\n    },\n    error: {\n      main: red.A400,\n    },\n  },\n})\n\nexport const darkTheme = createMuiTheme({\n  palette: {\n    type: 'dark',\n    primary: {\n      main: blue[200],\n    },\n    secondary: {\n      main: purple[200],\n    },\n    error: {\n      main: red[500],\n    },\n  },\n})\n","import React from 'react'\nimport NavBar from '../NavBar'\nimport { Route, Switch } from 'react-router-dom'\nimport ItemPage from '../ItemPage'\nimport NotFound from '../NotFound'\nimport Routes from '../../utils/routes'\nimport SignIn from '../SignIn'\nimport SignUp from '../SignUp'\nimport Profile from '../Profile'\nimport Home from '../Home'\nimport SignOut from '../SignOut'\nimport { AxiosInstance } from '../../api/axios'\nimport { useAuthDispatch } from '../../contexts/context'\nimport { logout } from '../../api/user'\nimport { CookieWrapper } from '../../utils/storage'\nimport { CssBaseline, useMediaQuery } from '@material-ui/core'\nimport { ThemeProvider} from '@material-ui/core/styles'\nimport { darkTheme, lightTheme } from '../../theme'\n\nfunction App() {\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)')\n\n  // Get current cookie\n  const currentJWT = CookieWrapper.getCookie(\"jwt\")\n  AxiosInstance.defaults.headers.common['Authorization'] = currentJWT\n    ? 'Bearer ' + currentJWT\n    : ''\n\n  // Initial check for current session\n  const dispatch = useAuthDispatch()\n  AxiosInstance.get('/user').catch(() => {\n    console.log(\"error during user initialization, deleting cookies...\")\n    logout(dispatch)\n  })\n\n  const theme = prefersDarkMode ? darkTheme : lightTheme\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <NavBar />\n      <Switch>\n        <Route exact path={Routes.HOME} component={Home} />\n        <Route path={Routes.PROFILE} component={Profile} />\n        <Route path={Routes.SIGNIN} component={SignIn} />\n        <Route path={Routes.SIGNUP} component={SignUp} />\n        <Route path={Routes.ITEM} component={ItemPage} />\n        <Route path={Routes.SIGNOUT} component={SignOut} />\n        <Route component={NotFound} />\n      </Switch>\n    </ThemeProvider>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App'\nimport { BrowserRouter } from 'react-router-dom'\nimport { AuthProvider } from './contexts/context'\n\nReactDOM.render(\n  <div>\n    <AuthProvider>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </AuthProvider>\n  </div>,\n  document.querySelector('#root')\n)\n"],"sourceRoot":""}